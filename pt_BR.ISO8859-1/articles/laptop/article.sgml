<!DOCTYPE article PUBLIC "-//FreeBSD//DTD DocBook V4.1-Based Extension//EN" [
<!ENTITY % man PUBLIC "-//FreeBSD//ENTITIES DocBook Manual Page Entities//EN">
%man;

<!ENTITY % freebsd PUBLIC "-//FreeBSD//ENTITIES DocBook Miscellaneous FreeBSD Entities//EN">
%freebsd;

<!ENTITY % authors PUBLIC "-//FreeBSD//ENTITIES DocBook Author Entities//EN">
%authors;

<!ENTITY % mailing-lists PUBLIC "-//FreeBSD//ENTITIES DocBook Mailing List Entities//EN">
%mailing-lists;

<!ENTITY % trademarks PUBLIC "-//FreeBSD//ENTITIES DocBook Trademark Entities//EN">
%trademarks;
]>

<article>
  <articleinfo>
    <title>FreeBSD em Laptops</title>

    <pubdate>$FreeBSD: doc/en_US.ISO8859-1/articles/laptop/article.sgml,v 1.19 2003/09/14 11:29:06 simon Exp $</pubdate>

    <abstract>
      <para>FreeBSD trabalha bem em muitos laptops, com algumas
        advertências. Algumas questões específicas para rodar o
	&os; em laptops, relacionando diferentes requerimentos de
	hardwares de desktops, são discutidos abaixo.</para>
    </abstract>

    <legalnotice id="trademarks" role="trademarks">
      &tm-attrib.freebsd;
      &tm-attrib.linux;
      &tm-attrib.microsoft;
      &tm-attrib.xfree86;
      &tm-attrib.general;
    </legalnotice>
  </articleinfo>

    <para>FreeBSD é frequentemente utilizado como um sistema
      operacional para servidores, mas ele também trabalha bem em
      desktops, e se você quiser utilizá-lo em seu laptop você também
      poderá aproveitar todos os benefícios usuais: layout sistemático
      , de fácil administração e upgrading, sistema ports/packages
      para adicionar software, e mais.  (Outros benefícios,
      como estabilidade, performance de rede, e performance dentro
      de um carregamento pesado, podem não ser tão óbvio em um laptop,
      claro.) Entretanto, instalando isto em laptops geralmente
      involvem problemas nos quais não são encontrados em máquinas
      desktop e não são comunmente discutidos (laptops, even more
      than desktops, are fine-tuned para &microsoft.windows;).  Este
      artigo aponta para discutir mais dessas questões.  Muitas
      pessoas têm também documentado suas experiências com &os;
      em modelos específicos de laptop em páginas da web na qual
      não fazem parte da documentação do &os;.  Você pode muito bem
      achar mais informações se digitar o nome do modelo do seu laptop
      e a palavra <quote>&os;</quote> num mecanismo de busca de sua
      escolha.  Adicionalmente, este é um específico banco-de-dados
      on-line do &os; na qual aponta para pegar informações de
      edições do hardware com laptops,
      <ulink url="http://gerda.univie.ac.at/freebsd-laptops/">
      A lista de Compatibilidade de Laptop do FreeBSD</ulink>

    <para>Para comunicação com outros usuários do &os; em laptop ,
      verifique a lista &a.mobile.name;.</para>

  <sect1>
    <title>&xfree86;</title>

    <para>Versões recentes do <application>&xfree86;</application>
      trabalham com muitos adaptadores gráficos disponíveis em
      laptops nos dias de hoje. A aceleração pode não ser suportada,
      mas uma configuração genérica SVGA deve trabalhar.<para>

    <para>Verifique a documentação do seu laptop para a placa
      que você possui e verifique na documentação do
      <application>&xfree86;</application> ou na página <ulink
      url="http://www.xfree86.org/current/Status.html">Status de
      Drives para &xfree86;</ulink> para ver se ela é especificamente
      suportada.  Se não, use um dispositivo genérico (não vá para um
      nome que apenas lhe pareça similar).  No <application>&xfree86;
      </application> versão 4, você pode tentar sua sorte
      com o comando <userinput>XFree86 -configure</userinput>
      que auto-detecta várias configurações.</para>

    <para>O problema geralmente é a configuração do monitor.  Recursos
      comuns para <application>&xfree86;</application> têm seu foco
      em monitores CRT; getting a suitable modeline for an LCD display
      pode ser tricky.  Você pode estar com sorte e não necessitar
      especificar um modeline, ou somente necessitar especificar
      suitable <literal>HorizSync</literal> e <literal>VertRefresh
      </literal> ranges.  Se isso não trabalha, a melhor opção é
      verificar os recursos da web destinados à configuração do X
      em laptops (esses são frequentemente sites orientados para Linux
      mas isso não faz diferença porque ambos usam <application>
      &xfree86;</application>) e copie um modeline postado por alguém
      para o hardware similar.</para>

    <para>Muitos laptops vêm com dois butões nos seus pointing
      dispositivo, no qual  é um pouco problemático no X (desde que o
      botão do meio seja comunmente usado para colar texto); você pode
      mapear um clique com o botão esquerdo-direito simultâneo na
      configuração do seu X para para servir como um clique do botão
      do meio com a linha</para>

    <programlisting>
      Option "Emulate3Buttons"
    </programlisting>

    <para>in the <filename>XF86Config</filename> file in the <literal>InputDevice</literal>
      section (for <application>&xfree86;</application> versão 4; para versão 3, put just the line
      <literal>Emulate3Buttons</literal>, without the quotes, in the
      <literal>Pointer</literal> section.)</para>
  </sect1>

  <sect1>
    <title>Modems</title>
    <para>
      Laptops normalmente vêm com modems internos (on-board).
      Unfortunately, this almost always means they are
      <quote>winmodems</quote> whose
      funcionalidades são implementadas no software, para qual
      somente os drives &windows; estão normalmente disponível
      (though a few drivers estão sendo mostrados para outros sistemas
      operacionais; por exemplo, se o seu modem tem um Lucent LT
      chipsep ele pode ser suportado pelo port<filename
      role="package">comms/ltmdm</filename>.) Se este é o caso,
      você necessita comprar um modem externo: a opção mais compacta
      é provavelmente um modem PC Card (PCMCIA), discutido abaixo, mas
      modems seriais ou USB podem ser cheaper.  Geralmente, modems
      normais (não-winmodems) devem trabalhar bem.
</para>

  </sect1>

  <sect1>
    <title>Dispositivos PCMCIA (PC Card)</title>

    <para>Muitos laptops vêm com slots PCMCIA (também chamado PC Card)
      ; estes são bem suportados dentro do FreeBSD.  Olhe através
      das suas menssagens de boot-up (usando &man.dmesg.8;) e veja
      se esses foram detectados corretamente (eles devem aparecer como
      <devicename>pccard0</devicename>,
      <devicename>pccard1</devicename> etc on devices like
      <devicename>pcic0</devicename>).</para>

    <para>&os;&nbsp;4.X suporta cartões PCMCIA 16-bit e
      &os;&nbsp;5.X suporta ambos os cartões, 16-bit e 32-bit
      (<quote>CardBus</quote>).   O banco-de-dados sobre cartões
      suportados está no arquivo <filename>/etc/defaults/pccard.conf
      </filename>. Olhe através disso, e de preferência compre cartões
      listados nele.  cartões não listados podem também trabalhar como
      como dispositivos <quote>genéricos</quote>: em particular muitos
      modems (16-bit) devem trabalhar bem, se ele não for um winmodem
      (these do exist even as PC Cards, so watch out). Se o seu for
      reconhecido como um modem genérico, note que o arquivo padrão
      <filename>pccard.conf</filename> especifica um tempo delay de
      10 segundos (to avoid freezes on certain modems); isto pode ser
      uma précaução para o seu modem, então você pode querer to play
      with it, reduzindo isso ou removendo isso totalmente.</para>

    <para>Algumas partes do <filename>pccard.conf</filename> podem ser
      editadas.  Verifique a linha irq, e seja sure para remover
      qualquer número atualmente sendo usado: em particular, se você
      tem um cartão de som on-board, remova a irq 5 (otherwise
      you may experience hangs quando você inserir o cartão).
      Verifique também o cartão de memória disponível;  se seus
      valores do cartão não estão sendo detectados, tente alterar isso
      para um dos outros valores(listados na página de manual
      &man.pccardc.8;).
    </para>

    <para>Se isto não está rodando atualmente, inicie o daemon
      &man.pccardd.8;. (Para habilitar isso em tempo de bootno
      , adicione <programlisting>pccard_enable="YES"</programlisting>
      para o <filename>/etc/rc.conf</filename>.)  Agora seu cartão
      deve ser detectadp quando você inserir ou removê-lo, e você
      deve pegar o log de menssagens sobre novos dispositivos sendo
      habilitados.</para>

    <para>There have been major changes para o pccard code
      (incluindo ISA routing of interrupts, para máquinas onde o
      &os; não é capaz de usar a BIOS PCI) antes o &os;&nbsp;4.4
      release.  Se você tiver problemas, tente atualizar o seu
      sistema.</para>

  </sect1>

  <sect1>

    <title>Gerenciamento de energia</title>

    <para>Unfortunately, isto não é muito reliably suportado dentro
      FreeBSD.  Se você está com sorte, muitas funções podem trabalhar
      reliably; ou elas podem naõ trabalhar no todo.</para>

    <para>Para tornar as coisas um pouco mais complexas, there
      are two existing standards para o gerenciamento de energia:
      APM e ACPI, o latter superseding the former and including more
      features, mas também introduzindo mais problemas.</para>

    <para>Muitos laptops suportam ambos APM e ACPI (to a certain
      degree), outros somente suportam um deles, então as chances que
      você tem para experimentar with both of them to have reliable
      power management no seu laptop.</para>

    <note>
      <para>Você não pode ter APM e ACPI habilitados ao mesmo tempo,
        mesmo se o seu laptop tenha suporte para ambos eles.</para>
    </note>

    <sect2>
      <title>APM</title>

      <para>A BIOS APM (Gerenciamento de Energia Avaçado) providencia
        suporte para vários gerenciamento de energia features como
	standby, suspend, hibernação, CPU clock slow down etc.
	e está disponível dentro do &os;&nbsp;4.X and &os;&nbsp;5.X.
	</para>

      <para>Para habilitar o suporte APM, você pode compilar um kernel
        com suporte ao gerenciamento de energia (<literal>device apm0
	</literal> on &os;&nbsp;4.X e <literal>device apm</literal> no
	&os;&nbsp;5.X).  Um múdulo do kernel para APM está disponível
	dentro &os;&nbsp;5.X, para simplificar o  carregamento do
	kernel APM no booot adicionando a linha <literal>apm_load="YES"
	</literal> para <filename>/boot/loader.conf</filename>.</para>

      <para>No &os;&nbsp;5.X, você também pode setar
	<literal>hint.apm.0.disabled="0"</literal> no
	<filename>/boot/device.hints</filename>.</para>

      <para>Você pode iniciar o APM em tempo de boot tendo
	<literal>apm_enable="YES"</literal> no
	<filename>/etc/rc.conf</filename>.  Você pode também querer
	iniciar o deamon &man.apmd.8; adicionando <literal>
	apmd_enable="YES"</literal> para o arquivo <filename>
	/etc/rc.conf</filename>, which takes care of
	vários eventos APM que são postados para a BIOS, então você
	pode ter seu laptop suspend/resume by pressionando algumas
	funções chave no teclado ou by fechando/abrindo o lid.</para>

      <para>Os comandos APM estão listados na página de manual
        &man.apm.8;. For instance, <command>apm -b</command>
	gives você o status da bateria. (ou 255 se não suportado),
	<command>apm -Z</command> coloca o laptop em standby,
	<command>apm -z</command> (ou <command>zzz</command>)
	suspende isso.  Pata reiniciar e desligar a máquina
	, use o comando <command>shutdown -p</command>.  Agora,
	algumas ou todas estas funções podem não trabalhar muito bem
	or at all.</para>

      <para>Você pode achar que laptop suspension/standby trabalha no
        modo console mais não dentro do X (that is, the screen does
	not come on again); se você está rodando &os;&nbsp;5.X, uma
	solução para isto pode ser colocar <literal>options
	SC_NO_SUSPEND_VTYSWITCH</literal> no arquivo de configuração
	do kernel e recompilar o mesmo. Another workaround is to
	trocar para um console virtual (usando <keycombo action=
	"simul"> <keycap>Ctrl</keycap><keycap>Alt</keycap><keycap>F1
	</keycap></keycombo> ou outra função chave) e ele executa
	&man.apm.8;. Você pode automatizar isto com &man.vidcontrol.1;,
	se você está rodando &man.apmd.8;.  Simply edite
	<filename>/etc/apmd.conf</filename> e altere isso para:</para>

      <programlisting>apm_event SUSPENDREQ {
 exec "vidcontrol -s 1 &lt; /dev/console";
 exec "/etc/rc.suspend";
}

apm_event USERSUSPENDREQ {
 exec "vidcontrol -s 1 &lt; /dev/console";
 exec "sync && sync && sync";
 exec "sleep 1";
 exec "apm -z";
}

apm_event NORMRESUME, STANDBYRESUME {
 exec "/etc/rc.resume";
 exec "vidcontrol -s 9 &lt; /dev/console";
}</programlisting>
    </sect2>

    <sect2>
      <title>ACPI</title>

      <para>ACPI (Configuração Avançada e Interface de Gerenciamento
        de Energia) provides não somente gerenciamento de energia mas
	também platform hardware discovery (superseding PnP and PCI
	BIOS). ACPI somente é disponível dentro do &os;&nbsp;5.X e
	é habilitado por padrão, então você não precisa fazer nenhuma
	coisa em especial para ter isso rodando.  Você pode controlar
	ACPI behaviour com &man.acpiconf.8;.</para>

      <para>Unfortunately, vendors often ship seus laptops com
	implementações broken ACPI, thus having ACPI enabled
	sometimes causa mais problemas than being useful, up to the
	point that you cannot even boot o &os; em algumas máquinas com
	APCI habilitado.</para>

      <para>Se ACPI está causando problemas, você pode verificar se o
        seu laptop vendor tem lançado uma nova versão da BIOS que fixa
	alguns bugs.  Desde o &os; a implementação ACPI está ainda
	envolvendo muito código, você pode também querer atualizar seu
	sistema; existem chances do seu problema ser fixado.</para>

      <para>Se você quiser desabilitar ACPI simplismente adicione
	<literal>hint.acpi.0.disabled="1"</literal> para o arquivo
	<filename>/boot/device.hints</filename>.  Você pode
	desabilitar ACPI temporariamente no prompt do carregamento do
	boot by issueing <literal>unset acpi_load</literal> se você
	está tendo problemas bootando uma máquina com ACPI habilitado.
	&os;&nbsp;5.1-RELEASE e depois vêm com um menu boot-time
	que controla como o &os; está bootando.  Uma das opções
	propostas e desligar o ACPI.  Então para desabilitar
	o ACPI selecione <guimenuitem>2.  Boot &os; with ACPI
	disabled</guimenuitem> no menu.</para>
    </sect2>

    <sect2>
      <title>Display de Gerenciamento de Energia</title>

    <para>O sistema X window (<application>&xfree86;</application>) tamb&eacute;m inclui um display de
      gerenciamento de energia (olhe na p&aacute;gina do manual &man.xset.1;, e procure por
      <quote>dpms</quote> nele).  Voc&ecirc; pode querer invertigar isso.  Entretanto,isso
      tamb&eacute;m trabalha inconsistentemente em laptops: isso
      geramlente desliga o display mas n&atilde;o desliga o
      backlight.</para>
    </sect2>

  </sect1>
</article>
