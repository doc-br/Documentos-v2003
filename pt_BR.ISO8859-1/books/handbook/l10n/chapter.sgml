<!--
     The FreeBSD Documentation Project

     $FreeBSD: doc/en_US.ISO8859-1/books/handbook/l10n/chapter.sgml,v 1.93 2003/08/31 22:15:27 simon Exp $
-->

<chapter id="l10n">
  <chapterinfo>
    <authorgroup>
      <author>
	<firstname>Andrey A.</firstname>
	<surname>Chernov</surname>
	<contrib>Contribu&iacute;do por </contrib>
      </author>
    </authorgroup>
    <authorgroup>
      <author>
	<firstname>Michael C.</firstname>
	<surname>Wu</surname>
	<contrib>Reescrito por </contrib>
      </author>
      <!-- 30 Nv 2000 -->
    </authorgroup>
  </chapterinfo>

  <title>Localiza&ccedil;&atilde;o - I18N/L10N Uso e Configura&ccedil;&atilde;o</title>

  <sect1 id="l10n-synopsis">
    <title>Sin&oacute;pse</title>

    <para>O FreeBSD &eacute; um projeto bastante distribu&iacute;do com usu&aacute;rios
      e contribuidores localizados por todo o mundo.  Este cap&iacute;tulo discute
      caracter&iacute;sticas da internacionaliza&ccedil;&atilde;o e localiza&ccedil;&atilde;o do FreeBSD que
      permitem usu&aacute;rios que n&atilde;o falam ingl&ecirc;s conhe&ccedil;am o real trabalho feito.  
      H&aacute; muitos aspectos da implementa&ccedil;&atilde;o do i18n nos n&iacute;veis de aplica&ccedil;&atilde;o 
      e sistema, ent&atilde;o onde aplic&aacute;vel nos recomendamos o leitor
      as fontes de documenta&ccedil;&atilde;o mais espec&iacute;fica.</para>

    <para>Depois de ler esse cap&iacute;tulo, voc&ecirc; ira saber:</para>
    <itemizedlist>
      <listitem><para>Como linguagens diferentes e locales s&atilde;o codificados
      em sistemas operacionais modernos.</para></listitem>
      <listitem><para>Como configurar o locale para a shell 
      do seu login.</para></listitem>
      <listitem><para>Como configurar seu console para linguagens
      que n&atilde;o seja o ingl&ecirc;s.</para></listitem>
      <listitem><para>Como usar efetivamenteo  X Windows com uma linguagem
      diferente.</para></listitem>
      <listitem><para>Onde encontrar mais informa&ccedil;&otilde;es sobre escrita
      de aplica&ccedil;&otilde;es i18n-compliant applications.</para></listitem>
   </itemizedlist>

    <para>Antes de ler este cap&iacute;tulo, voc&ecirc; deve:</para>

    <itemizedlist>
      <listitem><para>Saber como instalar aplicativos adicionais de
        terceiros (<xref linkend="ports">).</para></listitem>
    </itemizedlist>
  </sect1>

  <sect1 id="l10n-basics">
    <title>O B&aacute;sico</title>

    <sect2>
      <title>O que &eacute; I18N/L10N?</title>
    <indexterm><primary>internationalization</primary></indexterm> 
    <indexterm><primary>localization</primary></indexterm> 

      <para>Desenvolvedores encurtaram a palavra <quote>internationalization</quote> no termo I18N,
	contando o n&uacute;mero de letras entre a primeira e a &uacute;ltima
	letra de <quote>internationalization</quote>.  L10N usa o mesmo
	esquema, vindo de <quote>localization</quote>.  Combinados
	juntos, os m&eacute;todos I18N/L10N, protocolos, e aplica&ccedil;&otilde;es permitem 
	os us&aacute;rios usar linguagens de sua escolha.</para>

      <para>As aplica&ccedil;&otilde;es I18N s&atilde;o programadas usando kits I18N sob
	bibliotecas.  Isto permite aos desenvolvedores escrever um arquivo simples e
	traduzir menus e textos expostos para cada linguagem.  N&oacute;s incentivamos
	fortemente programadores a seguir essa conven&ccedil;&atilde;o.</para>
    </sect2>

    <sect2>
      <title>Por que eu devo usar I18N/L10N?</title>

      <para>I18N/L10N &eacute; usado sempre quando voc&ecirc; quiser visualizar a entrada, ou
	dados do processo em l&iacute;nguas n&atilde;o inglesas.</para>
    </sect2>

    <sect2>
      <title>Quais linguagens s&atilde;o suportadas no esfor&ccedil;o do I18N?</title>

      <para>O I18N e o L10N n&atilde;o s&atilde;o espec&iacute;ficos do FreeBSD.  Atualmente, pode ser
	escolhido uma das principais l&iacute;nguas do mundo, inclu&iacute;ndo
	mas n&atilde;o limitada a:  Chin&ecirc;s, Alem&atilde;o, Japon&ecirc;s, Coreano, Franc&ecirc;s,
	Russo, Vietinamita, Portugu&ecirc;s do Brasil e outras.</para>
    </sect2>
  </sect1>

  <sect1 id="using-localization">
    <title>Usando a localiza&ccedil;&atilde;o</title>

    <para>Em todo seu esplendor, I18N n&atilde;o &eacute; espec&iacute;fico ao FreeBSD e &eacute; uma
      conven&ccedil;&atilde;o.  N&oacute;s incentivamos voc&ecirc; a ajudar a serguir esta
      conven&ccedil;&atilde;o.</para>
    <indexterm><primary>locale</primary></indexterm>

    <para>Configura&ccedil;&otilde;es de localiza&ccedil;&atilde;o s&atilde;o baseadas em tr&ecirc;s termos principais:
      C&oacute;digo de l&iacute;ngua, C&oacute;digo de pa&iacute;s, e Codifica&ccedil;&atilde;o.  Nomes de locale s&atilde;o
      constru&iacute;dos a partir dessas partes que seguem:</para>

    <programlisting><replaceable>LanguageCode</replaceable>_<replaceable>CountryCode</replaceable>.<replaceable>Encoding</replaceable></programlisting>

    <sect2>
      <title>C&oacute;digos de l&iacute;ngua e pa&iacute;s</title>
      <indexterm><primary>c&oacute;digos de l&iacute;nguas</primary></indexterm>
      <indexterm><primary>c&oacute;digos de pa&iacute;ses</primary></indexterm>

      <para>A fim do sistema FreeBSD localizar l&iacute;nguas espec&iacute;ficas
	(ou qualquer outra suportada  no I18N em sistemas &unix; like), o usu&aacute;rio precisa procurar pelos
	c&oacute;digos para pa&iacute;s e l&iacute;ngua espec&iacute;ficos (c&oacute;digos de
	pa&iacute;s fala para a aplica&ccedil;&atilde;o que varia&ccedil;&atilde;o de 
	l&iacute;ngua deve ser usada).  E tamb&eacute;m, navegadores
	web, servidores SMTP/POP, servidores web, etc. Fa&ccedil;a decis&otilde;es baseada
	nelas.  Os seguintes exemplos s&atilde;o de c&oacute;digos de l&iacute;ngua/pa&iacute;s:</para>

      <informaltable frame="none">
	<tgroup cols="2">
	  <thead>
	    <row>
	      <entry>C&oacute;digo de L&iacute;ngua/Pa&iacute;s</entry>
	      <entry>Descri&ccedil;&atilde;o</entry>
	    </row>
	  </thead>

	  <tbody>
	    <row>
	      <entry>en_US</entry>
	      <entry>Ingl&ecirc;s - Estados Unidos</entry>
	    </row>

	    <row>
	      <entry>ru_RU</entry>
	      <entry>Russo para R&uacute;ssia</entry>
	    </row>

	    <row>
	      <entry>zh_TW</entry>
	      <entry>Tradicional Chin&ecirc;s para Taiwan</entry>
	    </row>
	  </tbody>
	</tgroup>
      </informaltable>

    </sect2>

    <sect2>
      <title>Codifica&ccedil;&otilde;es</title>
      <indexterm><primary>codifica&ccedil;&otilde;es</primary></indexterm>
      <indexterm><primary>ASCII</primary></indexterm>

      <para>Algumas l&iacute;nguas usam codifica&ccedil;&otilde;es n&atilde;o-ASCII que s&atilde;o 8-bit, caracteres
	wide ou multibyte, veja &man.multibyte.3; para mais
	detalhes. Aplica&ccedil;&otilde;es mais velhas n&atilde;o os reconhecem
	e os confundem por caracteres de controle.  Aplica&ccedil;&otilde;es mais novas
	geralmente reconhecem caracteres 8-bit.  Dependendo da 
	implementa&ccedil;&atilde;o, usu&aacute;rios podem necessitar compilar a aplica&ccedil;&atilde;o
	com suporte a caracteres wide ou multibyte, ou configura-lo corretamente.
	Para poder entrar e processar caracteres wide ou multibyte, a <ulink 
	url="../../../../ports/index.html">Cole&ccedil;&atilde;o de Ports do FreeBSD</ulink> fornece
	cada l&iacute;ngua com programas diferentes.  Consulte a documenta&ccedil;&atilde;o do I18N
	no respectivo port do FreeBSD.</para>

      <para>Especialmente, o usu&aacute;rio deve olhar a documenta&ccedil;&atilde;o
	da aplica&ccedil;&atilde;o para decidir como configura-la corretamente ou
	para passar valores corretos ao configure/Makefile/compilador.</para>

      <para>Algumas coisas que voc&ecirc; deve ter sempre em mente s&atilde;o:</para>

      <itemizedlist>
	<listitem>
	  <para>Conjunto de caracteres &uacute;nicos da linguagem C
	  (veja &man.multibyte.3;), ex.,
	    ISO-8859-1, ISO-8859-15, KOI8-R, CP437.</para>
	</listitem>

	<listitem>
	  <para>Codifica&ccedil;&otilde;es Wide ou multibyte, ex. EUC, Big5.</para>
	</listitem>
      </itemizedlist>

      <para>Voc&ecirc; pode verificar a lista ativa de caracteres configurados em
	<ulink
	url="http://www.iana.org/assignments/character-sets">IANA Registry</ulink>.</para>

      <note>
      <para>As vers&otilde;es do FreeBSD 4.5 e acima usam prefrivelmente codifica&ccedil;&otilde;es
	do locale X11-compat&iacute;vel.</para>
      </note>

    </sect2>

    <sect2>
      <title>Aplica&ccedil;&otilde;es I18N</title>

      <para>No sistema de Ports e Pacotes do FreeBSD, aplica&ccedil;&otilde;es I18N
	s&atilde;o nomeadas com <literal>I18N</literal> em seus nomes para
	f&aacute;cil identifica&ccedil;&atilde;o.  Entretanto, elas nem sempre suportam a
	l&iacute;ngua necessitada.</para>
    </sect2>

    <sect2 id="setting-locale">
      <title>Configurando Locale</title>

      <para>Geralmente &eacute; suficiente exportar o valor do nome do locale
        como <envar>LANG</envar> no login da shell.  Isto deve ser feito no
	arquivo <filename>~/.login_conf</filename> dos usu&aacute;rios ou no
	arquivo de inicializa&ccedil;&atilde;o dos usu&aacute;rios da shell em (<filename>~/.profile</filename>,
	<filename>~/.bashrc</filename>, <filename>~/.cshrc</filename>).
	N&atilde;o &eacute; necess&aacute;rio configurar subconjuntos do locale subsets como o
	<envar>LC_CTYPE</envar>, <envar>LC_CTIME</envar>.  Por favor 
	consulte a documenta&ccedil;&atilde;o do FreeBSD sobre l&iacute;nguas-espec&iacute;ficas para mais
	informa&ccedil;&otilde;es.</para>

      <para>Voc&ecirc; deve configurar as duas seguintes vari&aacute;veis de ambiente em seus arquivos
	de configura&ccedil;&atilde;o:</para>

      <itemizedlist>
        <indexterm><primary>POSIX</primary></indexterm>
        <listitem>
	  <para><envar>LANG</envar> para fun&ccedil;&otilde;es da fam&iacute;lia &posix; &man.setlocale.3;</para>
	</listitem>

        <indexterm><primary>MIME</primary></indexterm>
	<listitem>
	  <para><envar>MM_CHARSET</envar> para configurar caracteres MIME 
	    em aplica&ccedil;&otilde;es.</para>
	</listitem>
      </itemizedlist>

      <para>Isto inclui a configura&ccedil;&atilde;o shell do usu&aacute;rio, a configura&ccedil;&atilde;o espec&iacute;fica de
        aplica&ccedil;&atilde;o, e configura&ccedil;&atilde;o do X11.</para>

      <sect3>
	<title>Configurando m&eacute;todos de Locale</title>
        <indexterm><primary>locale</primary></indexterm>
        <indexterm><primary>login class</primary></indexterm>

	<para>H&aacute; dois m&eacute;todos para configurar o locale, e ambos est&atilde;o
	  descritos abaixo.  O primeiro (recomendado) &eacute; atribu&iacute;ndo
	  as vari&aacute;veis de ambiente em <link linkend="login-class">classe de
	  login</link>, e o segundo &eacute; adicionando as atribui&ccedil;&otilde;es da vari&aacute;vel
	  de ambiente ao <link linkend="startup-file">arquivo de inicializa&ccedil;&atilde;o</link>
          do sistema shell.</para>

	<sect4 id="login-class">
	  <title>M&eacute;todo de classes de login</title>

	  <para>Este m&eacute;todo permite as vari&aacute;veis de ambientes necess&aacute;rias para o nome 
	    do locale e o caracter do MIME  ser atribu&iacute;do uma vez para cada shell
	    em vez de adicionar atribui&ccedil;&otilde;es espec&iacute;ficas da shell
	    para cada arquivo de inicializa&ccedil;&atilde;o.  <link linkend="usr-setup">Configura&ccedil;&atilde;o
	    a n&iacute;vel de usu&aacute;rio</link> pode ser feita pelo pr&oacute;prio usu&aacute;rio e <link
	    linkend="adm-setup">configura&ccedil;&atilde;o a n&iacute;vel de administrador</link> requer
	    privil&eacute;gios de super usu&aacute;rio.</para>

	  <sect5 id="usr-setup">
	    <title>Configura&ccedil;&atilde;o a n&iacute;vel de usu&aacute;rio</title>

	    <para>Aqui est&aacute; um pequeno exemplo do arquivo
	      <filename>.login_conf</filename> no diret&oacute;rio home
	      do usu&aacute;rio que tem ambas as vari&aacute;veis de
	      codifica&ccedil;&atilde;o para Latin-1:</para>

	    <programlisting>me:\
	:charset=ISO-8859-1:\
	:lang=de_DE.ISO8859-1:</programlisting>

	    <indexterm><primary>Chin&ecirc;s tradicional</primary><secondary>codifica&ccedil;&atilde;o BIG-5</secondary></indexterm>
	    <para>Aqui est&aacute; um exemplo do
	       <filename>.login_conf</filename> com vari&aacute;veis configuradas 
	       para o chin&ecirc;s tradicional em codifica&ccedil;&atilde;o BIG-5.  Observe que h&aacute;
	       muito mais vari&aacute;veis configuradas porque alguns programas n&atilde;o respeitam
	       as vari&aacute;veis do locale corretamente para Chin&ecirc;s, Japon&ecirc;s, e Coreano.</para>

	    <programlisting>#Us&aacute;rios que n&atilde;o desejam usar unidades monet&aacute;rias ou formato de hora
#de Taiwan podem manualmente mudar cada vari&aacute;vel
me:\
	lang=zh_TW.Big5:\
	lc_all=zh_TW.Big:\
	lc_collate=zh_TW.Big5:\ 
	lc_ctype=zh_TW.Big5:\
	lc_messages=zh_TW.Big5:\
	lc_monetary=zh_TW.Big5:\
	lc_numeric=zh_TW.Big5:\
	lc_time=zh_TW.Big5:\
	charset=big5:\
	xmodifiers="@im=xcin": #Setting the XIM Input Server</programlisting> 

	    <para>Veja <link linkend="adm-setup">Configura&ccedil;&atilde;o a n&iacute;vel
	      de administrador</link> e &man.login.conf.5; para mais detalhes.</para>
	  </sect5>

	  <sect5 id="adm-setup">
	    <title>Configura&ccedil;&atilde;o a n&iacute;vel de administrador</title>

	    <para>Verifique que a classe do login do usu&aacute;rio em
	      <filename>/etc/login.conf</filename> configura a l&iacute;ngua
	      correta.  Certifique-se que estas configura&ccedil;&otilde;es
	      aparecem no <filename>/etc/login.conf</filename>:</para>

	    <programlisting><replaceable>nome__da_l&iacute;ngua</replaceable>:<replaceable>t&iacute;tulo_da_conta</replaceable>:\
	:charset=<replaceable>MIME_charset</replaceable>:\
	:lang=<replaceable>nome_do_locale</replaceable>:\
	:tc=default:</programlisting>

	    <para>Ent&atilde;o baseando em nosso exemplo anterior usando Latin-1, isto
	      deveria ficar assim:</para>

	    <programlisting>german:Conta de usu&aacute;rios alem&atilde;es:\
	:charset=ISO-8859-1:\
	:lang=de_DE.ISO8859-1:\
	:tc=default:</programlisting>

	    <bridgehead renderas=sect4>Modificando classes de login com o &man.vipw.8;</bridgehead>

	    <indexterm>
        <primary><command>vipw</command></primary>
      </indexterm>
	    <para>Use o <command>vipw</command> para adicionar novos usu&aacute;rios, e veja
	      que foi criado uma entrada como esta:</para>

	    <programlisting>usu&aacute;rio:senha:1111:11:<replaceable>l&iacute;ngua</replaceable>:0:0:Nome do usu&aacute;rio:/home/usu&aacute;rio:/bin/sh</programlisting>

	    <bridgehead renderas=sect4>Modificando claases de login com o &man.adduser.8;</bridgehead>

	    <indexterm>
        <primary><command>adduser</command></primary>
      </indexterm>
	    <indexterm><primary>classes de login</primary></indexterm>
	    <para>Use o <command>adduser</command> para adicionar novos usu&aacute;rios, e fa&ccedil;a
	      o seguinte:</para>

	    <itemizedlist>
	      <listitem>
		<para>Configure <literal>defaultclass =
		  <replaceable>l&iacute;ngua</replaceable></literal> em
		  <filename>/etc/adduser.conf</filename>.  Mantenha em mente
		  que voc&ecirc; deve colocar uma classe <literal>padr&atilde;o</literal> para
		  todos usu&aacute;rios de outras l&iacute;nguas neste caso.</para>
	      </listitem>

	      <listitem>
		<para>Um variante alternativo &eacute; respondendo a l&iacute;ngua espec&iacute;fica
		  cada vez 
<screen><prompt>Enter login class: default []: </prompt></screen>
		  aparece no &man.adduser.8;.</para>
	      </listitem>

	      <listitem>
		<para>Outra alternativa &eacute; usar o seguinte para cada
		  usu&aacute;rio de l&iacute;ngua diferente que voc&ecirc; deseja
		  adicionar:</para>

		<screen>&prompt.root; <userinput>adduser -class <replaceable>l&iacute;ngua</replaceable></userinput></screen>
	      </listitem>
	    </itemizedlist>

	    <bridgehead renderas=sect4>Modificando classes de login com o &man.pw.8;</bridgehead>
	    <indexterm>
        <primary><command>pw</command></primary>
      </indexterm>
	    <para>Se voc&ecirc; usa o &man.pw.8; para adicionar novos usu&aacute;rios, rode-o 
	      dessa forma:</para>

	    <screen>&prompt.root; <userinput>pw useradd <replaceable>nome_do_usu&aacute;rio</replaceable> -L <replaceable>l&iacute;ngua</replaceable></userinput></screen>
	  </sect5>
	</sect4>

	<sect4 id="startup-file">
	  <title>M&eacute;todo do arquivo de inicializa&ccedil;&atilde;o da shell</title>

	  <note>
	    <para>Este m&eacute;todo n&atilde;o &eacute; recomendado porque ele requer
	      configura&ccedil;&otilde;es diferentes para cada poss&iacute;vel programa shell escolhido.  Use
	      o <link linkend="login-class">M&eacute;todo de classes de Login</link>
	      em vez disso.</para>
	  </note>

	  <indexterm><primary>MIME</primary></indexterm>
	  <indexterm><primary>locale</primary></indexterm>
	  <para>Para adicionar o nome do locale e a configura&ccedil;&atilde;o do caracter MIME, basta 
	    configurar duas vari&aacute;veis de ambiente mostradas abaixo nos arquivos de 
	    inicializa&ccedil;&atilde;o de shell <filename>/etc/profile</filename> e/ou
	    <filename>/etc/csh.login</filename>.  N&oacute;s
	    iremos usar a l&iacute;ngua alem&atilde; como exemplo abaixo:</para>

	  <para>In <filename>/etc/profile</filename>:</para>

	  <programlisting><envar>LANG=de_DE.ISO8859-1; export LANG</envar>
<envar>MM_CHARSET=ISO-8859-1; export MM_CHARSET</envar></programlisting>

	  <para>Ou em <filename>/etc/csh.login</filename>:</para>

	  <programlisting><envar>setenv LANG de_DE.ISO8859-1</envar>
<envar>setenv MM_CHARSET ISO-8859-1</envar></programlisting>

	  <para>Alternativamente, voc&ecirc; pode adicionar as instru&ccedil;&otilde;es acima ao
	    <filename>/usr/share/skel/dot.profile</filename> (similar ao
	    que foi usado acima no <filename>/etc/profile</filename>), ou
	    <filename>/usr/share/skel/dot.login</filename> (similar ao 
	    que foi usado acima no <filename>/etc/csh.login</filename>.</para>

	  <para>Para o X11:</para>

	  <para>No <filename>$HOME/.xinitrc</filename>:</para>

	  <programlisting><envar>LANG=de_DE.ISO8859-1; export LANG</envar></programlisting>

	  <para>Or:</para>

	  <programlisting><envar>setenv LANG de_DE.ISO8859-1</envar></programlisting>

	  <para>Dependendo de sua shell (veja acima).</para>

	</sect4>
      </sect3>
    </sect2>

    <sect2 id="setting-console">
      <title>Configura&ccedil;&atilde;o do Console</title>

      <para>Para todos os caracteres C chars configurados, configure as fontes
	corretas do console no <filename>/etc/rc.conf</filename> para a
	l&iacute;ngua em quest&atilde;o com:</para>

      <programlisting>font8x16=<replaceable>nome_da_fonte</replaceable>
font8x14=<replaceable>nome_da_fonte</replaceable>
font8x8=<replaceable>nome_da_fonte</replaceable></programlisting>

      <para>O <replaceable>nome_da_fonte</replaceable> aqui &eacute; pego do
        diret&oacute;rio <filename>/usr/share/syscons/fonts</filename>,
	sem o sufixo <filename>.fnt</filename>.</para>

      <indexterm>
        <primary><application>sysinstall</application></primary>
      </indexterm>
      <indexterm><primary>keymap</primary></indexterm>
      <indexterm><primary>screenmap</primary></indexterm>
      <para>Tamb&eacute;m tenha certeza de ter configurado corretamente o keymap e screenmap para o seu
	caracter C char &uacute;nico configurado atrav&eacute;s do
	<filename>/stand/sysinstall</filename>.
	Dentro do <application>sysinstall</application>, escolha <guimenuitem>Configure</guimenuitem>, depois
	<guimenuitem>Console</guimenuitem>.  Alternativamente, voc&ecirc; pode adicionar o
	seguinte ao <filename>/etc/rc.conf</filename>:</para>

      <programlisting>scrnmap=<replaceable>nome_da_screenmap</replaceable>
keymap=<replaceable>nome_da_keymap</replaceable>
keychange="<replaceable>sequ&ecirc;ncia de n&uacute;mero_fkey</replaceable>"</programlisting>
	
      <para>O <replaceable>screenmap_name</replaceable> aqui &eacute; pego
        do diret&oacute;rio <filename>/usr/share/syscons/scrnmaps</filename>,
	 sem o sufixo <filename>.scm</filename>.  O
	screenmap com a correspondente fonte mapeada &eacute; necess&aacute;ria como
	corre&ccedil;&atilde;o para expandir 8 bit para 9 bit em fontes de adaptadores VGA
	com matrix de caracteres em &aacute;rea de gr&aacute;ficos pseudos, ex. para mover letras
	fora da &aacute;rea se a fonte da tela usar uma coluna de 8 bit.</para>

      <para>Se voc&ecirc; tem o daemon <application>moused</application> 
	habilitado setando o seguinte
	em seu <filename>/etc/rc.conf</filename>:</para>

<programlisting>moused_enable="YES"</programlisting>

      <para>ent&atilde;o examina a informa&ccedil;&atilde;o do cursor do mouse no pr&oacute;ximo
	par&aacute;grafo.</para>

      <indexterm>
        <primary><application>moused</application></primary>
      </indexterm>
      <para>Por padr&atilde;o o cursor do mouse do driver &man.syscons.4; ocupa uma
	escala 0xd0-0xd3 na configura&ccedil;&atilde;o de caracter.  Se sua l&iacute;ngua usa esta
	escala, voc&ecirc; precisa mover a escala do cursor para fora dela.  Para habilitar
	a corre&ccedil;&atilde;o disso para vers&otilde;es do FreeBSD antes da 5.0, insira a seguinte linha
	em sua configura&ccedil;&atilde;o do kernel:</para>

      <programlisting>options		SC_MOUSE_CHAR=0x03</programlisting>

      <para>Para vers&otilde;es do FreeBSD 4.4 e acima, insira a seguinte linha
	no <filename>/etc/rc.conf</filename>:</para>

      <programlisting>mousechar_start=3</programlisting>

      <para>O <replaceable>nome_da_keymap</replaceable> aqui &eacute; pego do
        diret&oacute;rio <filename>/usr/share/syscons/keymaps</filename>,
	sem o sufixo <filename>.kbd</filename>.  Se voc&ecirc; n&atilde;o tem
	certeza que keymap usar, voc&ecirc; pode usar o &man.kbdmap.1; para testar
	keymaps sem rebootar.</para>

      <para>O <literal>keychange</literal> &eacute; normalmente necess&aacute;rio para teclas
        de fun&ccedil;&atilde;o de programas para achar o tipo de terminal selecionado porque
	as seq&uuml;&ecirc;ncias de teclas de fun&ccedil;&otilde;es n&atilde;o podem ser definidas no mapa de teclado.</para>

      <para>Esteja certo tamb&eacute;m de ter configurado corretamente o tipo de terminal
        de console em <filename>/etc/ttys</filename> para todas entradas <literal>ttyv*</literal>.  
	As correspond&ecirc;ncias pr&eacute; definidas atuais s&atilde;o:</para>

      <informaltable frame="none">
	<tgroup cols="2">
	  <thead>
	    <row>
	      <entry>Configura&ccedil;&atilde;o de caracter</entry>
	      <entry>Tipo de terminal</entry>
	    </row>
	  </thead>

	  <tbody>
	    <row>
	      <entry>ISO-8859-1 ou ISO-8859-15</entry>
	      <entry><literal>cons25l1</literal></entry>
	    </row>

	    <row>
	      <entry>ISO-8859-2</entry>
	      <entry><literal>cons25l2</literal></entry>
	    </row>

	    <row>
	      <entry>ISO-8859-7</entry>
	      <entry><literal>cons25l7</literal></entry>
	    </row>

	    <row>
	      <entry>KOI8-R</entry>
	      <entry><literal>cons25r</literal></entry>
	    </row>

	    <row>
	      <entry>KOI8-U</entry>
	      <entry><literal>cons25u</literal></entry>
	    </row>

	    <row>
	      <entry>CP437 (padr&atilde;o VGA)</entry>
	      <entry><literal>cons25</literal></entry>
	    </row>

	    <row>
	      <entry>US-ASCII</entry>
	      <entry><literal>cons25w</literal></entry>
	    </row>
	  </tbody>
	</tgroup>
      </informaltable>

      <para>Para l&iacute;nguas de caracteres wide ou multibyte, use o port
	do FreeBSD correto em seu diret&oacute;rio
	<filename>/usr/ports/<replaceable>l&iacute;ngua</replaceable></filename>.  
	Alguns ports aparecem como console enquanto o sistema os enxerga
	como uma vtty serial, daqui voc&ecirc; deve reservar bastante vtty's para o
	X11 e o console pseudo-serial.  Aqui est&aacute; a lista parcial de
	aplica&ccedil;&otilde;es para usar outras l&iacute;nguas no console:</para>

      <informaltable frame="none">
	<tgroup cols="2">
	  <thead>
	    <row>
	      <entry>L&iacute;ngua</entry>
	      <entry>Localiza&ccedil;&atilde;o</entry>
	    </row>
	  </thead>

	  <tbody>
	    <row>
	      <entry>Chin&ecirc;s tradicional(BIG-5)</entry>
	      <entry><filename role="package">chinese/big5con</filename></entry>
	    </row>

	    <row>
	      <entry>Japon&ecirc;s</entry>
	      <entry><filename role="package">japanese/ja-kon2-*</filename> or
	        <filename role="package">japanese/Mule_Wnn</filename></entry>
	    </row>

	    <row>
	      <entry>Coreano</entry>
	      <entry><filename role="package">korean/ko-han</filename></entry>
	    </row>
	  </tbody>
	</tgroup>
      </informaltable>
    </sect2>

    <sect2>
      <title>Configura&ccedil;&atilde;o do X11</title>

      <para>Embora o X11 n&atilde;o fa&ccedil;a parte do projeto FreeBSD, n&oacute;s 
	incl&iacute;mos alguma informa&ccedil;&atilde;o aqui para os usu&aacute;rios do FreeBSD.  Para mais
	detalhes, consulte o <ulink url="http://www.xfree86.org/">&xfree86;
	site web</ulink> ou qualquer servidor X11 que voc&ecirc; usa.</para>

      <para>No <filename>~/.Xresources</filename>, voc&ecirc; pode adicionalmente
	ajustar aplica&ccedil;&otilde;es espec&iacute;ficas a configura&ccedil;&atilde;o I18N (ex., fontes, menus,
	etc.).</para>

      <sect3>
	<title>Mostrando fontes</title>
	<indexterm><primary>O servidor X11 de fonte True Type</primary></indexterm>
	<para>Instale o servidor X11 &truetype; Common (<filename role="package">x11-servers/XttXF86srv-common</filename>) e
	  instale as fontes de l&iacute;ngua &truetype;.  Configurando o locale
	  correto, deve permitir voc&ecirc; visualizar sua l&iacute;ngua selecionada nos menus
	  e semelhantes.</para>
      </sect3>

      <sect3>
	<title>Colocando caract&eacute;res n&atilde;o-ingl&ecirc;s</title>
	<indexterm><primary>O m&eacute;todo de entrada do X11 (XIM)</primary></indexterm>
	<para>O protocolo de m&eacute;todo de entrada do X11 (XIM) &eacute; um padr&atilde;o novo para
	  todos clientes X11.  Todas aplica&ccedil;&otilde;es do X11 devem ser escritas como clientes
	  XIM que fazem entrada do servidor XIM.  H&aacute; diversos 
	  servidores XIM dispon&iacute;veis para diferentes l&iacute;nguas.</para>
      </sect3>
    </sect2>

    <sect2>
      <title>Configura&ccedil;&atilde;o de impressora</title>

      <para>Alguns caracteres C chars &uacute;nicos configurados s&atilde;o geralmente c&oacute;digos
	de hardware nas impressoras. Caracter wide ou multibyte
	configurados requerem configura&ccedil;&atilde;o especial e n&oacute;s recomendamos usar o
	<application>apsfilter</application>.  Voc&ecirc; pode tamb&eacute;m converter o
	documento para &postscript; ou formato PDF usando convertor de
	l&iacute;ngua espec&iacute;fica.</para>
    </sect2>

    <sect2>
      <title>Kernel e Sistema de arquivos</title>

      <para>O FreeBSD fast filesystem (FFS) &eacute; limpo 8-bit, ent&atilde;o ele pode ser usado
	com qualquer caracter &uacute;nico C chars configurado (veja &man.multibyte.3;),
	mas n&atilde;o h&aacute; nenhum nome de caracter
	configurado armazenado no sistema de arquivos; ex., &eacute; 8-bitcr&uacute; e n&atilde;o
	sabe nada sobre a ordem de codifica&ccedil;&atilde;o.  Oficialmente, o FFS n&atilde;o
	suporta nenhuma forma de caracteres wide ou multibyte configurados ainda.  Por&eacute;m, alguns
	caracteres wide ou multibyte tem configurados patches independentes para o FFS
	habilitando o suporte.  S&atilde;o somente solu&ccedil;&otilde;es import&aacute;veis
	provis&oacute;rias ou hacks e n&oacute;s decidimos n&atilde;o inclu&iacute;-las na
	&aacute;rvore de c&oacute;digo fonte.  Consulte web sites de l&iacute;nguas respectivas para mais
	informa&ccedil;&otilde;es e arquivos de patch.</para>

      <indexterm><primary>DOS</primary></indexterm>
      <indexterm><primary>Unicode</primary></indexterm>
      <para>O sistema de arquivos &ms-dos; do FreeBSD tem a habilidade configur&aacute;vel de
	converter-se entre o &ms-dos;, o caracter Unicode configurado e escolher a
	configura&ccedil;&atilde;o de caracter no sistema de arquivos do FreeBSD.  Veja &man.mount.msdos.8; para
	detalhes.</para>
    </sect2>
  </sect1>

  <sect1 id="l10n-compiling">
    <title>Compilando programas I18N</title>

    <para>Muitos dos ports do FreeBSD foram portados com o suporte a I18N.  Alguns
      deles s&atilde;o marcados com -I18N no nome do port.  Estes e muitos outros
      programas s&atilde;o compilados com suporte a I18N e n&atilde;o precisam de nenhuma
      considera&ccedil;&atilde;o especial.</para>

    <indexterm>
      <primary><application>MySQL</application></primary>
    </indexterm>
    <para>No entanto, algumas aplica&ccedil;&otilde;es como o
      <application>MySQL</application> precisam que o
      <filename>Makefile</filename> seja configurado com um espec&iacute;fico
      charset.  Isto normalmente &eacute; feito no
      <filename>Makefile</filename> ou &eacute; feito passando o valor para o
      <application>configure</application> no fonte.</para>
  </sect1>

  <sect1 id="lang-setup">	
    <title>Localizando o FreeBSD para l&iacute;nguas espec&iacute;ficas</title>

    <sect2 id="ru-localize">
      <sect2info>
	<authorgroup>
	  <author>
	    <firstname>Andrey A.</firstname>
	    <surname>Chernov</surname>
	    <contrib>Originalmente contribu&iacute;do por </contrib>
	  </author>
	</authorgroup>
      </sect2info>
      <title>L&iacute;ngua Russa (Codifica&ccedil;atilde;o KOI8-R)</title>
      <indexterm>
	<primary>localization</primary>
	<secondary>Russian</secondary>
      </indexterm>

      <para>Para mais informa&ccedil;&otilde;es sobre codifica&ccedil;&atilde;o KOI8-R , veja <ulink
	url="http://koi8.pp.ru/">Refer&ecirc;ncias do KOI8-R
	(Russian Net Character Set)</ulink>.</para>

      <sect3>
	<title>Configura&ccedil;&atilde;o do Locale</title>

	<para>Coloque as seguintes linhas em seu arquivo
	  <filename>~/.login_conf</filename>:</para>

	<programlisting>me:Minha conta:\
	:charset=KOI8-R:\
	:lang=ru_RU.KOI8-R:</programlisting>

	<para>Veja anteriormente nesse cap&iacute;tulo para exemplos de configura&ccedil;&atilde;o do
	  <link linkend="setting-locale">locale</link>.</para>
      </sect3>

      <sect3>
	<title>Configura&ccedil;&atilde;o do console</title>

	<itemizedlist>
	  <listitem>
	    <para>Para vers&otilde;es do FreeBSD antes da 5.0 adicione a seguinte linha
	      em seu arquivo de configura&ccedil;&atilde;o do kernel:</para>

	    <programlisting>options		SC_MOUSE_CHAR=0x03</programlisting>

	    <para>Para vers&otilde;es do FreeBSD 4.4 e acima, insira a seguinte
	      linha no<filename>/etc/rc.conf</filename>:</para>

	    <programlisting>mousechar_start=3</programlisting>
	  </listitem>

	  <listitem>
	    <para>Use a seguinte configura&ccedil;&atilde;o no
	      <filename>/etc/rc.conf</filename>:</para>

	    <programlisting>keymap="ru.koi8-r"
scrnmap="koi8-r2cp866"
font8x16="cp866b-8x16"
font8x14="cp866-8x14"
font8x8="cp866-8x8"</programlisting>

	  </listitem>

	  <listitem>
	    <para>Para cada entrada <literal>ttyv*</literal> no
	      <filename>/etc/ttys</filename>, use o
	      <literal>cons25r</literal> como tipo de terminal.</para>
	  </listitem>
	</itemizedlist>

	<para>Veja anteriormente neste cap&iacute;tulo exemplos de configura&ccedil;&atilde;o do
	  <link linkend="setting-console">console</link>.</para>
      </sect3>

      <sect3>
	<title>Configura&ccedil;&atilde;o de impressora</title>
	<indexterm><primary>impressoras</primary></indexterm>
	<para>Desde que a maioria das impressoras com caracteres russo vem com
	  a p&aacute;gina CP866 no c&oacute;digo de hardware, um filtro especial de sa&iacute;da &eacute; necess&aacute;rio
	  para converter de KOI8-R para CP866.  Tal filtro &eacute; instalado por
	  padr&atilde;o em <filename>/usr/libexec/lpr/ru/koi2alt</filename>.
	  Uma entrada da impressora Russa no <filename>/etc/printcap</filename>
	  deve ser assim:</para>

	<programlisting>lp|Linha local de impressora Russa:\
	:sh:of=/usr/libexec/lpr/ru/koi2alt:\
	:lp=/dev/lpt0:sd=/var/spool/output/lpd:lf=/var/log/lpd-errs:</programlisting>

	<para>Veja o &man.printcap.5; para uma descri&ccedil;&atilde;o detalhada.</para>
      </sect3>

      <sect3>
	<title>&ms-dos; FS e nome de arquivos Russos</title>

	<para>O seguinte exemplo de entrada do &man.fstab.5; habilita o suporte
	  para nomes de arquivos Russos montados em um sistema de arquivos do &ms-dos;:</para>

	<programlisting>/dev/ad0s2      /dos/c  msdos   rw,-Wkoi2dos,-Lru_RU.KOI8-R 0 0</programlisting>

	<para>A op&ccedil;&atilde;o <option>-L</option> seleciona o nome local
	  usado, e o <option>-W</option> configura a convers&atilde;o da tabela de
	  caracter.  Para usar a op&ccedil;&atilde;o <option>-W</option>, certifique-se de
	  montar o <filename>/usr</filename> antes da parti&ccedil;&atilde;o &ms-dos;
	  porque a convers&atilde;o de tabelas est&atilde;o localizadas em
	  <filename>/usr/libdata/msdosfs</filename>.  Para mais
	  informa&ccedil;&otilde;es, veja a p&aacute;gina de manual do &man.mount.msdos.8;.</para>
      </sect3>

      <sect3>
	<title>Configura&ccedil;&atilde;o do X11</title>

	<orderedlist>
	  <listitem>
	    <para>Fa&ccedil;a primeiro<link linkend="setting-locale">a configura&ccedil;&atilde;o
	      do X n&atilde;o locale</link> como descrito.</para>

	    <note>
	      <para><anchor id="russian-note">O locale Russo KOI8-R
		pode n&atilde;o funcionar com vers&otilde;es antigas do <application>&xfree86;</application> (abaixo da 3.3).
		<application>&xfree86; 4.X</application> &eacute; agora a vers&atilde;o
		padr&atilde;o do sistema de janelas X no FreeBSD.
		Esta n&atilde;o deve ser a quest&atilde;o a menos
		que voc&ecirc; esteja usando uma vers&atilde;o antiga do
		FreeBSD.</para>
	    </note>
	  </listitem>

	  <listitem>
	    <para>V&aacute; para o diret&oacute;rio
	      <filename role="package">russian/X.language</filename>
	      e d&ecirc; o seguinte comando:</para>

	    <screen>&prompt.root; <userinput>make install</userinput></screen>
      
	    <para>O port acima instalar&aacute; a &uacute;ltima vers&atilde;o das fontes do
	      KOI8-R.  <application>O &xfree86; 3.3</application> j&aacute; tem algumas fontes KOI8-R, mas estas 
	      s&atilde;o melhor escaladas.</para>

	    <para>Cheque a se&ccedil;&atilde;o <literal>"Files"</literal>
	      em seu arquivo <filename>/etc/XF86Config</filename>.
	      As seguintes
	      linhas devem ser adicionadas<emphasis>antes</emphasis> de
	      qualquer outra entrada <literal>FontPath</literal>:</para>

	    <programlisting>FontPath   "/usr/X11R6/lib/X11/fonts/cyrillic/misc"
FontPath   "/usr/X11R6/lib/X11/fonts/cyrillic/75dpi"
FontPath   "/usr/X11R6/lib/X11/fonts/cyrillic/100dpi"</programlisting>

	    <para>Se voc&ecirc; usa um modo de resolu&ccedil;&atilde;o alta de video, troque as linhas 75 dpi
	      e 100 dpi.</para>
	  </listitem>

	  <listitem>
	    <para>Para habilitar o teclado Russo, adicione o seguinte na se&ccedil;&atilde;o
	      <literal>"Keyboard"</literal> do seu arquivo
	      <filename>XF86Config</filename>.</para>

	    <para>Para vers&otilde;es 3.X do <application>&xfree86;</application>:</para>

	    <programlisting>XkbLayout  "ru"
XkbOptions "grp:caps_toggle"</programlisting>

	    <para>Para vers&otilde;es 4.X do <application>&xfree86;</application>:</para>

	    <programlisting>Option "XkbLayout"   "ru"
Option "XkbOptions"  "grp:caps_toggle"</programlisting>

	    <para>Tamb&eacute;m certifique-se que o <literal>XkbDisable</literal> est&aacute;
	      desabilitado (comentando) l&aacute;.</para>

	    <para>O switch do RUS/LAT ser&aacute; o <keycap>CapsLock</keycap>.
	    As fun&ccedil;&otilde;es antigas do <keycap>CapsLock</keycap> ainda estar&atilde;o
	    dispon&iacute;veis atrav&eacute;s do <keycombo action="simul"><keycap>Shift</keycap><keycap>CapsLock</keycap></keycombo> (no modo LAT
	      somente).</para>

	    <para>Se voc&ecirc; tem teclas <quote>&windows;</quote> em seu teclado,
	      e observar que algumas teclas n&atilde;o alfab&eacute;ticas est&atilde;o sendo mapeadas
	      incorretamente no modo RUS, adicione a seguinte linha em seu
	      arquivo <filename>XF86Config</filename>.</para>

	    <para>Para vers&otilde;es 3.X <application>&xfree86;</application>:</para>

	<programlisting>XkbVariant "winkeys"</programlisting>

	    <para>Para vers&otilde;es 4.X do <application>&xfree86;</application>:</para>

	<programlisting>Option "XkbVariant" "winkeys"</programlisting>

	    <note>
	      <para>O teclado Russo XKB pode n&atilde;o funcionar com vers&otilde;es antigas do <application>&xfree86;</application>,  
	        veja a nota <link linkend="russian-note">acima</link> para mais informa&ccedil;&otilde;es.  O teclado
		Russo XKB pode tamb&eacute;m n&atilde;o funcionar bem com aplica&ccedil;&otilde;es
		n&atilde;o localizadas.  Aplica&ccedil;&otilde;es minimamente localizadas
		devem chamar a fun&ccedil;&atilde;o <function>XtSetLanguageProc (NULL, NULL,
		NULL);</function> no programa.
		Veja <ulink
		url="http://koi8.pp.ru/xwin.html">
		KOI8-R para X Window</ulink> para mais instru&ccedil;&otilde;es
		de aplica&ccedil;&otilde;es localizadas do X11.</para>
	    </note>
	  </listitem>
	</orderedlist>
      </sect3>
    </sect2>

    <sect2>
      <title>Tradicional localiza&ccedil;&atilde;o Chin&ecirc;sa para Taiwan</title>
      <indexterm>
	<primary>localization</primary>
	<secondary>Traditional Chinese</secondary>
      </indexterm>
      <para>O projeto FreeBSD-Taiwan tem um tutorial I18N/L10N para o
	FreeBSD em <ulink url="http://freebsd.sinica.edu.tw/~ncvs/zh-l10n-tut/"></ulink>
	usando muitos ports Chin&ecirc;ses.
	O editor para o <literal>zh-L10N-tut</literal> &eacute; o Clive Lin
	<email>Clive@CirX.org</email>.  Voc&ecirc; pode tamb&eacute;m fazer o cvsup das seguintes
	cole&ccedil;&otilde;es no endere&ccedil;o <hostid
	role="fqdn">freebsd.sinica.edu.tw</hostid>:</para>

      <informaltable frame="none">
	<tgroup cols="2">
	  <thead>
	    <row>
	      <entry>Cole&ccedil;&atilde;o</entry>
	      <entry>Descri&ccedil;&atilde;o</entry>
	    </row>
	  </thead>

	  <tbody>
	    <row>
	      <entry>outta-port tag=.</entry>
	      <entry>qualidade Beta de cole&ccedil;&atilde;o de ports para chin&ecirc;s</entry>
	    </row>

	    <row>
	      <entry>zh-L10N-tut tag=.</entry>
	      <entry>Tutorial de localiza&ccedil;&atilde;o do tradicional BIG-5
		Chin&ecirc;s</entry>
	    </row>

	    <row>
	      <entry>zh-doc tag=.</entry>
	      <entry>Tradu&ccedil;&atilde;o de documenta&ccedil;&atilde;o do FreeBSD para o tradicional BIG-5
		Chin&ecirc;s</entry>
	    </row>
	  </tbody>
	</tgroup>
      </informaltable>

      <para>Chuan-Hsing Shen <email>s874070@mail.yzu.edu.tw</email> 
	criou o <ulink url="http://cnpa.yzu.edu.tw/~cfc/">Cole&ccedil;&atilde;o
	Chin&ecirc;sa do FreeBSD (CFC)</ulink> usando o FreeBSD-Taiwan
	<literal>zh-L10N-tut</literal>.  Os pacotes e os scripts de arquivos
	est&atilde;o dispon&iacute;veis em <ulink url="ftp://ftp.csie.ncu.edu.tw/OS/FreeBSD/taiwan/CFC/"></ulink>.</para>
    </sect2>

    <sect2>
      <title>Localiza&ccedil;&atilde;o de l&iacute;ngua Alem&atilde; (para todas l&iacute;nguas
	ISO 8859-1)</title>
      <indexterm>
	<primary>localization</primary>
	<secondary>German</secondary>
      </indexterm>

      <para>Slaven Rezic <email>eserte@cs.tu-berlin.de</email> escreveu um
	tutorial de como usar umlauts em uma m&aacute;quina FreeBSD.  O tutorial
	est&aacute; escrito em alem&atilde;o e est&aacute; dispon&iacute;vel em
	<ulink url="http://www.de.FreeBSD.org/de/umlaute/"></ulink>.</para>
    </sect2>

    <sect2>
      <title>Localiza&ccedil;&atilde;o de l&iacute;ngua Japonesa e Coreana</title>
      <indexterm>
	<primary>localization</primary>
	<secondary>Japanese</secondary>
      </indexterm>
      <indexterm>
	<primary>localization</primary>
	<secondary>Korean</secondary>
      </indexterm>
      <para>Para Japon&ecirc;s, consulte
        <ulink url="http://www.jp.FreeBSD.org/"></ulink>,
	e para Coreano, consulte
	<ulink url="http://www.kr.FreeBSD.org/"></ulink>.</para>
    </sect2>

    <sect2>
      <title>Documenta&ccedil;&atilde;o n&atilde;o inglesa do FreeBSD</title>

      <para>Alguns contribuidores do FreeBSD tem traduzido partes do FreeBSD para
	outras l&iacute;nguas.  Eles est&atilde;o dispon&iacute;veis atrav&eacute;s dos links no <ulink
	url="../../../../index.html">site principal</ulink> ou em
	<filename>/usr/share/doc</filename>.</para>
    </sect2>
  </sect1>
</chapter>
