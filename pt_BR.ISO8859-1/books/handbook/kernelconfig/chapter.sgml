<!--
     The FreeBSD Documentation Project

     $FreeBSD: pt_BR.ISO8859-1/books/handbook/kernelconfig/chapter.sgml,v 1.29 2004/02/16 18:37:09 eksffa Exp $
-->

<chapter id="kernelconfig">
  <chapterinfo>
    <authorgroup>
      <author>
	<firstname>Jim</firstname>
	<surname>Mock</surname>
	<contrib>Atualizado e reestruturado por </contrib>
	<!-- Mar 2000 -->
      </author>
    </authorgroup>
    <authorgroup>
      <author>
	<firstname>Jake</firstname>
	<surname>Hamby</surname>
	<contrib>Contribui&ccedil;&atilde;o original de </contrib>
	<!-- 6 Out 1995 -->
      </author>
    </authorgroup>
  </chapterinfo>

  <title>Configurando o <literal>kernel</literal> do FreeBSD</title>

  <sect1 id="kernelconfig-synopsis">
    <title>Sin&oacute;pse</title>

    <indexterm>
      <primary>kernel</primary>
      <secondary>compilando um <literal>kernel</literal> customizado</secondary>
    </indexterm>

    <para>O <literal>kernel</literal> &eacute; o cora&ccedil;&atilde;o do sistema &os;.  
      Ele &eacute; respons&aacute;vel por gerenciar a mem&oacute;ria, refor&ccedil;ar 
      controles de seguran&ccedil;a,
      pela rede, pelo accesso a disco, e muito mais.  A medida que mais e mais o &os;
      torna-se din&acirc;micamente configur&aacute;vel, ocasionalmente faz-se necess&aacute;rio
      configurar e recompilar seu <literal>kernel</literal>.</para>

    <para>Depois de ler este cap&iacute;tulo, voc&ecirc; saber&aacute;:</para>

    <itemizedlist>
      <listitem>
	<para>Porque voc&ecirc; poder&aacute; precisar compilar um <literal>kernel</literal> customizado.</para>
      </listitem>

      <listitem>
	<para>Como escrever um arquivo de configura&ccedil;&atilde;o do <literal>kernel</literal>, ou alterar um arquivo de
	  configura&ccedil;&atilde;o existente.</para>
      </listitem>

      <listitem>
	<para>Como usar o arquivo de configura&ccedil;&atilde;o do <literal>kernel</literal> para criar e compilar um
	  novo <literal>kernel</literal>.</para>
      </listitem>

      <listitem>
	<para>Como instalar o novo <literal>kernel</literal>.</para>
      </listitem>

      <listitem>
	<para>Como criar quaisquer entradas no <filename>/dev</filename> caso isso venha a 
	  ser necess&aacute;rio.</para>
      </listitem>

      <listitem>
	<para>Como resolver problemas se algo der errado.</para>
      </listitem>
    </itemizedlist>
  </sect1>

  <sect1 id="kernelconfig-custom-kernel">
    <title>Porque compilar um <literal>kernel</literal> customizado?</title>

    <para>Tradicionalmente, o &os; teve o que foi chamado de <literal>kernel</literal>
      <quote>monol&iacute;tico</quote>. Isto significa que o <literal>kernel</literal> era um
      grande programa, contendo uma lista fixa de dispositivos suportados, e se voc&ecirc; quisesse
      alterar seu comportamento ent&atilde;o seria necess&aacute;rio compilar um novo <literal>kernel</literal>,
      e ent&atilde;o reiniciar seu computador com ele.</para>

    <para>Hoje, o &os; est&aacute; movendo-se rapidamente para um modelo onde muitas das funcionalidades do
      <literal>kernel</literal> est&atilde;o contidas em m&oacute;dulos que s&atilde;o carregados e descarregados din&acirc;micamente conforme eles s&atilde;o necess&aacute;rios.
      Isto permite que o <literal>kernel</literal> imediatamente se adapte a um novo <foreignphrase>hardware</foreignphrase>
      tornando-o dispon&iacute;vel (tais como cart&otilde;es PCMCIA para <foreignphrase>laptop</foreignphrase>), ou a
      novas funcionalidades &agrave; serem inseridas no <literal>kernel</literal> que n&atilde;o eram
      necess&aacute;rias quando o ele foi originalmente compilado. Isso
      &eacute; conhecido como <literal>kernel</literal> modular. Coloquialmente eles s&atilde;o chamados KLDs.</para>

    <para>Apesar disto, ainda &eacute necess&aacute;rio carregar algumas configura&ccedil;&otilde;es est&aacute;ticas no <literal>kernel</literal>. Em alguns casos 
      isto est&aacute; assim porque estas funcionalidades est&atilde;o t&atilde;o amarradas ao <literal>kernel</literal> que elas n&atilde;o podem ser carregadas din&acirc;micamente. 
      Em outros casos, isto pode simplesmente estar assim porque ningu&eacute;m ainda conseguiu tempo para escrever
um m&oacute;dulo de carga din&acirc;mico do <literal>kernel</literal> para cada uma delas.</para>

    <para>Compilar um <literal>kernel</literal> personalizado &eacute; um dos rituais mais importantes que cada usu&aacute;rio de
      &unix; deve enfrentar. Este processo, embora consuma tempo, trar&aacute; muitos benef&iacute;cios para o seu sistema &os;.
      Diferentemente do <literal>kernel</literal> <filename>GENERIC</filename>, o qual necessita de suporte a uma
      abrangente lista de equipamentos, um <literal>kernel</literal> personalizado somente conter&aacute; suporte para o <foreignphrase>hardware</foreignphrase> do
      <emphasis>seu</emphasis> PC. Isto tem in&uacute;meros benef&iacute;cios, tais como:</para>

    <itemizedlist>
      <listitem>
	<para>Tempo de inicializa&ccedil;&atilde;o mais r&aacute;pido. Visto que o <literal>kernel</literal> apenas testar&aacute; o
	equipamento que voc&ecirc; tiver em seu sistema, o tempo de testes ao inicializar a m&aacute;quina diminuir&aacute; drasticamente.</para>
      </listitem>

      <listitem>
	<para>Menor uso da mem&oacute;ria. Um <literal>kernel</literal> personalizado frequentemente utiliza menos mem&oacute;ria
	  que o <literal>kernel</literal> <filename>GENERIC</filename>, o que &eacute; importante
	  porque o <literal>kernel</literal> deve sempre estar presente na mem&oacute;ria f&iacute;sica.
	  Por esta raz&atilde;o, um <literal>kernel</literal> personalizado &eacute; especialmente &uacute;til 
	  em um sistema com pouca quantidade de RAM.</para>
      </listitem>

      <listitem>
	<para>Suporte adicional de <foreignphrase>hardware</foreignphrase>. Um <literal>kernel</literal> personalizado permite a voc&ecirc; adicionar suporte a dispositivos, tais como placas de som, que n&atilde;o est&atilde;o presentes no <literal>kernel</literal> <filename>GENERIC</filename>.</para>
      </listitem>
    </itemizedlist>
  </sect1>

  <sect1 id="kernelconfig-building">
    <title>Compilando e instalando um <literal>kernel</literal> customizado</title>
    <indexterm>
      <primary>kernel</primary>
      <secondary>Compilando / instalando</secondary>
    </indexterm>

    <para>Primeiramente, deixe-nos apresentar rapidamente o diret&oacute;rio de compila&ccedil;&atilde;o do <literal>kernel</literal>.
      Todos os diret&oacute;rios mencionados ser&atilde;o relativos ao diret&oacute;rio principal,
      <filename>/usr/src/sys</filename>, que tamb&eacute;m poder&aacute; ser acessado diretamente atrav&eacute;s de
      <filename>/sys</filename>. H&aacute; um n&uacute;mero de subdiret&oacute;rios que representam partes diferentes do <literal>kernel</literal>, mas
      os mais importantes, para nossos objetivos, s&atilde;o
      <filename><replaceable>arch</replaceable>/conf</filename>, onde voc&ecirc;
      editar&aacute; sua configura&ccedil;&atilde;o de <literal>kernel</literal> personalizado, e
      <filename>compile</filename>, que &eacute; a &aacute;rea de prepara&ccedil;&atilde;o onde seu
      <literal>kernel</literal> ir&aacute; ser compilado.  <replaceable>arch</replaceable> representa
      uma das arquiteturas suportadas pelo &os; como <filename>i386</filename>, <filename>alpha</filename>, ou
      <filename>pc98</filename> (uma ramo de desenvolvimento alternativo de <foreignphrase>hardware</foreignphrase> do PC, popular no Jap&atilde;o).  
      Tudo que est&aacute; dentro de um diret&oacute;rio de uma arquitetura espec&iacute;fica diz respeito somente a esta arquitetura; o resto
      do c&oacute;digo do &os; &eacute; comum para todas as plataformas &agrave;s quais ele poder&aacute; ser potencialmente convertido. Observe a 
      organiza&ccedil;&atilde;o 
      l&oacute;gica da estrutura de diret&oacute;rio, com cada dispositivo suportado, sistema de arquivos, e
      op&ccedil;&otilde;es em seu pr&oacute;prio subdiret&oacute;rio. As vers&otilde;es do &os; 5.X e superiores tem suporte para
      <filename>sparc64</filename>, e algumas outras arquiteturas em
      desenvolvimento.</para>

    <note>
      <para>Se <emphasis>n&atilde;o</emphasis> existir o diret&oacute;rio
	<filename>/usr/src/sys</filename> no seu sistema,
	ent&atilde;o o fonte do <literal>kernel</literal> n&atilde;o foi instalado. A maneira mais f&aacute;cil
	para fazer isso &eacute; rodando
	<command>/stand/sysinstall</command> como
	<username>root</username>, escolher
	<guimenuitem>Configure</guimenuitem>,
	<guimenuitem>Distributions</guimenuitem>,
	<guimenuitem>src</guimenuitem>, e ent&atilde;o
	<guimenuitem>sys</guimenuitem>. Se voc&ecirc; tiver alguma avers&atilde;o ao
	<application>sysinstall</application> e possuir acesso a
	um &os; CDROM <quote>oficiais</quote>, ent&atilde;o voc&ecirc; poder&aacute; tamb&eacute;m
	instalar o fonte atrav&eacute;s da linha de comando:</para>

      <screen>&prompt.root; <userinput>mount /cdrom</userinput>
&prompt.root; <userinput>mkdir -p /usr/src/sys</userinput>
&prompt.root; <userinput>ln -s /usr/src/sys /sys</userinput>
&prompt.root; <userinput>cat /cdrom/src/ssys.[a-d]* | tar -xzvf -</userinput></screen>
    </note>

    <para>Depois, v&aacute; at&eacute; o diret&oacute;rio
      <filename><replaceable>arch</replaceable>/conf</filename>
      e copie o arquivo de configura&ccedil;&atilde;o <filename>GENERIC</filename> com o
      nome que voc&ecirc; quiser para o seu <literal>kernel</literal>. Por exemplo:</para>

    <screen>&prompt.root; <userinput>cd /usr/src/sys/i386/conf</userinput>
&prompt.root; <userinput>cp GENERIC MYKERNEL</userinput></screen>

    <para>Tradicionalmente, este nome tem todas letras em mai&uacute;sculas, se voc&ecirc;
      mant&eacute;m m&uacute;ltiplas m&aacute;quinas &os; com diferentes <foreignphrase>hardware</foreignphrase>,
      &eacute; uma boa id&eacute;ia nome&aacute;-lo prefixando o <foreignphrase>hostname</foreignphrase> da sua m&aacute;quina. Para a finalidade deste
      exemplo, ser&aacute; usado o nome <filename>MYKERNEL</filename>.</para> 

    <tip>
      <para>Guardar os arquivos de configura&ccedil;&atilde;o do seu <literal>kernel</literal> diretamente abaixo do
	<filename>/usr/src</filename> pode ser uma m&aacute; id&eacute;ia. Se voc&ecirc; tiver problemas
	poder&aacute; ser tentado a apenas apagar o
	<filename>/usr/src</filename> e iniciar tudo novamente. Cinco segundos depois disto feito,
	voc&ecirc; poder&aacute; perceber que removeu o seu arquivo de configura&ccedil;&atilde;o de <literal>kernel</literal> personalizado.
        N&atilde;o edite 
        diretamente o arquivo <filename>GENERIC</filename>,
	pois ele pode ser sobrescrito da pr&oacute;xima vez que voc&ecirc; for
	<link linkend="cutting-edge">atualizar a &aacute;rvore do c&oacute;digo fonte</link>;
	suas modifica&ccedil;&otilde;es do <literal>kernel</literal> ser&atilde;o perdidas.</para>

      <para>Voc&ecirc; pode querer manter em outro local seu arquivo de configura&ccedil;&atilde;o do <literal>kernel</literal>, e ent&atilde;o
	criar um link simb&oacute;lico deste arquivo para o diret&oacute;rio <filename>i386</filename>.</para>

      <para>Por exemplo:</para>

      <screen>&prompt.root; <userinput>cd /usr/src/sys/i386/conf</userinput>
&prompt.root; <userinput>mkdir /root/kernels</userinput>
&prompt.root; <userinput>cp GENERIC /root/kernels/<replaceable>MYKERNEL</replaceable></userinput>	
&prompt.root; <userinput>ln -s /root/kernels/<replaceable>MYKERNEL</replaceable></userinput></screen>
    </tip>

    <note>
      <para>Voc&ecirc; dever&aacute; executar todos estes comandos sob
	a conta do <username>root</username> sen&atilde;o ocorrer&atilde;o erros de
        <errortype>permiss&atilde;o negada</errortype>.</para>
    </note>

    <para>Agora, edite o <filename>MYKERNEL</filename> com seu editor de texto favorito. Se voc&ecirc; for come&ccedil;ar a configurar, 
    provavelmente somente o 
    <application>vi</application> esteja dispon&iacute;vel, o qual &eacute; muito complexo para
      explicar aqui, mas &eacute; coberto em muitos livros indicados na <link
      linkend="bibliography">bibliografia</link>. Entretanto, o &os; oferece um editor mais f&aacute;cil chamado <application>ee</application> 
      que, se 
      voc&ecirc; for um novato, deve ser o editor de sua escolha.
      Sinta-se livre para mudar as linhas de coment&aacute;rios, principalmente para identificar sua 
configura&ccedil;&atilde;o e as 
      altera&ccedil;&otilde;es que diferenciam seu arquivo do 
      <filename>GENERIC</filename>.</para>
    <indexterm><primary>SunOS</primary></indexterm>

    <para>Se voc&ecirc; tiver que compilar um kernel sobre &sunos; ou qualquer outro
      Sistema Operacional BSD, muito destes arquivos ser&atilde;o muito familiar a voc&ecirc;.
      Se voc&ecirc; vier de outro sistema operacional tal como DOS, o  
      arquivo de configura&ccedil;&atilde;o <filename>GENERIC</filename> 
      pode impressionar voc&ecirc;, sendo assim siga as descri&ccedil;&otilde;es do
      <link linkend="kernelconfig-config">Arquivo de Configura&ccedil;&atilde;o</link>
      lentamente e com cuidado.</para>

    <note>
      <para>&Eacute; importante voc&ecirc; sempre verificar o arquivo
        <filename>/usr/src/UPDATING</filename>, antes de executar todas as etapas da atualiza&ccedil;&atilde;o,
        No caso voc&ecirc; pode <link
        linkend="cutting-edge">sincronizar sua &aacute;rvore de c&oacute;digo</link> com o
        c&oacute;digo fonte do &uacute;ltimo projeto do &os;.
        Neste arquivo todas as importantes altera&ccedil;&otilde;es para atualia&ccedil;&atilde;o do &os;
        s&atilde;o digitadas. Ajuste sempre sua vers&atilde;o do c&oacute;digo fonte do &os; de acordo com
<filename>/usr/src/UPDATING</filename>, pois estas notas 
        s&atilde;o mais precisas para novas informa&ccedil;&otilde;es que o handbook.</para>
    </note>

    <para>Voc&ecirc; deve agora compilar o c&oacute;digo fonte do kernel. Est&atilde;o aqui dois
      procedimentos que voc&ecirc; pode usar para isto, e qual voc&ecirc; usar&aacute;, vai depender de como quer recompilar seu 
      kernel, e a vers&atilde;o do &os; que voc&ecirc; est&aacute; rodando.</para>

    <itemizedlist>
      <listitem>
	<para>Se voc&ecirc; tiver instalado <emphasis>somente</emphasis> o c&oacute;digo fonte do kernel,
	  use o procedimento 1.</para>
      </listitem>

      <listitem>
	<para>Se voc&ecirc; tiver rodando um &os; vers&atilde;o anterior ao 4.0, e voc&ecirc; 
	  <emphasis>n&atilde;o</emphasis> tiver atualiza&ccedil;za&ccedil;&atilde;o para o 4.0 ou mais atual use
	  o procedimento <maketarget>make world</maketarget>, procedimento 1.
        </para>
      </listitem>

      <listitem>
	<para>Se voc&ecirc; estiver recompilando um kernel novo sem atualizar o c&oacute;digo fonte
	  (talvez para adicionar uma nova op&ccedil;&atilde;o, tal como
	  <literal>IPFIREWALL</literal>) voc&ecirc; teria que usar o outro procedimento.</para>
      </listitem>

      <listitem>
	<para>Se voc&ecirc; estiver recompilando o kernel como parte de um processo de um
          <maketarget>make world</maketarget>, use o procedimento 2.
        </para>
      </listitem>
    </itemizedlist>
    
    <procedure>
      <title>Procedimento 1. Compilando um Kernel da Maneira <quote>Tradicional</quote></title>
      
      <step>
	<para>Execute &man.config.8; para gerar o c&oacute;digo fonte do kernel.</para>
	
	<screen>&prompt.root; <userinput>/usr/sbin/config <replaceable>MYKERNEL</replaceable></userinput></screen>
      </step>

      <step>
	<para>Mude o diret&oacute;rio de configura&ccedil;&atilde;o. Isto e mostrado ap&oacute;s rodar o comando acima mencionado.</para>

	<screen>&prompt.root; <userinput>cd ../compile/<replaceable>MYKERNEL</replaceable></userinput></screen>

	<para>Para &os; anterior a 5.0, usa-se preferivelmente:</para>

	<screen>&prompt.root; <userinput>cd ../../compile/<replaceable>MYKERNEL</replaceable></userinput></screen>
      </step>

      <step>
	<para>Compilando o kernel.</para>
	
	<screen>&prompt.root; <userinput>make depend</userinput>
&prompt.root; <userinput>make</userinput></screen>
      </step>

      <step>
	<para>Instalando o novo kernel.</para>
	
	<screen>&prompt.root; <userinput>make install</userinput></screen>
      </step>
    </procedure>

    <procedure>
      <title>Procedimento 2.  Compilando um Kernel da <quote>Nova</quote> maneira</title>
      
      <step>
	<para>Mude de diret&oacute;rio para <filename>/usr/src</filename>.</para>
	
	<screen>&prompt.root; <userinput>cd /usr/src</userinput></screen>
      </step>

      <step>
	<para>Compilando o kernel.</para>
	
	<screen>&prompt.root; <userinput>make buildkernel KERNCONF=<replaceable>MYKERNEL</replaceable></userinput></screen>
      </step>

      <step>
	<para>Instalando o novo kernel.</para>

	<screen>&prompt.root; <userinput>make installkernel KERNCONF=<replaceable>MYKERNEL</replaceable></userinput></screen>
      </step>
    </procedure>
    
    <note>
      <para>No &os;&nbsp;4.2 e anteriores troque
        <literal>KERNCONF=</literal> por <literal>KERNEL=</literal>.
        Ap&oacute;s o 4.2-STABLE esta op&ccedil;&atilde;o j&aacute; foi atualizada, e antes de Fevereiro de 2001 o sistema n&atilde;o reconhece <literal>KERNCONF=</literal>.</para>
    </note>

    <indexterm>
      <primary><command>cvsup</command></primary>
    </indexterm>
    <indexterm><primary>anonymous CVS</primary></indexterm>
    <indexterm><primary>CTM</primary></indexterm>
    <indexterm>
      <primary>CVS</primary>
      <secondary>anonymous</secondary>
    </indexterm>

    <para>Se voc&ecirc; <emphasis>n&atilde;o</emphasis> atualizou seu c&oacute;digo
      de alguma maneira (as formas poss&iacute;veis incluem <application>CVSup</application>, 
      <application>CTM</application>, ou 
      <application>anoncvs</application>), ent&atilde;o deve-se usar os comandos
      <command>config</command>, <maketarget>make depend</maketarget>,
      <command>make</command>, <maketarget>make install</maketarget> nesta sequ&ecirc;ncia.
    </para>

    <indexterm>
      <primary><filename>kernel.old</filename></primary>
    </indexterm> 

    <para>O novo kernel ser&aacute; copiado para o diret&oacute;rio do root como
      <filename>/kernel</filename> e o velho kernel ser&aacute; movido para
      <filename>/kernel.old</filename>. Agora, desligue o sistema e
      reinicie-o, para carregar seu novo kernel. Caso algo saia errado, h&aacute; algumas instru&ccedil;&otilde;es para 
      <link linkend="kernelconfig-trouble">resolver problemas</link> no final deste cap&iacute;tulo. 
      &Eacute; interessante que voc&ecirc; leia a se&ccedil;&atilde;o de como recuperar o sistema caso seu novo kernel <link
      linkend="kernelconfig-noboot"> n&atilde;o carregue</link>.</para>

    <note>
      <para>No &os; 5.0, o kernel &eacute; instalados junto com os
	m&oacute;dulos em <filename>/boot/kernel</filename>, e os kernel
	velhos s&atilde;o colocados em <filename>/boot/kernel.old</filename>.
	Outros arquivos relacionados ao processo de carregamento, tal como o carregamento do sistema
	por meio do &man.loader.8; e suas configura&ccedil;&otilde;es s&atilde;o armazenadas tamb&eacute;m em
	<filename>/boot</filename>.  M&oacute;dulos personalizados de terceiros 
	normalmente s&atilde;o colocados em <filename>/boot/modules</filename>, embora
	os usu&aacute;rios devam estar cientes que manter os m&oacute;dulos em sincroniza&ccedil;&atilde;o com o
	kernel compilado &eacute; muito importante. Se os m&oacute;dulos pretendidos n&atilde;o
	rodarem com o kernel compilado, isso pode resultar em instabilidade
	ou inconformidades no sistema.</para>
    </note>

    <note>
      <para>Se voc&ecirc; adicionar qualquer dispositivo novo (tal como Placa de Som)
	e estiver rodando &os;&nbsp;4.X ou vers&otilde;es anteriores,
	pode ser necess&aacute;rio adicionar algum dispositivo de controle em seu diret&oacute;rio
	<filename>/dev</filename> antes que eles possam ser utilizados corretamente,
	Para mais informa&ccedil;&otilde;es, d&ecirc; uma olhada na se&ccedil;&atilde;o <link
	linkend="kernelconfig-nodes">Criando dispositivos de controle</link>
	posteriormente neste mesmo cap&iacute;tulo.</para>
    </note>
  </sect1>

  <sect1 id="kernelconfig-config">
    <title>O arquivo de configura&ccedil;&atilde;o</title>
    <indexterm>
      <primary>kernel</primary>
      <secondary>LINT</secondary>
    </indexterm>
    <indexterm><primary>LINT</primary></indexterm>
    <indexterm>
      <primary>kernel</primary>
      <secondary>config file</secondary>
    </indexterm>

    <para>O formato geral do arquivo de configura&ccedil;&atilde;o &eacute; bastante simples.
      Cada linha cont&eacute;m uma palavra-chave e mais algum argumento. Para
      simplificar, a maioria das linhas cont&eacute;m somente um argumento. Qualquer coisa
      que segue um <literal>#</literal> &eacute; considerado um coment&aacute;rio e &eacute;
      ignorado. As seguintes se&ccedil;&otilde;es descrevem cada palavra-chave, geralmente na
      ordem que s&atilde;o listadas no <filename>GENERIC</filename>, embora
      algumas palavras-chaves relacionadas sejam agrupadas em uma &uacute;nica se&ccedil;&atilde;o
      (tal como rede) mesmo que sejam descartados durante todo o arquivo
      <filename>GENERIC</filename>. <anchor
      id="kernelconfig-options"> Uma lista completa de op&ccedil;&otilde;es mais
      detalhadas, a explica&ccedil;&atilde;o de cada um dos dispositivos presentes no arquivo de configura&ccedil;&atilde;o
      do kernel, est&atilde;o dispon&iacute;veis no arquivo <filename>LINT</filename>, localizado no mesmo
      diret&oacute;rio do <filename>GENERIC</filename>. Se voc&ecirc; tiver na d&uacute;vida a
      respeito da necessidade de uma linha, verifique primeiro no
      <filename>LINT</filename>.</para>

    <note><para>No &os; 5.X e superiores o <filename>LINT</filename> n&atilde;o existe.
      Veja o arquivo <filename>NOTES</filename> para op&ccedil;&otilde;es dependentes de
      arquitetura. Algumas op&ccedil;&otilde;es, principalmente
      independentes da arquitetura, s&atilde;o armazenadas no arquivo
      <filename>/usr/src/sys/conf/NOTES</filename>. &Eacute; aconselh&aacute;vel
      revisar as op&ccedil;&otilde;es dispostas neste arquivo tamb&eacute;m.</para></note>

    <indexterm>
      <primary>kernel</primary> 
	<!--  PAREI A REVISAO AQUI - eksffa -->
      <secondary>Exemplos de arquivo de configura&ccedil;&atilde;o</secondary>
    </indexterm>

    <para>A seguir um exemplo de arquivo de configura&ccedil;&atilde;o <filename>GENERIC</filename> do kernel
      com v&aacute;rios coment&aacute;rios adicionais, onde eles forem necess&aacute;rios, para
      esclarecimentos. Este exemplo deve se equivaler uma c&oacute;pia que voc&ecirc; tem dispon&iacute;vel em
      <filename>/usr/src/sys/i386/conf/GENERIC</filename>. 
      Para obter detalhes sobre todas as op&ccedil;&otilde;es poss&iacute;veis do kernel, veja
      <filename>/usr/src/sys/i386/conf/LINT</filename>.</para>

    <programlisting>#
# GENERIC -- Generic kernel configuration file for &os;/i386
#
# For more information on this file, please read the handbook section on
# Kernel Configuration Files:
#
#    http://www.&os;.org/doc/en_US.ISO8859-1/books/handbook/kernelconfig-config.html
#
# The handbook is also available locally in /usr/share/doc/handbook
# if you've installed the doc distribution, otherwise always see the
# &os; World Wide Web server (http://www.FreeBSD.org/) for the
# latest information.
#
# An exhaustive list of options and more detailed explanations of the
# device lines is also present in the ../../conf/NOTES and NOTES files. 
# If you are in doubt as to the purpose or necessity of a line, check first 
# in NOTES.
#
# &dollar;FreeBSD: src/sys/i386/conf/GENERIC,v 1.380 2003/03/29 13:36:41 mdodd Exp $</programlisting>

    <para>Em seguida est&atilde;o as palavra-chaves obrigat&oacute;riamente necess&aacute;rias em 
      <emphasis>todos</emphasis> os kernels que voc&ecirc; for compilar:</para>
    <indexterm>
      <primary>Op&ccedil;&otilde;es do kernel</primary>
      <secondary>m&aacute;quina</secondary>
    </indexterm>

    <programlisting>m&aacute;quina		i386</programlisting>

    <para>Est&aacute; &eacute; a arquitetura da m&aacute;quina. Deve ser algum dos seguintes valores:
      <literal>i386</literal>, <literal>pc98</literal>,
      <literal>sparc64</literal>, <literal>alpha</literal>,
      <literal>ia64</literal>, <literal>amd64</literal>, or
      <literal>powerpc</literal>.</para>

    <indexterm>
      <primary>Op&ccedil;&otilde;es do kernel</primary>
      <secondary>cpu</secondary>
    </indexterm>
    <programlisting>cpu          I486_CPU
cpu          I586_CPU
cpu          I686_CPU</programlisting>

    <para>A op&ccedil;&atilde;o acima especifica o tipo da CPU em seu sistema.
      &Eacute; poss&iacute;vel manter m&uacute;ltiplas entradas desta defini&ccedil;&atilde;o, em casos onde
	n&atilde;o souber ao certo que classes de CPU devem ser suportadas em seu kernel,
	nesse caso, as op&ccedil;&otilde;es escolhidas s&atilde;o
      <literal>I586_CPU</literal> ou <literal>I686_CPU</literal>),
      entretanto, para personalizar um kernel, &eacute; melhor especificar apenas a CPU que voc&ecirc; disp&otilde;e,
	quando esta puder ser prevista.
      Se voc&ecirc; estiver inseguro quanto &agrave; classe da sua CPU, pode verificar o arquivo
      <filename>/var/run/dmesg.boot</filename> para verificar as mensagem do carregamento do sistema.</para>

    <indexterm>
      <primary>Op&ccedil;&otilde;es do kernel</primary>
      <secondary>classe de CPU</secondary>

    </indexterm>
    <para>O suporte &agrave; <literal>I386_CPU</literal> ainda est&aacute; dispon&iacute;vel no fonte
      do &os;, mas esta op&ccedil;&atilde;o agora &eacute; desativada por padr&atilde;o em ambos -STABLE e
      -CURRENT. Isto significa que para instalar o &os; com um processador de classe 386,
	voc&ecirc; ter&aacute; que optar por uma das seguintes alternativas:</para>

    <itemizedlist>
      <listitem>
        <para>Instale uma vers&atilde;o mais antiga do &os; e recompile o sistema como
	 descrito na <xref linkend="kernelconfig-building">.</para>
      </listitem>

      <listitem>
        <para>Compile as aplica&ccedil;&otilde;es em n&iacute;vel de usu&aacute;rio e o kernel em outra m&aacute;quina e instale-as
	 no 386 em quest&atilde;o, usando os arquivos previamente compilados, armazenados em <filename>/usr/obj</filename>
          (para mais detalhes veja a <xref linkend="small-lan">).</para>
      </listitem>

      <listitem>
        <para>Gere sua pr&oacute;pria vers&atilde;o do FreeBSD incluindo suporte a
          <literal>I386_CPU</literal> no kernel de instala&ccedil;&atilde;o via
          CD-ROM.</para>
      </listitem>
    </itemizedlist>

    <para>A primeira destas op&ccedil;&otilde;es &eacute; provavelmente a mais f&aacute;cil, mas voc&ecirc;
	necessitar&aacute; de muito espa&ccedil;o em disco em uma m&aacute;quina de classe 386, o que pode ser
	dif&iacute;cil de encontrar.</para>

    <indexterm>
      <primary>Op&ccedil;&otilde;es do kernel</primary>
      <secondary>ident</secondary>
    </indexterm>

    <programlisting>ident          GENERIC</programlisting>

    <para>Est&aacute; &eacute; a identifica&ccedil;&atilde;o do kernel. Voc&ecirc; pode mudar
      o nome do seu kernel para qualquer um, mas como exemplo da configura&ccedil;&atilde;o do nosso kernel
	customizado, o <literal>MYKERNEL</literal>, voc&ocirc; deve acompanhar as
      instru&ccedil;&otilde;es dos pr&oacute;ximos exemplos. O nome que voc&ecirc; colocou no
      <literal>ident</literal> ser&atilde;o mostrados quando o kernel for carregado,
	de forma que a op&ccedil;&atilde;o &eacute; utilizada para dar um nome novo ao kernel, ou um nome diferente se voc&ecirc;
      quiser distinguir seu novo kernel do kernel atual (especialmente &uacute;til quando quiser 
      compilar um kernel experimental).</para>
    <indexterm>
      <primary>Op&ccedil;&otilde;es do kernel</primary>
      <secondary>maxusers</secondary>
    </indexterm>

    <programlisting>maxusers          <replaceable>n</replaceable></programlisting>

    <para>A op&ccedil;&atilde;o <literal>maxusers</literal> ajusta uma s&eacute;rie de
      tabelas importantes do sistema. Esta op&ccedil;&atilde;o n&atilde;o deve ser utilizada de forma
	a se igualar ao n&uacute;mero de usu&aacute;rios simult&acirc;neos esperados em sua
      m&aacute;quina.</para>

    <para>Desde o &os;&nbsp;4.5, o sistema ajusta automaticamente esta configura&ccedil;&atilde;o, se
	seu valor for modificado para <literal>0</literal><footnote>
	<para>O algoritmo de ajuste autom&aacute;tico do <literal>maxuser</literal> define o valor igual
	  a quantidade de mem&oacute;ria do sistema, respeitando o valor m&iacute;nimo de 32, e o
	  m&aacute;ximo de 384.</para></footnote>.
      No &os;&nbsp;5.X, <literal>maxusers</literal> &eacute; definido por padr&atilde;o com o valor
      <literal>0</literal> quando for omitido. Se sua vers&atilde;o do &os; for anterior
      ao 4.5, ou voc&ecirc; deve definir est&aacute; vari&aacute;vel manualmente sempre, e o valor
	de <literal>maxusers</literal> deve ser no m&iacute;nimo 4, especialmente se for
      usando o Sistema de Janelas X, ou compilando programas com frequ&ecirc;ncia. A raz&atilde;o &eacute; que
      a tabela mais importante ajustada por meio do <literal>maxusers</literal> &eacute; o
      n&uacute;mero m&aacute;ximo de processos, que &eacute; definido como <literal>20 + 16 *
      maxusers</literal>, de forma que, se voc&ecirc; ajustar <literal>maxusers</literal> para o valor 1,
      poder&atilde;o existir no m&aacute;ximo 36 processos simult&acirc;neos, incluindo ai os 18 processos
      que o sistema carrega na hora da inicializa&ccedil;&atilde;o, e os 15 que voc&ecirc; provavelmente
      ir&aacute; criar quando iniciar o sistema de interface gr&aacute;fica. Mesmo tarefas simples como
      a leitura de uma p&aacute;gina de manual ser&aacute; iniciada levantando nove processos para
      filtro, decompacta&ccedil;&atilde;o e visualiza&ccedil;&atilde;o do manual. Colocando
      <literal>maxusers</literal> em 64 permitir&aacute; que voc&ecirc; tenha 1044
      processos simult&acirc;neos carregados, o que deve ser o suficiente para a maioria de suas
      necessidades.
      Entretanto, se voc&ecirc; se deparar com o erro <errortype>proc table is full
      </errortype> ao tentar iniciar outro programa, ou se o sistema em quest&atilde;o tratar
	de um servidor com um grande n&uacute;mero de usu&aacute;rios simult&acirc;neos (digamos, como o
      <hostid role="fqdn">ftp.FreeBSD.org</hostid> por exemplo), &eacute; poss&iacute;vel aumentar
	o valor da vari&aacute;vel <literal>maxusers</literal> e recompilar o kernel do sistema.</para>

    <note>
      <para><literal>maxusers</literal><emphasis>n&atilde;o</emphasis>
	limita o n&uacute;mero de usu&aacute;rios que podem logar em sua m&aacute;quina. Ele apenas
	define o valor de v&aacute;rias tabelas &agrave; quantias razo&aacute;veis considerando
	o n&uacute;mero m&aacute;ximo de usu&aacute;rios e processos que voc&ecirc; provavelmente ter&aacute; rodando em seu sistema.
	A op&ccedil;&atilde;o que <emphasis>possibilita</emphasis> limitar o n&uacute;mero de logins <emphasis>remotos simult&acirc;neous e de terminais gr&aacute;ficos</emphasis>
	&eacute; <link linkend="kernelconfig-ptys"><literal>pseudo-device pty 16</literal></link>.</para>
    </note>
    
    <programlisting># Floating point support - n&atilde;o desabilite.
device          npx0     at nexus? port IO_NPX irq 13</programlisting>
    
    <para><literal>npx0</literal> &eacute; a op&ccedil;&atilde;o que disponibiliza suporte l&oacute;gico &agrave; ponto flutuante em unidades matem&aacute;ticas do
      &os;, que faz o papel de equipamento co-processador, ou simplesmente emulador matem&aacute;tico l&oacute;gico. Esta defini&ccedil;&atilde;o
	<emphasis>n&atilde;o</emphasis> &eacute; opcional.</para>

    <programlisting># Pseudo devices - o n&uacute;mero indica quantas unidades ser&atilde;o alocadas.
pseudo-device   loop          # Network loopback</programlisting>

    <para>Trata-se do dispositivo gen&eacute;rico de comunica&ccedil;&atilde;o TCP/IP interna - via <foreignphrase>loopback</foreignphrase>.
	Por exemplo, se voc&ecirc; fizer uma conex&atilde;o telnet ou FTP para <hostid>localhost</hostid> (ou seja, <hostid
      role="ipaddr">127.0.0.1</hostid>) a conex&atilde;o voltar&aacute; &agrave; voc&ecirc; atrav&eacute;s deste pseudo-dispositivo. Este comportamento &eacute;
	mandat&oacute;rio.</para>

    <para>Todas as outras op&ccedil;&otilde;es no decorrer do arquivo s&atilde;o consideravelmente optativas. Veja as notas em cada uma das
	op&ccedil;&otilde;es abaixo, para obter mais informa&ccedil;&otilde;es.</para>

    <programlisting>#To statically compile in device wiring instead of /boot/device.hints
#hints          "GENERIC.hints"         #Default places to look for devices.</programlisting>

    <para>No &os; 5.X e vers&otilde;es posteriores, o &man.device.hints.5; &eacute;
      usado para configurar algumas op&ccedil;&otilde;es de dispositivos de controle. Por padr&atilde;o
      o &man.loader.8; verifica as op&ccedil;&otilde;es em
      <filename>/boot/device.hints</filename>. Usando a op&ccedil;&atilde;o
      <literal>hints</literal> estas defini&ccedil;&otilde;es podem ser estaticamente compiladas
	dentro do seu kernel, de forma que a necessidade de cirar o arquivo
      <filename>device.hints</filename> dentro de
      <filename>/boot</filename> seja suprimida.</para>

    <!-- XXX: Add a comment here that explains when compiling hints into the kernel is a good idea and why. -->

    <programlisting>#makeoptions     DEBUG=-g          #Build kernel with gdb(1) debug symbols</programlisting>

    <para>O processo normal de compila&ccedil;&atilde;o do &os; n&atilde;o inclui informa&ccedil;&otilde;es sobre
      problemas com a compila&ccedil;&atilde;o do kernel, e remove a maioria
      dos s&iacute;mbolos depois que o kernel &eacute; instalado, para economizar algum espa&ccedil;o
      em disco.  Caso voc&ecirc; esteja fazendo testes com kernel 
      na s&eacute;rie -CURRENT, ou alterando op&ccedil;&otilde;es de desenvolvimento de seu pr&oacute;prio kernel &os;,
      pode ser interessante descomentar esta linha.  Isto ir&aacute;  habilitar o
      uso da op&ccedil;&atilde;o <option>-g</option> que habilita a adi&ccedil;&atilde;o de informa&ccedil;&otilde;es de depura&ccedil;&atilde;o do
      programa, realizados pelo &man.config.8;, caso voc&ecirc; esteja compilando seu kernel da maneira 
	<quote>tradicional</quote> (veja a <xref linkend="kernelconfig-building">
      para obter mais informa&ccedil;&otilde;es.).</para>

    <programlisting>options          MATH_EMULATE      #Support for x87 emulation</programlisting>

    <para>Esta linha permite que o kernel simule um co-processador matem&aacute;tico se
      seu computador n&atilde;o tiver um dispon&iacute;vel (386 ou 486SX). Caso seu PC seja um
      486DX, ou um 386 ou 486SX (com um chip 387 ou 487 separado), ou
      superior (&pentium;, &pentium;&nbsp;II, etc.), esta op&ccedil;&atilde;o poder&aacute; ser comentada.</para>

    <note>
      <para>As rotinas normais para emula&ccedil;&atilde;o matem&aacute;ticas do co-processador que vem com o
	&os; <emphasis>n&atilde;o</emphasis> s&atilde;o muito precisas.  Se voc&ecirc; n&atilde;o disp&otilde;e de um co-processador
	matem&aacute;tico mas tem necessidade de uma emula&ccedil;&atilde;o mais precisa, substituia a op&ccedil;&atilde;o anterior por
	<literal>GPL_MATH_EMULATE</literal>, de forma a usar o suporte &agrave; co-processamento matem&aacute;tico GNU que
	n&atilde;o &eacute; habilitado por padr&atilde;o em raz&atilde;o de quest&otilde;es legais da licen&ccedil;a <acronym>GPL</acronym>.</para>

      <para>No &os; 5.X, a emula&ccedil;&atilde;o matem&aacute;tica &eacute; desabilitada por padr&atilde;o,
      em outras CPUs que n&atilde;o tem suporte a ponto flutuante matem&aacute;tico nativo, a emula&ccedil;&atilde;o &eacute;
	menos comum, e em muitos casos n&atilde;o s&atilde;o sequer suportados pelo kernel
      <filename>GENERIC</filename> sem que outras op&ccedil;&otilde;es adicionais sejam inclu&iacute;das.</para></note>

    <programlisting>options          INET          #InterNETworking</programlisting>

    <para>Suporte a Rede.  Mantenha esta op&ccedil;&atilde;o ainda que voc&ecirc; n&atilde;o planeje
	se conectar a uma rede.  Muitos programas tem necessidade m&iacute;nimas que necessitam de suporte
	&agrave; rede, como o uso da interface de <foreignphrase>loopbacl</foreignphrase> (isto &eacute;, conex&otilde;es internas
	de rede), de forma que esta op&ccedil;&atilde;o &eacute; mandat&oacute;ria.</para>

    <programlisting>options          INET6          #IPv6 communications protocols</programlisting>

    <para>Trata-se do protoc&oacute;lo de comunica&ccedil;&atilde;o IPv6.</para>

    <programlisting>options          FFS          #Berkeley Fast Filesystem
options          FFS_ROOT     #FFS usable as root device [keep this!]</programlisting>

    <para>Trata-se do sistema de arquivos essencial do &os;. Mantenha esta op&ccedil;&atilde;o se voc&ecirc; planeja controlar algum disco
	r&iacute;gido.</para>

    <note><para>&Agrave; partir do &os; 5.X, <literal>FFS_ROOT</literal> n&atilde;o &eacute; mais necess&aacute;rio.</para></note>

    <programlisting>options          UFS_ACL      #Support for access control lists</programlisting>

    <para>Esta op&ccedil;&atilde;o, est&aacute; presente apenas no &os;&nbsp;5.X; ela habilita o suporte do kernel
      &agrave; listas de controle de acesso.  Seu uso requer as op&ccedil;&otilde;es de atributos extendidos
      e <acronym>UFS2</acronym>, e os detalhes s&atilde;o descritos na
      <xref linkend="fs-acl">. <acronym>ACL</acronym>s s&atilde;o habilitadas por padr&atilde;o, e n&atilde;o devem
      ser desabilitadas no kernel se tiverem sido previamente utilizadas no sistema de arquivos,
      pois remover&aacute; a lista de controle de acessos, modificando os atributos dos
      arquivos protegidos para valores imprevis&iacute;veis.</para>

    <programlisting>options          UFS_DIRHASH  #Improve performance on big directories</programlisting>

    <para>Est&aacute; op&ccedil;&atilde;o inclui recursos para aumentar a velocidade de opera&ccedil;&otilde;es de disco em diret&oacute;rios grandes,
      ao custo de usar um pouco de
      mem&oacute;ria adicional.  Normalmente &eacute; interessante usufruir desta op&ccedil;&atilde;o em um grande
      servidor, ou em situa&ccedil;&otilde;es onde haja grande demanda de intera&ccedil;&atilde;o com esta&ccedil;&otilde;es de trabalho; remova esta op&ccedil;&atilde;o
	quando estiver usando o &os; em um pequeno sistema onde mem&oacute;ria a &eacute; &eacute; priorit&aacute;ria e
      velocidade de acesso a disco &eacute; menos importante, como um firewall.</para>

    <programlisting>options          SOFTUPDATES  #Enable FFS Soft Updates support</programlisting>

    <para>Esta op&ccedil;&atilde;o habilita o m&eacute;todo <emphasis>Soft Updates</emphasis> no kernel, isto ir&aacute;
      ajudar a aumentar a velocidade de escrita ao disco.  Mesmo sendo habilitada no kernel, estes recursos
	ainda precisam ser atribu&iacute;dos &agrave; cada parti&ccedil;&atilde;o de disco.  Revise a sa&iacute;da do comando
	&man.mount.8; para obter detalhes sobre que sistemas de arquivos est&atilde;o com
	<emphasis>Soft Updates</emphasis> habilitados.  Caso n&atilde;o esteja observando a op&ccedil;&atilde;o, &eacute; necess&aacute;rio ativa-la
	usando o &man.tunefs.8; (para sistemas de 
      arquivos existentes) ou &man.newfs.8; (para novo sistema de arquivos).</para>

    <programlisting>options          MFS          #Memory Filesystem
options          MD_ROOT      #MD is a potential root device</programlisting>

    <para>Trata-se basicamente de um espa&ccedil;o em mem&oacute;ria mapeado para armazenamento r&aacute;pido de arquivos tempor&aacute;rios, se voc&ecirc;
	tiver uma boa quantidade de mem&oacute;ria real e virtual, pode for&ccedil;ar a utiliza&ccedil;&atilde;o deste recurso em outros
	pontos tamb&eacute;m.  Uma id&eacute;ia interessante &eacute; montar como MFS o diret&oacute;rio <filename>/tmp</filename>, se houver
	necessidade de muito desempenho nesta unidade. Neste caso, adicione por exemplo a seguinte linha
	no arquivo <filename>/etc/fstab</filename>:</para>

    <informalexample>
      <programlisting>/dev/ad1s2b	/tmp mfs rw 0 0</programlisting>
    </informalexample>

    <para>Agora basta reiniciar seu sistema ou rodar o comando
      <command>mount /tmp</command>.</para>

    <note><para>No &os; 5.X, a op&ccedil;&atilde;o &man.md.4; &eacute; usada com grande vantagem sobre MFS.  Mais informa&ccedil;&otilde;es sobre
	a configura&ccedil;&atilde;o de sistemas de arquivo em mem&oacute;ria, podem ser obtidas nos manuais
	&man.mdconfig.8; e &man.mdmfs.8;, e tamb&eacute;m na <xref linkend="disks-virtual">. Consequentemente, 
	a op&ccedil;&atilde;o <literal>MFS</literal> n&atilde;o &eacute; mais suportada na s&eacute;rie 5.X.</para></note>

    <indexterm>
      <primary>Op&ccedil;&otilde;es do kernel</primary>
      <secondary>NFS</secondary>
    </indexterm>
    <indexterm>
      <primary>Op&ccedil;&otilde;es do kernel</primary>
      <secondary>NFS_ROOT</secondary>
    </indexterm>
    <programlisting>options          NFS          #Network Filesystem
options          NFS_ROOT     #NFS usable as root device, NFS required</programlisting>

    <para>Trata-se do sistema de arquivos de rede.  A menos que voc&ecirc; n&atilde;o planeje montar parti&ccedil;&otilde;es
      &unix; sob rede TCP/IP, comente esta linha.</para>

    <indexterm>
      <primary>Op&ccedil;&otilde;es do kernel</primary>
      <secondary>MSDOSFS</secondary>
    </indexterm>
    <programlisting>options          MSDOSFS      #MSDOS Filesystem</programlisting>

    <para>Trata-se do sistema de arquivos &ms-dos;.  Se voc&ecirc; n&atilde;o pretende montar parti&ccedil;&otilde;es formatadas em DOS, pode
	seguramente retirar esta op&ccedil;&atilde;o.  Se voc&ecirc; tiver necessidade de montar sistemas DOS posteriormente, o m&oacute;dulo
	ser&aacute; automaticamente carregado.  O &oacute;timo conjunto de programas <application>mtools</application> (dispon&iacute;vel na Cole&ccedil;&atilde;o de Ports)
	permite que voc&ecirc; acesse disquetes DOS sem ter que mount&aacute;-los e desmont&aacute;-los (e n&atilde;o
	requer <literal>MSDOSFS</literal>).</para>

    <programlisting>options          CD9660       #ISO 9660 Filesystem
options          CD9660_ROOT  #CD-ROM usable as root, CD9660 required</programlisting>

    <para>O sistema de arquivos ISO 9660 &eacute; utilizado em CDROMs.  Pode ser interessante comentar
	esta op&ccedil;&atilde;o se voc&ecirc; n&atilde;o tem um dispositivo &oacute;ptico de leitura de CDROM, ou se tem a necessidade
	ocasional de montar CDs de dados (uma vez que o m&oacute;dulo correspondendo pode ser carregado dinamicamente
	quando for necess&aacute;rio montar um CD de dados).  CDs de &aacute;udio n&atilde;o necessitam deste suporte.</para>

    <programlisting>options          PROCFS       #Process filesystem</programlisting>

    <para>Trata-se do sistema de arquivo de processos.  Este sistema de arquivo tem a fun&ccedil;&atilde;o de criar
	e montar o ambiente <filename>/proc</filename> que permite o uso de 
      programas como &man.ps.1; para voc&ecirc; ter mais informa&ccedil;&otilde;es sobre quais
      processos est&aacute; rodando.  No &os; 5.X, o uso do <literal>PROCFS</literal>
      n&atilde;o &eacute; mais necess&aacute;rio por v&aacute;rios motivos, visto que a maioria
      das ferramentas de monitoramento tem que ser adaptadas para rodar sobre
      <literal>PROCFS</literal>. Em adi&ccedil;&atilde;o, o kernel 5.X-CURRENT
      que usa <literal>PROCFS</literal> deve agora tamb&eacute;m incluir
      suporte para <literal>PSEUDOFS</literal>:</para>

    <programlisting>options          PSEUDOFS     #Pseudo-filesystem framework</programlisting>

    <para><literal>PSEUDOFS</literal> n&atilde;o est&aacute; dispon&iacute;vel sob &os; 4.X.
      Ao contr&aacute;rio do &os; 4.X, as novas instala&ccedil;&otilde;es do &os; 5.X n&atilde;o montam, por padr&atilde;o,
	o sistema de arquivos de processos.</para>

    <programlisting>options          COMPAT_43    #Compatible with BSD 4.3 [KEEP THIS!]</programlisting>

    <para>Compatibilidade com BSD 4.3. Deixe isto descomentado, alguns programas agir&atilde;o
      estranhamente se voc&ecirc; comentar isto.</para>

    <programlisting>options          COMPAT_FREEBSD4     #Compatible with &os;4</programlisting>

    <para>Esta op&ccedil;&atilde;o &eacute; necess&aacute;ria no &os;&nbsp;5.X &i386; e Sistemas Alpha
      para suporte &agrave; aplicativos compilados em outras vers&otilde;es do &os;,
      que usa outro sistema de interfaces de chamadas. Recomenda-se que esta op&ccedil;&atilde;o
      seja usada sobre todos &i386; e sistemas Alpha que podem
      rodar outros aplicativos; plataformas que ganham suporte somente em
      5.X, tal como ia64 e &sparc64;, n&atilde;o tem esta necessidade.</para>

    <programlisting>options          SCSI_DELAY=15000    #Delay (in ms) before probing SCSI</programlisting>

    <para>Isso faz com que o kernel pare por 15 segundos antes de procurar pelos
      dispositivos SCSI em seu sistema.  Se voc&ecirc; dispor apenas de discos IDE,
      pode ignorar esta op&ccedil;&atilde;o;  em discos SCSI, pode ser interessante baixar
	&agrave; at&eacute; 5 segundos, para acelerar a inicializa&ccedil;&atilde;o. Naturalmente, se
      depois disso o &os; tiver problemas para reconhecer algum dispositivo SCSI, suba este valor
	novamente.</para>

    <programlisting>options          UCONSOLE            #Allow users to grab the console</programlisting>

    <para>Permite que a console usada por aplica&ccedil;&otilde;es gr&aacute;ficas sejam acessadas por outros usu&aacute;rios.  Por exemplo,
	se voc&ecirc; criar um terminal <application>xterm</application> com <command>xterm
      -C</command>, tudo que estiver sendo feito pelo &man.write.1;,
      &man.talk.1;, e todas as outras mensagens que voc&ecirc; receber, assim como
      algumas mensagens de console emitidas pelo kernel, ser&atilde;o capturadas.</para>

    <note><para>No &os; 5.X, <literal>UCONSOLE</literal> n&atilde;o &eacute;
      mais necess&aacute;ria.</para></note>

    <programlisting>options          USERCONFIG          #boot -c editor</programlisting>

    <para>Esta op&ccedil;&atilde;o permite carregar e editar as configura&ccedil;&otilde;es do menu de inicializa&ccedil;&atilde;o.</para>

    <programlisting>options          VISUAL_USERCONFIG   #visual boot -c editor</programlisting>

    <para>Esta op&ccedil;&atilde;o permite carregar e editar as configura&ccedil;&otilde;es do menu de inicializa&ccedil;&atilde;o em modo 
	gr&aacute;fico. 
    </para>

      <note><para>&Agrave; partir do&os; 5.0, a op&ccedil;&atilde;o <literal>USERCONFIG</literal> foi
	substitu&iacute;da pelo novo m&eacute;todo &man.device.hints.5;.
	Para maiores informa&ccedil;&otilde;es sobre &man.device.hints.5; por gentileza,
	visite a <xref linkend="device-hints">.</para></note>

    <programlisting>options          KTRACE              #ktrace(1) support</programlisting>

    <para>Esta op&ccedil;&atilde;o permite rastrear os processos do kernel, que s&atilde;o usados em rotinas de verifica&ccedil;&atilde;o
	e tratamento de erros.</para>

    <programlisting>options          SYSVSHM             #SYSV-style shared memory</programlisting>

    <para>Est&aacute; op&ccedil;&atilde;o fornece compartilhamento de mem&oacute;ria no estilo <emphasis>System V</emphasis>. O uso
      mais comum deste, s&atilde;o as extens&otilde;es XSHM do X, com muitos
	programas de gr&aacute;ficos-intensivos que obter&atilde;o automaticamente vantagens e acr&eacute;scimo de velocidade.
      Se voc&ecirc; usa X, mantenha esta op&ccedil;&atilde;o ativa.</para>

    <programlisting>options          SYSVSEM             #SYSV-style semaphores</programlisting>

    <para>Suporte &agrave; sem&aacute;foros padr&atilde;o <emphasis>System V</emphasis>. Geralmente s&atilde;o pouco usados, e adicionam algumas
	centenas de bytes no tamanho total do kernel.</para>

    <programlisting>options          SYSVMSG             #SYSV-style message queues</programlisting>

    <para>Suporte mensagens interprocessos em padr&atilde;o <emphasis>System V</emphasis>.  Mais uma vez, tamb&eacute;m requer poucas
	centenas de bytes no kernel.</para>

    <note>
      <para>O comando &man.ipcs.1; listar&aacute; algum processo que estiver fazendo uso de alguma funcionalidade
	padr&atilde;o System V.</para>
    </note>

    <programlisting>options 	P1003_1B		#Posix P1003_1B real-time extensions
options 	_KPOSIX_PRIORITY_SCHEDULING</programlisting>

    <para>Extens&otilde;es em tempo real adicionadas em 1993 ao padr&atilde;o &posix;. Determinadas
      aplica&ccedil;&otilde;es da cole&ccedil;&atilde;o do ports usam estes recursos
      (tal como <application>&staroffice;</application>).</para>

    <note><para>No &os; 5.X, todas estas funcionalidades agora s&atilde;o
      fornecidos pela op&ccedil;&atilde;o <literal>_KPOSIX_PRIORITY_SCHEDULING</literal>,
      e <literal>P1003_1B</literal> n&atilde;o &eacute; mais necess&aacute;ria.</para></note>

    <indexterm>
      <primary>Op&ccedil;&atilde;o do kernel</primary>
      <secondary>ICMP_BANDLIM</secondary>
    </indexterm>
    <indexterm>
      <primary>Nega&ccedil;&atilde;o de Servi&ccedil;o (DoS)</primary>
    </indexterm>
    <programlisting>options		ICMP_BANDLIM		#Rate limit bad replies</programlisting>

    <para>Est&aacute; op&ccedil;&atilde;o permite limitar a quantidade de resposta de erros de ICMP.  Normalmente
	esta op&ccedil;&atilde;o auxilia a prote&ccedil;&atilde;o do sistema contra ataques do tipo dega&ccedil;&atilde;o de servi&ccedil;o por pacotes ICMP.  &Eacute;
	recomendado manter esta op&ccedil;&atilde;o.</para>

    <note><para>No &os; 5.X, esta caracter&iacute;stica &eacute; habilitada por padr&atilde;o e
      a op&ccedil;&atilde;o <literal>ICMP_BANDLIM</literal> n&atilde;o &eacute; mais necess&aacute;ria.
      </para></note>

    <indexterm>
      <primary>Op&ccedil;&otilde;es do kernel</primary>
      <secondary>SMP</secondary>
    </indexterm>
    <programlisting># To make an SMP kernel, the next two are needed
#options        SMP                     # Symmetric MultiProcessor Kernel
#options        APIC_IO                 # Symmetric (APIC) I/O</programlisting>

    <para>Ambas op&ccedil;&otilde;es acima s&atilde;o necess&aacute;rias para suporte &agrave; multiprocessamento sim&eacute;trico (<acronym>SMP</acronym>).</para>

    <programlisting>device          isa</programlisting>

    <para>Todos os PCs com &os; suportam esta op&ccedil;&atilde;o.  Caso seu computador seja um
      IBM PS/2 (Arquitetura Micro Canal), o &os; fornece um suporte um pouco limitado.
	Para maiores informa&ccedil;&otilde;es sobre este, veja a opc&atilde;o MCA, em
      <filename>/usr/src/sys/i386/conf/LINT</filename>.</para>

    <programlisting>device          eisa</programlisting>

    <para>Inclua esta op&ccedil;&atilde;o caso sua placa-m&atilde;e seja EISA.  Esta op&ccedil;&atilde;o habilita a auto-detec&ccedil;&atilde;o e suporte 
	a configura&ccedil;&atilde;o de todos os dispositivos sobre o barramento EISA.</para>

    <programlisting>device          pci</programlisting>

    <para>Inclua este op&ccedil;&atilde;o se sua placa-m&atilde;e suporta PCI.  Esta op&ccedil;&atilde;o habilita a auto-detec&ccedil;&atilde;o e suporte
	a configura&ccedil;&atilde;o demplacas PCI e os que estiverem em transi&ccedil;&atilde;o do barramento ISA para PCI.</para>

    <programlisting>device          agp</programlisting>

    <para>Inclua esta op&ccedil;&atilde;o se voc&ecirc; dispor de uma placa de AGP em seu sistema.  Esta op&ccedil;&atilde;o habilita suporte &agrave;
	AGP e AGP GART em placas com estes recursos.</para>

    <programlisting># Floppy drives
device          fdc0        at isa? port IO_FD1 irq 6 drq 2
device          fd0         at fdc0 drive 0
device          fd1         at fdc0 drive 1</programlisting>

    <para>Trata-se do controlador de disco flex&iacute;vel. <literal>fd0</literal> &eacute;
      o drive flex&iacute;vel <devicename>A:</devicename>, e
      <literal>fd1</literal> &eacute; o drive <devicename>B:</devicename>.</para>

    <programlisting>device          ata</programlisting>

    <para>Este driver suporta todos dispositivos ATA e de ATAPI. Voc&ecirc; necessitar&aacute; somente
      uma linha com a entrada <literal>device ata</literal> para que o kernel detecte todos os dispositivos 
      PCI ATA/ATAPI em uma m&aacute;quina moderna.</para>

    <programlisting>device          atadisk                 # ATA disk drives</programlisting>

    <para>Esta op&ccedil;&atilde;o &eacute; necess&aacute;rio em conjunto com a <literal>device ata</literal> para dispositivos de 
	controle de discos ATA.</para>

    <programlisting><anchor id="kernelconfig-atapi">
device          atapicd                 # ATAPI CDROM drives</programlisting>

    <para>Esta op&ccedil;&atilde;o &eacute; necess&aacute;rio em conjunto com a <literal>device ata</literal> para dispositivos de
	de controle de drives de CD ATAPI.</para>

    <programlisting>device          atapifd                 # ATAPI floppy drives</programlisting>

    <para>Esta op&ccedil;&atilde;o &eacute; necess&aacute;rio em conjunto com a <literal>device ata</literal> para controle dispositivos
	de unidades de disquetes ATAPI.</para>

    <programlisting>device          atapist                 # ATAPI tape drives</programlisting>

    <para>Esta op&ccedil;&atilde;o &eacute; necess&aacute;rio em conjunto com a <literal>device ata</literal> para dispositivos de
	de controle de dispositivos de fitas ATAPI.</para>

    <programlisting>options         ATA_STATIC_ID           #Static device numbering</programlisting>

    <para>Esta op&ccedil;&atilde;o faz o controle est&aacute;tico de n&uacute;mero identificador ATA, no padr&atilde;o antigo, ou
      os n&uacute;meros de dispositivos que s&atilde;o alocados din&acirc;micamente.</para>

    <programlisting># ATA and ATAPI devices
device          ata0        at isa? port IO_WD1 irq 14
device          ata1        at isa? port IO_WD2 irq 15</programlisting>

    <para>&Eacute; usado em sistemas mais antigos, que n&atilde;o suportam padr&atilde;o PCI.</para>

    <programlisting># SCSI Controllers
device          ahb        # EISA AHA1742 family
device          ahc        # AHA2940 and onboard AIC7xxx devices
device          amd        # AMD 53C974 (Teckram DC-390(T))
device          dpt        # DPT Smartcache - See LINT for options!
device          isp        # Qlogic family
device          ncr        # NCR/Symbios Logic
device          sym        # NCR/Symbios Logic (newer chipsets)

device          adv0       at isa?
device          adw
device          bt0        at isa?
device          aha0       at isa?
device          aic0       at isa?</programlisting>

    <para>Controladoras SCSI. Caso alguma destas controladoras n&atilde;o estejam dispon&iacute;veis em seu sistema,
	comente a linha em quest&atilde;o.  Caso voc&ecirc; tenha apenas discos IDE, todas op&ccedil;&otilde;es aqui podem ser
	completamente removidas.</para>

    <programlisting># SCSI peripherals
device          scbus      # SCSI bus (required)
device          da         # Direct Access (disks)
device          sa         # Sequential Access (tape etc)
device          cd         # CD
device          pass       # Passthrough device (direct SCSI
access)</programlisting>

    <para>Perif&eacute;ricos SCSI. Mais uma vez, se algum destes perif&eacute;ricos n&atilde;o estiverem dispon&iacute;veis
	em seu sistema,  comente a linha em quest&atilde;o.  Caso voc&ecirc; tenha apenas discos IDE, todas op&ccedil;&otilde;es aqui podem ser
	completamente removidas.</para>

    <programlisting># RAID controllers
device          ida        # Compaq Smart RAID
device          amr        # AMI MegaRAID
device          mlx        # Mylex DAC960 family</programlisting>

    <para>Suporte &agrave; controladoras RAID.  Voc&ecirc; pode manter apenas suporte aos equipamentos
	que voc&ecirc; tem dispon&iacute;vel, removendo o suporte &agrave;s controladoras RAID n&atilde;o
	dispon&iacute;veis.</para>

    <programlisting># atkbdc0 controls both the keyboard and the PS/2 mouse
device          atkbdc0    at isa? port IO_KBD</programlisting>

    <para>O controlador de teclado (<literal>atkbdc</literal>) fornece recursos de controle
	&agrave; opera&ccedil;&otilde;es de E/S para o teclado AT e teclados e dispositivos de apontamento PS/2
	(como <foreignphrase>mouse</foreignphrase> e canetas).  Este dispositivo &eacute;
	necess&aacute;rio ao suporte de teclado
      (<literal>atkbd</literal>) bem como ao dispositivo de controle PS/2
      (<literal>psm</literal>).</para>

    <programlisting>device          atkbd0     at atkbdc? irq 1</programlisting>

    <para>O dispositivo de controle <literal>atkbd</literal>, em comjunto com o
      <literal>atkbdc</literal>, prov&eacute;m accesso ao teclado AT 84
      ou &agrave; teclados AT, modelos aprimorados e convencionais.</para>

    <programlisting>device          psm0       at atkbdc? irq 12</programlisting>

    <para>Use este dispositivo caso seu mouse seja do tipo que requer conectores PS/2.</para>

    <programlisting>device          vga0        at isa?</programlisting>

    <para>Dispositivo de controle de v&iacute;deo.</para>

    <programlisting># splash screen/screen saver
pseudo-device          splash</programlisting>

    <para>Possibilita que seja adicionada uma tela de sobreposi&ccedil;&atilde;o (bitmap) na inicializa&ccedil;&atilde;o do sistema.
	Protetores de tela tamb&eacute;m exijem suporte a este dispositivo.</para>

    <programlisting># syscons is the default console driver, resembling an SCO console
device          sc0          at isa?</programlisting>

    <para><literal>sc0</literal> &eacute; o dispositivo padr&atilde;o de controle do console do sistema,
	e se assenelha ao console de sistema SCO.  A maioria dos terminais requerem este suporte
	mesmo terminais que fazem uso do mapeamento <filename>termcap</filename>, mas n&atilde;o deve
	ser relevante quando o dispositivo <literal>vt0</literal> for utilizado, uma vez que
	este &eacute; compat&iacute;vel com o console <literal>VT220</literal>.  Neste caso, ao se logar,
	basta definir a vari&aacute;vel de ambiente <envar>TERM</envar> como <literal>scoansi</literal>
	especialmente alguma aplica&ccedil;&atilde;o que ocupe a tela inteira apresentar inconformidades
	no console.</para>

    <programlisting># Enable this and PCVT_FREEBSD for pcvt vt220 compatible console driver
#device          vt0     at isa?
#options         XSERVER          # support for X server on a vt console
#options         FAT_CURSOR       # start with block cursor
# If you have a ThinkPAD, uncomment this along with the rest of the PCVT lines
#options         PCVT_SCANSET=2   # IBM keyboards are non-std</programlisting>

    <para>Trata-se de um dispositivo de controle VT220 compat&iacute;vel com o console, padr&otilde;es
      VT100/102.  Esta op&ccedil;&atilde;o &eacute; aconselhada para computadores m&oacute;veis que tenham problemas de
	compatibilidade com <literal>sc0</literal>.  Ajuste tamb&eacute;m o valor da vari&aacute;vel
	<envar>TERM</envar> para <literal>vt100</literal> ou
      <literal>vt220</literal> logar-se no terminal.  Este dispositivo pode ser usado
      para interconectar um grande n&uacute;mero de diferentes m&aacute;quinas em um ambiente
      de rede, onde <filename>termcap</filename> ou
      <filename>terminfo</filename> contenham entradas para o dispositivo
	<literal>sc0</literal> &mdash; <literal>vt100</literal>
      deve estar virtualmente dispon&iacute;vel em todas esta&ccedil;&otilde;es.</para>

    <programlisting># Power management support (see LINT for more options)
device          apm0     at nexus? disable flags 0x20  # Advanced Power Management</programlisting>

    <para>Suporte &agrave; Gerenciamento Avan&ccedil;ado de Energia. Usado especialmente em laptops.</para>

    <programlisting># PCCARD (PCMCIA) support
device          card
device          pcic0    at isa? irq 10 port 0x3e0 iomem 0xd0000
device          pcic1    at isa? irq 11 port 0x3e2 iomem 0xd4000 disable</programlisting>

    <para>Suporte PCMCIA.  Especialmente &uacute;til em laptop.</para>

    <programlisting># Serial (COM) ports
device          sio0     at isa? port IO_COM1 flags 0x10 irq 4
device          sio1     at isa? port IO_COM2 irq 3
device          sio2     at isa? disable port IO_COM3 irq 5
device          sio3     at isa? disable port IO_COM4 irq 9</programlisting>

    <para>Suporte &agrave; portas de comunica&ccedil;&atilde;o serial.  Estes dispositivos s&atilde;o an&aacute;logamente
	referentes &agrave;s portas COM1 at&eacute; COM4, em ambientes &ms-dos/&windows;.</para>

    <note>
      <para>Se voc&ecirc; tiver um modem interno na COM4 e uma porta serial na
	COM2, voc&ecirc; ter&aacute; que mudar a IRQ do modem para 2 (pelas
	raz&otilde;es t&eacute;cnicas IRQ2 = IRQ 9) de forma que o &os; compreenda
	estas defini&ccedil;&otilde;es.  Se voc&ecirc; tiver um cart&atilde;o serial de m&uacute;ltiplas interfaces seriais,
	verifique a p&aacute;gina de manual &man.sio.4; para obter maiores informa&ccedil;&otilde;es sobre os
	valores apropriados para esta linha de op&ccedil;&atilde;o do kernel.
	Algunas placas v&iacute;deo (especialmente aquelas com chip baseado em
	S3) usam endere&ccedil;o de E/S no formato
	<literal>0x*2e8</literal>, e como v&aacute;rias placas seriais simplesmente ignoram qualquer
	possibilidade de conviv&ecirc;ncia com uma placa de v&iacute;deo destas, seu endere&ccedil;amento de E/S 16-bit
	costumam conflitar com estes dispositivos, que querem operar na porta COM4 - normalmente indispon&iacute;vel.</para>

      <para>Cada porta serial requer uma IRQ exclusiva (a n&atilde;o ser que voc&ecirc;
        esteja usando um cart&atilde;o multi-portas onde as interrup&ccedil;&otilde;es compartilhadas s&atilde;o
	suportadas), sendo assim as IRQs padr&atilde;o para COM3 e COM4 n&atilde;o s&atilde;o habilitadas
	automaticamente.</para>
    </note>

    <programlisting># Parallel port
device          ppc0    at isa? irq 7</programlisting>

    <para>Trata-se da porta paralela para a interface de barramento ISA.</para>

    <programlisting>device          ppbus      # Parallel port bus (required)</programlisting>

    <para>Suporta o barramento de porta paralela.</para>

    <programlisting>device          lpt        # Printer</programlisting>

    <para>Suporte &agrave; porta paralela de impressoras.</para>

    <note>
      <para>Todos os tr&ecirc;s acima s&atilde;o necess&aacute;rios para habilitar suporte &agrave; impressora paralela.</para>
    </note>

    <programlisting>device          plip       # TCP/IP over parallel</programlisting>

    <para>Dispositivo de controle para a interface de rede via porta paralela.</para>

    <programlisting>device          ppi        # Parallel port interface device</programlisting>

    <para>Uma porta paralela de prop&oacute;sito geral (<quote>geek port</quote>)
	padr&atilde;o de E/S IEEE1284.</para>

    <programlisting>#device         vpo        # Requires scbus and da</programlisting>

    <indexterm><primary>zip drive</primary></indexterm>
    <para>Trata-se do suporte &agrave; <quote>Zip Drive</quote> da Iomega.  Requer ainda suporte
	&agrave; <literal>scbus</literal> e <literal>da</literal>.  Melhor
      performance garantida com portas em modo EPP 1.9.</para>

    <programlisting># PCI Ethernet NICs.
device          de         # DEC/Intel DC21x4x (<quote>Tulip</quote>)
device          fxp        # Intel EtherExpress PRO/100B (82557, 82558)
device          tx         # SMC 9432TX (83c170 <quote>EPIC</quote>)
device          vx         # 3Com 3c590, 3c595 (<quote>Vortex</quote>)
device          wx         # Intel Gigabit Ethernet Card (<quote>Wiseman</quote>)</programlisting>

    <para>Suporte &agrave; uma s&eacute;rie de placas de rede PCI.  Voc&ecirc; pode comentar ou remover os dispositivos
	que controlam placas de rede que voc&ecirc; n&atilde;o disponha em seu sistema.</para>

    <programlisting># PCI Ethernet NICs that use the common MII bus controller code.
device          miibus     # MII bus support</programlisting>

    <para>O suporte ao barramento MII &eacute; necess&aacute;rio para o correto funcionanento de uma s&eacute;rie
	de placas de rede PCI 10/100, espec&iacute;ficamente as placas com 
	transceivers MII-compat&iacute;veis ou ent&atilde;o os que implementam a interface de controle
	em quest&atilde;o, operando como MII.  Adicionar a op&ccedil;&atilde;o
	<literal>device miibus</literal> prov&ecirc; suporte &agrave; uma API de barramento MII gen&eacute;rica, e a
	todos os dispositivos de controle PHY, incluindo um gen&eacute;rico para PHYs n&atilde;o
	declarados no momento da negocia&ccedil;&atilde;o dos recursos.</para>

    <programlisting>device          dc         # DEC/Intel 21143 and various workalikes
device          rl         # RealTek 8129/8139
device          sf         # Adaptec AIC-6915 (<quote>Starfire</quote>)
device          sis        # Silicon Integrated Systems SiS 900/SiS 7016
device          ste        # Sundance ST201 (D-Link DFE-550TX)
device          tl         # Texas Instruments ThunderLAN
device          vr         # VIA Rhine, Rhine II
device          wb         # Winbond W89C840F
device          xl         # 3Com 3c90x (<quote>Boomerang</quote>, <quote>Cyclone</quote>)</programlisting>

    <para>Suporte &agrave; placas de rede que usam o c&oacute;digo controlador do barramento MII.</para>

    <programlisting># ISA Ethernet NICs.
device          ed0    at isa? port 0x280 irq 10 iomem 0xd8000
device          ex
device          ep
# WaveLAN/IEEE 802.11 wireless NICs. Note: the WaveLAN/IEEE really
# exists only as a PCMCIA device, so there is no ISA attachment needed
# and resources will always be dynamically assigned by the pccard code.
device          wi
# Aironet 4500/4800 802.11 wireless NICs. Note: the declaration below will
# work for PCMCIA and PCI cards, as well as ISA cards set to ISA PnP
# mode (the factory default). If you set the switches on your ISA
# card for a manually chosen I/O address and IRQ, you must specify
# those parameters here.
device          an
# The probe order of these is presently determined by i386/isa/isa_compat.c.
device          ie0    at isa? port 0x300 irq 10 iomem 0xd0000
device          fe0    at isa? port 0x300
device          le0    at isa? port 0x300 irq 5 iomem 0xd0000
device          lnc0   at isa? port 0x280 irq 10 drq 0
device          cs0    at isa? port 0x300
device          sn0    at isa? port 0x300 irq 10
# requires PCCARD (PCMCIA) support to be activated
#device         xe0    at isa?</programlisting>

    <para>Tratam-se de dispositivos de controle de interfaces Ethernet padr&atilde;o ISA Ethernet drivers.
	Veja a lista de placas suportadas por cada um destes dispositivos em
      <filename>/usr/src/sys/i386/conf/LINT</filename>.</para>

    <programlisting>pseudo-device   ether         # Ethernet support</programlisting>

    <para><literal>ether</literal> &eacute; necess&aacute;rio caso voc&ecirc; tenha alguma placa de rede dispon&iacute;vel.  Este dispositivo
	inclui suporte ao c&oacute;digo gen&eacute;rico do protocolo Ethernet.</para>

    <programlisting>pseudo-device   sl      1     # Kernel SLIP</programlisting>

    <para><literal>sl</literal> &eacute; o suporte &agrave; SLIP.  Esta tecnologia foi quase completamente
	substitu&iacute;da pelo PPP, que &eacute; mais f&aacute;cil de configurar, mais flex&iacute;vel e melhor suporte
	&agrave; conex&atilde;o modem-a-modem, e mais &eacute; mais poderoso.  O <replaceable>valor</replaceable> na frente da
	entrada <literal>sl</literal> indica quantas sess&otilde;es simult&acirc;neas da conex&otilde;ees SLIP ser&atilde;o suportadas.</para>

    <programlisting>pseudo-device   ppp     1     # Kernel PPP</programlisting>

    <para>Trata-se do suporte PPP no kernel, usado especialmente para conex&otilde;es discadas.
	H&aacute; tamb&eacute;m uma outra vers&atilde;o do PPP implementada em n&iacute;vel de usu&aacute;rio com o dispositivo
	<literal>tun</literal> e oferece mais flexibilidade e caracter&iacute;sticas
	tais como exigem as conex&otilde;es discadas. O <replaceable>valor</replaceable> de conex&otilde;es
	ap&oacute;s a entrada <literal>ppp</literal>, define a quantidade de conex&otilde;es simult&acirc;neas
	suportadas pelo PPP.</para>

    <programlisting>pseudo-device   tun           # Packet tunnel.</programlisting>

    <para>&Eacute; usada pelo programa que implementa o suporte PPP em n&iacute;vel de usu&aacute;rio. O
	<replaceable>valor</replaceable> na frente da entrada <literal>tun</literal>
	indica o n&uacute;mero de sess&otilde;es simult&acirc;neas suportadas pelo PPP.  Veja a
	<link linkend="userppp">PPP</link> deste livro para obter maiores
      informa&ccedil;&otilde;es.</para>

    <programlisting><anchor id="kernelconfig-ptys">
pseudo-device   pty           # Pseudo-ttys (telnet etc)</programlisting>

    <para>Trata-se de um <quote>pseudo-terminal</quote> que simula a interface
	de login no sistema.  &Eacute; usado pelo <command>telnet</command> bem como por se&ccedil;&otilde;es
      <command>rlogin</command>,
      <application>xterm</application>, e algumas outras aplica&ccedil;&otilde;es como
      <application>Emacs</application>.  O
      <replaceable>valor</replaceable> ap&oacute;s a entrada <literal>pty</literal> indica o n&uacute;mero de
	dispositivos <literal>pty</literal> que devem ser criados.  Se voc&ecirc; tem a necessidade de mais de
	16 sess&otilde;es simult&acirc;neas de <application>xterm</application> ou acessos remotos, pode aumentar
	este valor at&eacute; o m&aacute;ximo de 256.</para>

    <programlisting>pseudo-device   md            # Memory <quote>disks</quote></programlisting>

    <para>&Eacute; o pseudo-dispositivo para discos de mem&oacute;ria.</para>

    <programlisting>pseudo-device   gif</programlisting>

    <para>ou</para>

    <programlisting>pseudo-device   gif     4     # IPv6 and IPv4 tunneling</programlisting>

    <para>Implementa tunelamento do protocolo IPv6 sobre IPv4, bem como tunelamento
      IPv4 sobre IPv4, e IPv6 sobre.  &Agrave; partir do
      &os;&nbsp;4.4 o dispositivo <literal>gif</literal> pode ser criado por demanda,
	e a primeira entrada (sem o identificador num&eacute;rico ap&oacute;s o <literal>gif</literal>) pode
	ser usada.  Vers&otilde;es anteriores do &os; requerem esta defini&ccedil;&atilde;o.</para>

    <programlisting>pseudo-device   faith   1     # IPv6-to-IPv4 relaying (translation)</programlisting>

    <para>Este pseudo-dispositivo captura os pacotes que s&atilde;o emitidos e
      desv&iacute;a-os ao daemon da tradu&ccedil;&atilde;o IPv4/IPv6.</para>

    <programlisting>pseudo-device   bpf           # Berkeley packet filter</programlisting>

    <para>Trata-se do Filtro de Pacotes de Berkeley. Este pseudo-dispositivo permite
      que as interfaces da rede sejam colocadas em modo prom&iacute;scuo, capturando cada
      pacote que trafegar publicamente na rede. Estes pacotes
      podem ser capturados e salvos em disco ou examinados com o programa &man.tcpdump.1;.</para>

    <note>
      <para>A op&ccedil;&atilde;o <literal>pseudo-device	bpf</literal> &eacute; usada tamb&eacute;m pelo
	&man.dhclient.8; para obter o endere&ccedil;o IP do roteador padr&atilde;o
	(gateway) e assim por diante. Se voc&ecirc; usa DHCP, mantenha esta op&ccedil;&atilde;o
	descomentada.</para>
    </note>

    <programlisting># Suporte USB
#device         uhci          # UHCI PCI-&gt;USB interface
#device         ohci          # OHCI PCI-&gt;USB interface
#device         usb           # USB Bus (required)
#device         ugen          # Generic
#device         uhid          # <quote>Human Interface Devices</quote>
#device         ukbd          # Keyboard
#device         ulpt          # Printer
#device         umass         # Disks/Mass storage - Requires scbus and da
#device         ums           # Mouse
# USB Ethernet, requires mii
#device         aue           # ADMtek USB ethernet
#device         cue           # CATC USB ethernet
#device         kue           # Kawasaki LSI USB ethernet</programlisting>

    <para>Estas op&ccedil;&otilde;es adicionam suporte &agrave; v&aacute;rios dispositivos USB.</para>

    <para>Para obter mais informa&ccedil;&otilde;es sobre cada dispositivo USB suportado pelo &os;
	por gentileza, veja <filename>/usr/src/sys/i386/conf/LINT</filename>.</para>

      <sect2>
        <title>Grandes Configura&ccedil;&otilde;es de Mem&oacute;ria (<acronym>PAE</acronym>)</title>
	<indexterm>
	  <primary>
	    Extens&otilde;es F&iacute;sicas de Endere&ccedil;amento (<acronym>PAE</acronym>)
	  </primary>
	  <secondary>
	    Grandes Configura&ccedil;&otilde;es de Mem&oacute;ria
	  </secondary>
	</indexterm>

	<para>M&aacute;quinas com grandes configura&ccedil;&otilde;es de mem&oacute;ria tem a necessidade
	 de que sejam acessados endere&ccedil;os de mem&oacute;ria que superam o limite de 4 Gigabytes de espa&ccedil;o no
	 ambiente de usu&aacute;rio e do kernel (<acronym>KVA</acronym>). Devido &agrave; esta
	 limita&ccedil;&atilde;o, a Intel adicionou suporte &agrave; espa&ccedil;o de endere&ccedil;amento f&iacute;sico de 36-bit
	 nos processadores no &pentium; em sua linha de CPUs Pro e posteriores.</para>
	
	<para>A extens&atilde;o de endere&ccedil;o f&iacute;sico (<acronym>PAE</acronym>)
	  possibilida que as CPUs &intel; &pentium; Pro e posteriores possam ter at&eacute;
	  64 gigabytes de mem&oacute;ria. O &os; oferece suporte &agrave; este recurso por meio da
	  op&ccedil;&atilde;o <option>PAE</option> na configura&ccedil;&atilde;o do kernel, dispon&iacute;vel
	  na s&eacute;rie 4.X &agrave; partir da vers&atilde;o 4.9-RELEASE e
	  no 5.X &agrave; partir do 5.1-RELEASE.  Devido &agrave; limita&ccedil;&otilde;es da arquitetura de mem&oacute;ria Intel, n&atilde;o
	  &eacute; poss&iacute;vel distinguir o que &eacute; endere&ccedil;ado acima ou abaixo dos 4 gibabytes.  A mem&oacute;ria
	  al&eacute;m dos 4GB &eacute; meramente inclusa e mapeada ao <foreignphrase>pool</foreignphrase> de
	  mem&oacute;ria dispon&iacute;vel.</para>

	<para>Para habilitar suporte ao <acronym>PAE</acronym>, basta adicionar
	  ao arquivo de configura&ccedil;&atilde;o do kernel, a seguinte linha:
	  </para>
	
	<programlisting>options		    PAE</programlisting>

	<note>
	  <para>O suporte &agrave; <acronym>PAE</acronym> no &os; limita-se &agrave;
	   processadores &intel; IA-32.  Deve-se tamb&eacute;m 
	    notar, que o suporte &agrave; <acronym>PAE</acronym> no &os; ainda n&atilde;o
	    foi totalmente testado, e &eacute; considerado de qualidade beta, quando comparado
	    com outros recursos est&aacute;veis do &os;.</para>
	</note>

	<para>O suporte &agrave; <acronym>PAE</acronym> no &os; tem algumas limita&ccedil;&otilde;es:</para>
	
	<itemizedlist>
	  <listitem>
	    <para>Um mesmo processo n&atilde;o pode alocar mais do que
		4 gigabytes do espa&ccedil;o da VM.</para>
	  </listitem>

	  <listitem>
	    <para>M&oacute;dulos <acronym>KLD</acronym> n&atilde;o podem ser carregados dentro
	      em um kernel com <acronym>PAE</acronym> habilitado, devido a 
	      diferen&ccedil;as na estrutura da configura&ccedil;&atilde;o do m&oacute;dulo de kernel.
	      </para>
	  </listitem>

	  <listitem>
	    <para>Dispositivos de controle n&atilde;o usam o a interface &man.bus.dma.9;
	      podem causar corrompimento de dados em um kernel com
	      <acronym>PAE</acronym>, portanto n&atilde;o s&atilde;o recomendados para uso em conjunto
	      com <acronym>PAE</acronym>.  Por esta raz&atilde;o um arquivo espec&iacute;fico para configura&ccedil;&atilde;o
	      de um kernel com <filename>PAE</filename> est&aacute; dispon&iacute;vel separadamente no
	      &os; 5.X, onde os dispositivos de controle conflitante est&atilde;o ausentes.</para>
	  </listitem>

	  <listitem>
	    <para>Alguns valores ajust&aacute;veis no kernel do sistema s&atilde;o baseados na quantidade
	      de mem&oacute;ria que foi configurada no kernel, estaticamente, no momento da
	      compila&ccedil;&atilde;o deste.  Alguns destes valores podem ter necessidade de serem realocados
	      devido &agrave; natureza do suporte &agrave; muita mem&oacute;ria dispon&iacute;vel em sistemas com
	      <acronym>PAE</acronym>. Um bom exemplo &eacute; a MIB ajust&aacute;vel via &man.sysctl.8;,
	      <option>kern.maxvnodes</option>, que controla o n&uacute;mero m&aacute;ximo de vnodes
	      que podem ser alocados no kernel.  &Eacute; recomendado que este e outros valores
	      ajust&aacute;veis sejam redefinidos &agrave; um valor raso&aacute;vel, em sistemas
	      com <filename>PAE</filename>.</para>
	  </listitem>

	  <listitem>
	    <para>Pode ser necess&aacute;rio aumentar o espa&ccedil;o virtual de endere&ccedil;amento
	     do kernel (<acronym>KVA</acronym>) ou diminuir a quantidade de recursos
	     utilizados com maior demanda no kernel, objetivando evitar a exaust&atilde;o do <acronym>KVA</acronym>.
		A op&ccedil;&atilde;o <option>KVA_PAGES</option> pode ser usada na configura&ccedil;&atilde;o do kernel para aumentar
		o espa&ccedil;o dispon&iacute;vel para o <aconym>KVA</acronym>.</para>
	  </listitem>
	</itemizedlist>

	<para>Para mais dicas sobre performance e estabilidade, &eacute; recomendado a leitura da
	  p&aacute;gina de manual &man.tuning.7;. A p&aacute;gina de manual &man.pae.4;
	  cont&eacute;m informa&ccedil;&atilde;o recentes sobre o suporte <acronym>PAE</acronym>
	  no &os;.</para>
    </sect2>
  </sect1>

  <sect1 id="kernelconfig-nodes">
    <title>Criando Dispositivos de Controle</title>

    <indexterm><primary>dispositivos de controle</primary></indexterm>
    <indexterm>
      <primary><command>MAKEDEV</command></primary>
    </indexterm>

    <note><para>Se voc&ecirc; estiver usando o &os;&nbsp; vers&atilde;o 5.0 ou posterior,
      pode seguramente pular esta se&ccedil;&atilde;o.  Estas vers&otilde;es usam o &man.devfs.5; para criar os dispositivos de controle
	de forma completamente transparente para o usu&aacute;rio.</para></note>

    <para>Quase todos dispositivo no kernel usam um
      <quote>dispositivo de controle</quote> que fica no diret&oacute;rio <filename>/dev</filename>.
      O usu&aacute;rio normal visualiza estes dispositivos como arquivos regulares, mas na realidade s&atilde;o entradas especiais
	no kernel do sistema, que os programas usam para acessar os recursos do sistema. Existe uma rotina <foreignphrase>shell</foreignphrase>,
	o <filename>/dev/MAKEDEV</filename>, que &eacute;
      executado quando voc&ecirc; instala o sistema operacional pela primeira vez; esta rotina cria
      quase todos os dispositivos de controle suportados no sistema. Entretanto, n&atilde;o
      cria <emphasis>todos</emphasis>, de forma que ao adicionar suporte para
      novos dispositivos, esta rotina deve ser usada para criar a entrada apropriada neste diret&oacute;rio
	e acima dele. Veja um exemplo simples:</para>

    <para>Vamos supor que voc&ecirc; adicionou um CD-ROM IDE e requer que ele seja suportado pelo kernel. A linha
      no kernel deve ser a seguinte:</para>

    <programlisting>device acd0</programlisting>

    <para>Ou seja, a entrada <filename>acd0</filename> deve estar dispon&iacute;vel no
	<filename>/dev</filename>, possivelmente seguida por uma letra, tal como
      <literal>c</literal>, ou precedido por uma letra
      <literal>r</literal>, que significa tratar-se de um dispositivo cr&uacute; (<quote>raw</quote>).
	Existe contudo uma grande possibilidade destes arquivos n&atilde;o estarem
	presentes sob este diret&oacute;rio, neste caso voc&ecirc; pode entrar no diret&oacute;rio
      <filename>/dev</filename>:</para>

    <indexterm>
      <primary><command>MAKEDEV</command></primary></indexterm>
    <screen>&prompt.root; <userinput>sh MAKEDEV acd0</userinput></screen>

    <para>Quando a rotina terminar de ser executada, dever&atilde;o existir as entradas
      <filename>acd0c</filename> e <filename>racd0c</filename>
      sob <filename>/dev</filename>.</para>

    <para>Para placas de som, o seguinte comando cria as entradas apropriadas:</para>

    <screen>&prompt.root; <userinput>sh MAKEDEV snd0</userinput></screen>

    <note>
      <para>Ao criar dispositivos de controle tais como Placas de Som, se
	outras pessoas tiverem acesso &agrave; sua m&aacute;quina, pode ser necess&aacute;rio 
	proteger os dispositivos contra acesso externo adicionando os arquivos no
	<filename>/etc/fbtab</filename>. Veja o manual do &man.fbtab.5; para obter maiores
	informa&ccedil;&otilde;es.</para>
    </note>

    <para>Siga este simples procedimento quando quizer adicionar dispositivos de
	controle &agrave; outros equipamentos
      n&atilde;o <filename>GEN&Eacute;RICOS</filename> que n&atilde;o tiverem
      entradas apropriadas.</para>

    <note>
      <para>Todas as controladoras SCSI usam a mesma entrada sob o
	<filename>/dev</filename>, de forma que estes n&atilde;o requerem
	que os dispositivos sejam manualmente criados.  As placas de rede e SLIP/PPP n&atilde;o
	tem dispositivos de controle sob o <filename>/dev</filename>, de forma que voc&ecirc;
	n&atilde;o deve se preocupar tamb&eacute;m com estes equipamentos.</para>
    </note>
  </sect1>

  <sect1 id="kernelconfig-trouble">
    <title>Se algo der errado</title>

    <para>H&aacute; 5 categorias de problemas que podem ocorrer ao compilar um kernel personalizado.
      Elas s&atilde;o:</para>

    <variablelist>
      <varlistentry>
	<term>Falhas na <command>configura&ccedil;&atilde;o</command>:</term>

	<listitem>
	  <para>Se a rotina &man.config.8; falhar, &eacute; prov&aacute;vel que voc&ecirc; tenha cometido
		um erro bastante simples.  Felizmente, o &man.config.8; indicar&aacute; o n&uacute;mero da
		linha que est&aacute; com problema, de forma que voc&ecirc; pode tranquilamente ir
		diretamente &agrave; esta linha, com um editor de texto como o
		<application>vi</application>. Por exemplo, se voc&ecirc; encontrar o seguinte erro:</para>

	  <screen>config: line 17: syntax error</screen>

	  <para>Voc&ecirc; vai identificar o problema, usando o <application>vi</application>,
	    com o comando <command>17G</command> no modo de comandos do editor. Certifique-se que o
	    a op&ccedil;&atilde;o em quest&atilde;o est&aacute; corretamente configurada, comparando o kernel
	    <filename>GEN&Eacute;RICO</filename> com sua outra
	    refer&ecirc;ncia de arquivo de kernel.</para>
	</listitem>
      </varlistentry>

      <varlistentry>
	<term>Falha no <command>make</command>:</term>

	<listitem>
	  <para>Se o comando <command>make</command> falhar, &eacute; indica&ccedil;&atilde;o de que
	    existem erros no seu arquivo de configura&ccedil;&atilde;o do kernel, mas estes erros n&atilde;o s&atilde;o
	    suficientemente claros para o &man.config.8; indeitifca-lo.  Mas uma vez, d&ecirc; uma olhada em
	    seu arquivo de configura&ccedil;&atilde;o do kernel, e se n&atilde;o conseguir solucionar a quest&atilde;o, envie uma
	    mensagem de correio eletr&ocirc;nico para &a.questions; com a configura&ccedil;&atilde;o do seu kernel, de forma
	    que o problema seja diagnosticado de forma r&aacute;pida.</para>
	</listitem>
      </varlistentry>

      <varlistentry>
	<term>Falha na instala&ccedil;&atilde;o do kernel:</term>
	
	<listitem>
	  <para>Se o kernel estiver perfeitamente compilado, e n&atilde;o foi instalado corretamente
	    (no caso do comando comando <command>make install</command> ou
	    <command>make installkernel</command> ter falhado),
	    a primeira privid&ecirc;ncia a se tormar &eacute; verificar se seu sistema n&atilde;o est&aacute; sendo executado
	    com n&iacute;vel de seguran&ccedil;a positivo (<literal>securelevel</literal> 1 ou superior - veja &man.init.8;).
	    O processo de instala&ccedil;&atilde;o do kernel tenta modifcar a regi&atilde;o de mem&oacute;ria que armazena
	    informa&ccedil;&otilde;es sobre o kernel, e coloca esta mem&oacute;ria em uma outra regi&atilde;o.
	    Se o n&iacute;vel de seguran&ccedil;a for 1 ou superior, o acesso direto &agrave; mem&oacute;ria n&atilde;o &eacute; permitido. A instala&ccedil;&atilde;o do
	    kernel precisar ser feita no n&iacute;vel de seguran&ccedil;a 0 ou inferior.</para>
	</listitem>
      </varlistentry>

      <varlistentry>
	<term>O kernel n&atilde;o carrega:<anchor
	  id="kernelconfig-noboot"></term>

	<listitem>
	  <para>Se o kernel novo n&atilde;o carregar, ou falhar no momento de
	    reconhecer os dispositivos instalados em seu sistema, n&atilde;o se apavore!  Felizmente
	    o &os; tem um excelente mecanismo de recupera&ccedil;&atilde;o de kernel incompat&iacute;vel.  Escolha o
	    kernel que voc&ecirc; deseja carregar e inicie o &os; com ele.  Para fazer isso, quando o
	    sistema de inicializa&ccedil;&atilde;o estiver na contagem regressiva de 10 segundos, aperte qualquer
	    tecla, exceto a tecla <keycap>Enter</keycap>, use o comando <command>unload</command>
            e ent&atilde;o mande iniciar o kernel antigo, com o comando
	    <command>boot <replaceable>kernel.old</replaceable></command>, ou o nome de
	    qualquer outro kernel que voc&ecirc; achar conveniente e que exista em seu &os;.  &Eacute; sempre
	    boa id&eacute;ia manter um kernel confi&aacute;vel (ou uma c&oacute;pia dele) quando come&ccedil;ar o processo
	    de recompila&ccedil;&atilde;o e instala&ccedil;&atilde;o de um novo.</para>

	  <para>Depois de carregar um kernel funcional, verifique o arquivo de configura&ccedil;&atilde;o
	    do seu kernel customizado (o que falhou), corrija as poss&iacute;veis defici&ecirc;ncias e recompile-o.
	    Um recurso muito &uacute;til que pode ajudar, &eacute; o fato do arquivo
	    <filename>/var/log/messages</filename> gravar, entre outras coisas, todas as mensagens dos
	    kernel at&eacute; o momento em que este foi carregado com sucesso.  O comando &man.dmesg.8;
	    imprimir&aacute; sempre as &uacute;ltimas mensagens atualmente geradas pelo kernel.</para>

	  <note>
	    <para>Se voc&ecirc; estiver tendo problemas para compilar um kernel, tome uma precau&ccedil;&atilde;o,
	      e mantenha um <filename>GENERIC</filename>, ou qualquer outro kernel funcional, dispon&iacute;vel.
	      Voc&ecirc; n&atilde;o pode confiar sempre no <filename>kernel.old</filename> pois no caso de um segundo
	      kernel problem&aacute;tico ser instalado, o problem&aacute;tico anterior ser&aacute; o <filename>kernel.old</filename>,
	      sobrescrevendo o arquivo funcional.  Lembre-se de corrigir o kernel e ter um novo kernel funcional
	      o quanto antes, ou de mover o kernel de seguran&ccedil;a para o nome original de <filename>kernel</filename>,
	      pois comandos como o &man.ps.1; podem n&atilde;o funcionar corretamente.  O comando &agrave; seguir
	      <quote>destrava</quote> as op&ccedil;&otilde;es de imutabilidade do kernel, e possibilita que ele seja renomeado
	      ou sobreposto.</para>

	    <screen>&prompt.root; <userinput>chflags noschg /kernel</userinput></screen>

	    <para>Se voc&ecirc; encontrar qualquer problema relacionado &agrave; esta etapa do procedimento
	      de instala&ccedil;&atilde;o, &eacute; prov&aacute;vel que esteja usando o &os; em n&iacute;vel de seguran&ccedil;a (&man.securelevel.8;)
	      maior que zero.  Neste caso edite a linha
	      <literal>kern_securelevel</literal> no arquivo
	      <filename>/etc/rc.conf</filename> e ajuste seu valor para
	      <literal>-1</literal>, depois reinicie o &os;.  Esta configura&ccedil;&atilde;o pode ser
		feita antes do in&iacute;cio da configura&ccedil;&atilde;o do novo kernel.</para>

	    <para>Se voc&ecirc; quizer assegurar seu kernel e <quote>trava-lo</quote> em algum local,
	      de forma que seu kernel funcional n&atilde;o possa ser modificado ou alterado, fa&ccedil;a o
	      seguinte:</para>

	    <screen>&prompt.root; <userinput>chflags schg /kernel</userinput></screen>

	    <para>No &os; 5.X, o kernel n&atilde;o &eacute; instalado em uma regi&atilde;o da mem&oacute;ria
	    que n&atilde;o pode ser modificado, de forma que este problema espec&iacute;ficamente, 
	    seja improv&aacute;vel como causa das dificuldades que voc&ecirc; est&aacute; tendo.</para></note>
	</listitem>
      </varlistentry>

      <varlistentry>
	<term>O kernel funciona, mas o &man.ps.1; n&atilde;o funciona mais:</term>

	<listitem>
	  <para>Se voc&ecirc; instalou uma vers&atilde;o do kernel diferente da vers&atilde;o
	  dos uitilit&aacute;rios do sistema, por exemplo, um kernel 4.X em um sistema 3.X,
	  v&aacute;rios comandos de estat&iacute;sticas do sistema como &man.ps.1; e &man.vmstat.8; n&atilde;o
	  n&atilde;o funcionar&atilde;o mais.  A biblioteca <filename>libkvm</filename> deve ser
	  recompilada, bem como estes utilit&aacute;rios todos.  &Eacute; por essa raz&atilde;o que normalmente
	  n&atilde;o &eacute; uma boa id&eacute;ia usar um kernel de vers&atilde;o diferente de todo o resto do
	  sistema operacional.</para>
	</listitem>
      </varlistentry>
    </variablelist>
  </sect1>
</chapter>

<!-- 
     Local Variables:
     mode: sgml
     sgml-declaration: "../chapter.decl"
     sgml-indent-data: t
     sgml-omittag: nil
     sgml-always-quote-attributes: t
     sgml-parent-document: ("../book.sgml" "part" "chapter")
     End:
-->
