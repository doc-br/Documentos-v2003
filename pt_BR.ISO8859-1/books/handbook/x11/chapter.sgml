<!--
     The FreeBSD Documentation Project

     $FreeBSD: doc/en_US.ISO8859-1/books/handbook/x11/chapter.sgml,v 1.131 2003/11/05 10:36:56 ceri Exp $
-->

<chapter id="x11">
  <title>O X Window System</title>

  <sect1 id="x11-synopsis">
    <title>Sinopse</title>

    <para>O FreeBSD usa <application>&xfree86;</application> para prover aos usu&aacute;rios
      uma poderosa interface gr&aacute;fica.  <application>&xfree86;</application>
      &eacute; uma implementa&ccedil;&atilde;o de c&oacute;digo aberto do <foreignphrase>X Window System</foreignphrase>.  Este cap&iacute;tulo
      cobrir&aacute; a instala&ccedil;&atilde;o e configura&ccedil;&atilde;o do
      <application>&xfree86;</application> num sistema FreeBSD.  Para mais
      informa&ccedil;&otilde;es sobre o <application>&xfree86;</application> e hardware de v&iacute;deo
      suportado, verifique o s&iacute;tio <ulink
	url="http://www.XFree86.org/">&xfree86;</ulink>.</para>

    <para>Ap&oacute;s ler este cap&iacute;tulo, voc&ecirc; saber&aacute;:</para>

    <itemizedlist>
      <listitem>
    <para>Os v&aacute;rios componentes do <foreignphrase>X Window System</foreignphrase>, e como eles
      interagem.</para>
      </listitem>

      <listitem>
	<para>Como instalar e configurar o
	  <application>&xfree86;</application>.</para>
      </listitem>

      <listitem>
	<para>Como instalar e utilizar diferentes gerenciadores de janelas.</para>
      </listitem>

      <listitem>
	<para>Como utilizar fontes &truetype; no
	  <application>&xfree86;</application>.</para>
      </listitem>

      <listitem>
	<para>Como preparar seu sistema para o uso de <literal>login</literal> gr&aacute;fico
	  (<application>XDM</application>).</para>
      </listitem>
    </itemizedlist>

    <para>Antes de ler este cap&iacute;tulo, &eacute; recomend&aacute;vel:</para>

    <itemizedlist>
      <listitem><para>Saber como instalar softwares adicionais de terceiros
	(<xref linkend="ports">).</para></listitem>
    </itemizedlist>
  </sect1>

  <sect1 id="x-understanding">
    <title>Compreendendo o X</title>

    <para>Usar o X pela primeira vez pode causar certo impacto em quem j&aacute; est&aacute;
      familiarizado com outros ambientes gr&aacute;ficos, como o &microsoft.windows; ou o
      &macos;.</para>

    <para>N&atilde;o &eacute; necess&aacute;rio entender todos os detalhes dos v&aacute;rios componentes do
      X e como eles interagem; entretanto, algum conhecimento b&aacute;sico torna
      poss&iacute;vel tirar vantagens dos pontos positivos do X.</para>

    <sect2>
      <title>Por que X?</title>

      <para>O X n&atilde;o &eacute; o primeiro sistema de interface gr&aacute;fica escrito para o &unix;, mas &eacute; o
	mais popular.  O grupo de desenvolvimento original do X j&aacute; haviam trabalhado em outro
	sistema de interface gr&aacute;fica antes de escrever o X.  O nome desse sistema era
	<quote>W</quote> (de <quote>Window</quote>).  X &eacute; apenas a pr&oacute;xima
	letra no alfabeto Romano.</para>

      <para>O X pode ser chamado de <quote>X</quote>,
	<quote>X Window System</quote> (Sistema de Janela X),
	<quote>X11</quote>, e outros termos.
	Chamar X11 de
	<quote>X Windows</quote> (n.t.  note o <quote>s</quote>) pode ofender algumas pessoas;
	veja &man.X.7; para mais dicas sobre isso.</para>
    </sect2>

    <sect2>
      <title>O modelo Cliente/Servidor do X</title>

      <para>O X foi concebido desde o in&iacute;cio com foco na rede, e
	adota um modelo <quote>cliente-servidor</quote>.  No modelo do X, o
	<quote>servidor X</quote> executa em um computador que possui teclado,
	monitor, e mouse conectados.  O servidor &eacute; respons&aacute;vel por gerenciar
	o v&iacute;deo, tratar as entradas pelo teclado e mouse, e assim por diante.
	Cada aplicativo do X (como o <application>XTerm</application>, ou
	<application>&netscape;</application>) &eacute; um <quote>cliente</quote>.  Um
	cliente envia mensagens para o servidor como <quote>Por favor, desenhe uma
	janela nestas coordenadas</quote>, e o servidor responde a
	mensagens como <quote>O usu&aacute;rio acabou de clicar o bot&atilde;o OK
	</quote>.</para>

      <para>Se h&aacute; apenas um computador envolvido, como em casa ou em um ambiente
	de escrit&oacute;rio pequeno, o servidor X e os clientes X estar&atilde;o executando
	no mesmo computador.  Entretanto, &eacute; perfeitamente poss&iacute;vel executar o servidor X
	em um computador de mesa menos poderoso, e executar os aplicativos do X
	(os clientes), por assim dizer, naquela m&aacute;quina poderosa e car&iacute;ssima que serve
	a todo o escrit&oacute;rio.  Neste cen&aacute;rio a comunica&ccedil;&atilde;o entre o cliente X
	e o servidor se d&aacute; na rede.</para>

      <para>Isto causa confus&atilde;o a algumas pessoas, pois a terminologia do X &eacute;
	exatamente contr&aacute;ria &agrave; que eles esperam.  O que se espera &eacute; que o <quote>servidor X
	</quote> seja a m&aacute;quina grande e poderosa do por&atilde;o e
	o <quote>cliente X</quote> a m&aacute;quina sobre suas mesas.</para>

      <para>Lembre-se que o servidor X &eacute; a m&aacute;quina com monitor e
	teclado, e os clientes X s&atilde;o os programas que exibem as
	janelas.</para>

      <para>N&atilde;o h&aacute; nada no protocolo que force m&aacute;quinas clientes e
	servidoras a estar executando o mesmo sistema operacional ou ainda
	no mesmo tipo de computador.  &Eacute; certamente poss&iacute;vel
	executar um servidor X no &microsoft.windows; ou no &macos; da Apple, e h&aacute;
	v&aacute;rias aplica&ccedil;&otilde;es gratuitas e comerciais dispon&iacute;veis que fazem exatamente
	isso.</para>

      <para>O servidor X que &eacute; distribu&iacute;do com o FreeBSD &eacute; chamado
	<application>&xfree86;</application>, e est&aacute; dispon&iacute;vel gratuitamente, sob uma
	licen&ccedil;a muito similar &agrave; licen&ccedil;a do FreeBSD.  H&aacute; tamb&eacute;m servidores X comerciais
	dispon&iacute;veis para o FreeBSD.</para>
    </sect2>

    <sect2>
      <title>O Gerenciador de Janela</title>

      <para>A filosofia de concep&ccedil;&atilde;o do X &eacute; muito semelhante a filosofia de concep&ccedil;&atilde;o do &unix;,
	<quote>ferramentas, n&atilde;o pol&iacute;ticas</quote>.  Isso significa que o X n&atilde;o tenta
	dizer como a tarefa deve ser realizada.  Ao inv&eacute;s disso, as ferramentas s&atilde;o fornecidas
	ao usu&aacute;rio, e &eacute; sua responsabilidade decidir como vai usar
	essas ferramentas.</para>

      <para>Essa filosofia se estende ao X quando o mesmo n&atilde;o dita com o qu&ecirc; as janelas devem
	parecer na exibi&ccedil;&atilde;o, como mov&ecirc;-las com o mouse, que
	atalho deve ser usado para mover-se entre as janelas (i.e.,
	<keycombo action="simul">
	  <keycap>Alt</keycap>
	  <keycap>Tab</keycap>
	</keycombo>, no caso do &microsoft.windows;), a apar&ecirc;ncia da barra de t&iacute;tulos
	em cada janela, se elas devem ou n&atilde;o apresentar
	bot&otilde;es para fech&aacute;-las, e assim por diante.</para>

      <para>Ao inv&eacute;s disso, o X delega essa responsabilidade para um aplicativo chamado
	<quote>Gerenciador de Janela</quote> (do ingl&ecirc;s
	<quote><foreignphrase>Window Manager</foreignphrase></quote>).  H&aacute; d&uacute;zias de gerenciadores de
	janela dispon&iacute;veis para o X: <application>AfterStep</application>,
	<application>Blackbox</application>, <application>ctwm</application>,
	<application>Enlightenment</application>,
	<application>fvwm</application>, <application>Sawfish</application>,
	<application>twm</application>,
	<application>Window Maker</application>, e outras.  Cada um desses
	gerenciadores de janela prov&ecirc;m diferentes visual e sensa&ccedil;&otilde;es;  alguns deles
	suportam <quote>&aacute;reas de trabalho virtuais</quote>; alguns permitem personalizar
	atalhos de teclado para gerenciar a &aacute;rea de trabalho; outros tem um bot&atilde;o <quote>Iniciar</quote>
	ou dispositivo semelhante; outros s&atilde;o <quote>tematiz&aacute;veis</quote>, permitindo
	uma modifica&ccedil;&atilde;o completa do visual e sensa&ccedil;&atilde;o pela aplica&ccedil;&atilde;o de um novo tema.  Estes
	gerenciadores de janela, e muitos outros, est&atilde;o dispon&iacute;veis na
	categoria <filename>x11-wm</filename> da Cole&ccedil;&atilde;o de <literal>Ports</literal>.</para>

      <para>Para completar, ambos ambientes de trabalho <application>KDE</application> e o
    <application>GNOME</application> t&ecirc;m seus
    pr&oacute;prios gerenciadores de janela integrados na &aacute;rea de trabalho.</para>

      <para>Cada gerenciador de janela tamb&eacute;m possui um mecanismo de configura&ccedil;&atilde;o diferente;
	alguns esperam que a configura&ccedil;&atilde;o seja escrita manualmente, outros possuem
	<acronym>GUI</acronym> como ferramentas para a maior parte das tarefas de configura&ccedil;&atilde;o; pelo menos um
	(<application>sawfish</application>) tem seu arquivo de configura&ccedil;&otilde;es escrito
	em um dialeto da linguagem Lisp.</para>

      <note>
	<title>Pol&iacute;tica do Foco</title>

	<para>Outro recurso de responsabilidade do gerenciador de janela &eacute;
	  a <quote>pol&iacute;tica de foco</quote> do mouse.  Todo sistema de enjanelamento
	  precisa de par&acirc;metros para escolher uma janela que responda ao acionamento do
	  teclado, e deve indicar visivelmente qual janela est&aacute; ativa
	  tamb&eacute;m.</para>

	<para>Uma pol&iacute;tica de foco bem familiar &eacute; a chamada <quote>clique para focar</quote>.
	  Este &eacute; o modelo utilizado pelo &microsoft.windows;, no qual uma janela
	  se torna ativa ap&oacute;s receber um clique do mouse.</para>

	<para>O X n&atilde;o suporta nenhuma pol&iacute;tica de foco em particular.  Ao inv&eacute;s disso, o
	  gerenciador de janela controla qual tem o foco a qualquer tempo.
	  Os diferentes gerenciadores de janela v&atilde;o suportar m&eacute;todos de foco distintos.  Todos
	  suportam clique para focar, e a maioria deles suporta
	  v&aacute;rios outros.</para>

	<para>As pol&iacute;ticas de foco mais populares s&atilde;o:</para>

	<variablelist>
	  <varlistentry>
	    <term>o foco segue o mouse</term>
	    <listitem>
	      <para>A janela abaixo do ponteiro do mouse &eacute; a
		janela que possui o foco.  Esta n&atilde;o &eacute; necessariamente
		a janela que est&aacute; sobre todas as demais.
		O foco &eacute; modificado ao apontar outra janela, n&atilde;o h&aacute;
		necessidade de clicar nela.</para>
	    </listitem>
	  </varlistentry>

	  <varlistentry>
	    <term>foco desleixado</term>

	    <listitem>
	      <para>Esta pol&iacute;tica &eacute; uma pequena extens&atilde;o de <quote>o foco segue o mouse</quote>.
		Com o foco seguindo o mouse, se o mouse &eacute; movido para
		a janela raiz (ou a &aacute;rea de trabalho) ent&atilde;o nenhuma janela tem o foco,
		e o acionamento do teclado &eacute; simplesmente perdido.  Com o foco desleixado, o foco &eacute;
		modificado apenas quando o cursor entra em uma nova janela, e n&atilde;o
		quando se sai da janela atual.</para>
	    </listitem>
	  </varlistentry>

	  <varlistentry>
	    <term>clique para focar</term>

	    <listitem>
	      <para>A janela ativa &eacute; selecionada pelo clique do mouse.  A
		janela pode ent&atilde;o ser <quote>elevada</quote>, e aparecer na
		frente de todas as demais janelas.  Todo acionamento do teclado ser&aacute; agora
		direcionado para essa janela, mesmo se o cursor for movido para
		outra janela.</para>
	    </listitem>
	  </varlistentry>
	</variablelist>

	<para>Muitos gerenciadores de janela suportam outras pol&iacute;ticas, bem como
	  varia&ccedil;&otilde;es nestas.  Certifique-se de consultar a documenta&ccedil;&atilde;o pr&oacute;pria do
	  gerenciador de janela.</para>
      </note>
    </sect2>

    <sect2>
      <title><foreignphrase>Widgets</foreignphrase></title>

      <para>A abordagem do X de prover ferramentas e n&atilde;o pol&iacute;ticas se estende para os
	<foreignphrase>widgets</foreignphrase> vistos nas telas de cada aplicativo.</para>

      <para><quote><foreignphrase>Widget</foreignphrase></quote> &eacute; um termo para todos os &iacute;tens da interface com o usu&aacute;rio
	que podem ser clicados ou manipulados de alguma forma;  bot&otilde;es,
	<foreignphrase>check boxes</foreignphrase>, <foreignphrase>radio buttons</foreignphrase>, &iacute;cones, listas, e outros.  O &microsoft.windows;
	chama estes de <quote>controles</quote>.</para>

      <para>O &microsoft.windows; e o &macos; da Apple's t&ecirc;m uma pol&iacute;tica muito r&iacute;gida para os <foreignphrase>widgets</foreignphrase>.
	Espera-se que os desenvolvedores de aplica&ccedil;&otilde;es compartilhem o mesmo visual e sensa&ccedil;&atilde;o em seus
	aplicativos.  Com o X, n&atilde;o foi
	considerado sensato determinar um estilo gr&aacute;fico particular, ou conjunto
	de <foreignphrase>widgets</foreignphrase> a aderir.</para>

      <para>Como resultado, n&atilde;o espere que as aplica&ccedil;&otilde;es do X tenham o mesmo
	visual e sensa&ccedil;&atilde;o.  H&aacute; v&aacute;rios conjuntos de <foreignphrase>widgets</foreignphrase> populares e
	varia&ccedil;&otilde;es, incluindo o conjunto original de <foreignphrase>widgets</foreignphrase> Athena do MIT,
	<application>&motif;</application> (no qual o conjunto de <foreignphrase>widgets</foreignphrase> do
	&microsoft.windows; foi modelado, todas as bordas chanfradas em tr&ecirc;s tons de
	cinza), <application>OpenLook</application>, e outros.</para>

      <para>A maior parte das novas aplica&ccedil;&otilde;es para o X v&atilde;o utilizar um conjunto de <foreignphrase>widgets</foreignphrase> de visual moderno,
	ou Qt, utilizado pelo <application>KDE</application>, ou
	<application>GTK</application>, utilizado pelo projeto
	<application>GNOME</application>.
	No que diz respeito a isso, h&aacute; alguma converg&ecirc;ncia no
	visual e sensa&ccedil;&atilde;o da &aacute;rea de trabalho do &unix;, o que certamente torna tudo mais f&aacute;cil para os
	novos usu&aacute;rios.</para>
    </sect2>
  </sect1>

  <sect1 id="x-install">
    <title>Instalando o &xfree86;</title>

    <para>Antes de instalar o <application>&xfree86;</application>, decida que
      vers&atilde;o executar.  O <application>&xfree86; 3.X</application> &eacute; um ramo de manuten&ccedil;&atilde;o do desenvolvimento do
      <application>&xfree86;</application>.  &Eacute; muito
      est&aacute;vel, e suporta um n&uacute;mero bem grande de placas v&iacute;deo.  Entretanto, nenhum recurso novo
      est&aacute; sendo desenvolvido para o software.  O <application>&xfree86;
      4.X</application> &eacute; uma reconcep&ccedil;&atilde;o do sistema com diversos novos
      recursos como melhor suporte para fontes e <literal>anti-aliasing</literal>.
      Infelizmente esta nova arquitetura requer que os drivers de v&iacute;deo sejam
      reescritos, e algumas placas mais velhas que eram suportadas no 3.X n&atilde;o s&atilde;o
      ainda suportadas no 4.X.  Como todo desenvolvimento novo e suporte para as
      placas de v&iacute;deo s&atilde;o feitos nesse ramo, o <application>&xfree86;
      4.X</application> &eacute; agora a vers&atilde;o padr&atilde;o do sistema de janela X no
      FreeBSD.</para>

    <para>O programa de instala&ccedil;&atilde;o do FreeBSD oferece aos usu&aacute;rios a oportunidade de instalar
      e configurar o <application>&xfree86; 4.X</application> durante a instala&ccedil;&atilde;o
      (detalhes na <xref linkend="x-server">).  Para instalar e executar o
      <application>&xfree86; 3.X</application>, aguarde at&eacute; que o
      FreeBSD m&iacute;nimo seja instalado, e ent&atilde;o instale o
      <application>&xfree86;</application>.  Por exemplo, para construir e instalar o
      <application>&xfree86; 3.X</application> da cole&ccedil;&atilde;o de <literal>ports</literal>:</para>

    <screen>&prompt.root; <userinput>cd /usr/ports/x11/XFree86</userinput>
&prompt.root; <userinput>make all install clean</userinput></screen>

    <para>Como alternativa, quaisquer vers&otilde;es do <application>&xfree86;</application>
      podem ser instaladas diretamente dos bin&aacute;rios do FreeBSD fornecidos no
      <ulink url="http://www.XFree86.org/">s&iacute;tio &xfree86;</ulink>.  Um
      pacote bin&aacute;rio a ser usado com a ferramenta &man.pkg.add.1; tamb&eacute;m est&aacute; dispon&iacute;vel para o
      <application>&xfree86; 4.X</application>.  Quando o recurso de baixar da fonte remota
      do &man.pkg.add.1; &eacute; utilizado, o n&uacute;mero da vers&atilde;o do
      pacote deve ser removido.  O &man.pkg.add.1; vai baixar automaticamente
      a vers&atilde;o mais recente do aplicativo.  Logo para baixar e instalar o
      pacote do <application>&xfree86; 4.X</application>, &eacute; s&oacute; digitar:</para>

    <screen>&prompt.root; <userinput>pkg_add -r XFree86</userinput></screen>

    <para>Voc&ecirc; tamb&eacute;m pode utilizar a cole&ccedil;&atilde;o de <literal>ports</literal> para instalar o
      <application>&xfree86; 4.X</application>, para isso voc&ecirc; precisa apenas
      digitar os comandos a seguir:</para>

    <screen>&prompt.root; <userinput>cd /usr/ports/x11/XFree86-4</userinput>
&prompt.root; <userinput>make install clean</userinput></screen>

    <note><para>Os exemplos acima v&atilde;o instalar a distribui&ccedil;&atilde;o completa do
      <application>&xfree86;</application> incluindo os
      servidores, clientes, fontes etc.  Pacotes individuais e <literal>ports</literal> para
      diferentes partes do <application>&xfree86; 4.X</application> tamb&eacute;m est&atilde;o
      dispon&iacute;veis.</para></note>

    <para>O restante deste cap&iacute;tulo explicar&aacute; como configurar o
      <application>&xfree86;</application>, e como instalar um ambiente na &aacute;rea de trabalho produtivo.
</para>

<!-- A forma mais f&aacute;cil &eacute; a partir do sysinstall para o XFree86 4.X -->

  </sect1>

  <sect1 id="x-config">
    <sect1info>
      <authorgroup>
	<author>
	  <firstname>Christopher</firstname>
	  <surname>Shumway</surname>
	  <contrib>Contribui&ccedil;&atilde;o de </contrib>
	  <!-- Julho 2001 -->
	</author>
      </authorgroup>
    </sect1info>
    <title>Configura&ccedil;&atilde;o do &xfree86;</title>


    <indexterm><primary>XFree86 4.X</primary></indexterm>
    <indexterm><primary>XFree86</primary></indexterm>

    <sect2>
      <title>Antes de come&ccedil;ar</title>

      <para>Antes de configurar o <application>&xfree86; 4.X</application>,
	&eacute; necess&aacute;rio conhecer as seguintes informa&ccedil;&otilde;es sobre o sistema alvo:</para>

      <itemizedlist>
	<listitem><para>As especifica&ccedil;&otilde;es do monitor</para></listitem>
	<listitem><para>O <foreignphrase>chipset</foreignphrase> da placa de v&iacute;deo</para></listitem>
	<listitem><para>A quantidade de mem&oacute;ria da placa de v&iacute;deo</para></listitem>
      </itemizedlist>

      <indexterm><primary>A taxa de varredura horizontal</primary></indexterm>
      <indexterm><primary>A taxa de varredura vertical</primary></indexterm>

      <para>As especifica&ccedil;&otilde;es do monitor s&atilde;o usadas pelo
	<application>&xfree86;</application> para determinar a resolu&ccedil;&atilde;o e
	taxa de atualiza&ccedil;&atilde;o em que deve operar.  Estas especifica&ccedil;&otilde;es podem geralmente ser
	obtidas da documenta&ccedil;&atilde;o que vem com o monitor ou a partir do
	s&iacute;tio do fabricante.  S&atilde;o necess&aacute;rios dois intervalos num&eacute;ricos,
	a taxa de varredura horizontal e a taxa de sincroniza&ccedil;&atilde;o
	vertical.</para>

      <para>O <foreignphrase>chipset</foreignphrase> da placa de v&iacute;deo define qual m&oacute;dulo de <literal>driver</literal> o
	<application>&xfree86;</application> usa para conversar com o hardware.
	Com a maioria dos <foreignphrase>chipsets</foreignphrase>, isso pode ser determinado
	automaticamente, mas ainda &eacute; &uacute;til saber identific&aacute;-lo caso a detec&ccedil;&atilde;o
	autom&aacute;tica n&atilde;o funcione corretamente.</para>

      <para>A mem&oacute;ria da placa de v&iacute;deo determina que
	resolu&ccedil;&atilde;o e a profundidade das cores nas quais o sistema vai executar.  &Eacute;
	importante que o usu&aacute;rio conhe&ccedil;a isso para saber das limita&ccedil;&otilde;es do
	sistema.</para>

    </sect2>

    <sect2>
      <title>Configurando o &xfree86; 4.X</title>

      <para>A configura&ccedil;&atilde;o do <application>&xfree86; 4.X</application> &eacute;
	um processo de v&aacute;rios passos.  O primeiro passo &eacute; construir um arquivo
	de configura&ccedil;&atilde;o inicial com a op&ccedil;&atilde;o <option>-configure</option> do
	<application>&xfree86;</application>.  Como o super usu&aacute;rio, simplesmente
	execute:</para>
      <screen>&prompt.root; <userinput>XFree86 -configure</userinput></screen>

      <para>Isso vai gerar o esqueleto do arquivo de configura&ccedil;&atilde;o do
	<application>&xfree86;</application> no diret&oacute;rio
	<filename>/root</filename> chamado
	<filename>XF86Config.new</filename> (na verdade a pasta utilizada &eacute; a
	registrada na vari&aacute;vel de ambiente <envar>$HOME</envar>,
	e ela vai depender de como voc&ecirc; conseguiu os direitos de super usu&aacute;rio).  O programa do
	<application>&xfree86;</application> vai tentar investigar o
	hardware da placa de v&iacute;deo no sistema e vai escrever um
	arquivo de configura&ccedil;&atilde;o que carregue os drivers adequados ao
	hardware detectado no sistema alvo.</para>

      <para>O pr&oacute;ximo passo &eacute; testar a configura&ccedil;&atilde;o existente
	para verificar se o <application>&xfree86;</application>
	pode trabalhar com o
	hardware do sistema alvo.  Para fazer esta tarefa, o usu&aacute;rio
	precisa executar:</para>

      <screen>&prompt.root; <userinput>XFree86 -xf86config XF86Config.new</userinput></screen>

      <para>Se a grade preto e cinza e um ponteiro de mouse do X aparecem,
	a configura&ccedil;&atilde;o foi bem sucedida.  Para sair do teste, basta pressionar simultaneamente
	<keycombo action="simul">
	  <keycap>Ctrl</keycap>
	  <keycap>Alt</keycap>
	  <keycap>Backspace</keycap>
	</keycombo>.</para>

    <note><para>Se o mouse n&atilde;o funcionar, certifique-se que o dispositivo
      foi configurado.  Consulte a <xref linkend="mouse">
      no cap&iacute;tulo de instala&ccedil;&atilde;o do &os;.</para></note>

      <indexterm><primary>Fazendo ajustes finos no XFree86 4</primary></indexterm>

      <para>Em seguida, ajuste o arquivo de configura&ccedil;&otilde;es <filename>XF86Config.new</filename>
	ao seu gosto.  Abra o arquivo em um editor de textos como o
	&man.emacs.1; ou &man.ee.1;.  Primeiro, adicione as freq&uuml;&ecirc;ncias do
	monitor do seu sistema.  Elas geralmente s&atilde;o expressas
	como taxas de sincroniza&ccedil;&atilde;o horizontal e vertical.  Estes
	valores s&atilde;o adicionados ao arquivo <filename>XF86Config.new</filename>
	sob a se&ccedil;&atilde;o "Monitor":</para>

      <programlisting>Section "Monitor"
	Identifier   "Monitor0"
	VendorName   "Monitor Vendor"
	ModelName    "Monitor Model"
	HorizSync    30-107
	VertRefresh 48-120
EndSection</programlisting>

      <para>As express&otilde;es <varname>HorizSync</varname> e
	<varname>VertRefresh</varname> podem n&atilde;o existir no
	arquivo de configura&ccedil;&otilde;es.  Se for o caso, elas precisam ser adicionadas, com
	a taxa de sincroniza&ccedil;&atilde;o horizontal posicionada depois da express&atilde;o
	<varname>Horizsync</varname> e a taxa de sincroniza&ccedil;&atilde;o
	vertical ap&oacute;s a express&atilde;o <varname>VertRefresh</varname>.
	Confira no exemplo acima as taxas de um monitor j&aacute;
	preenchidas.</para>

      <para>O X permite que recursos DPMS (<literal>Energy Star</literal>) sejam utilizados em monitores
	com suporte.  O programa &man.xset.1; controla os intervalos entre atividades e pode for&ccedil;ar
	os modos de espera, suspenso e desligado.  Se voc&ecirc; deseja habilitar os recursos de DPMS
	para o seu monitor, voc&ecirc; deve acrescentar a linha a seguir na se&ccedil;&atilde;o
	Monitor:</para>

      <programlisting>
	Option       "DPMS"</programlisting>

      <indexterm>
	<primary><command>XF86Config</command></primary>
      </indexterm>

      <para>Enquanto o arquivo de configura&ccedil;&otilde;es <filename>XF86Config.new</filename>
	ainda estiver aberto no editor, selecione
	a resolu&ccedil;&atilde;o padr&atilde;o do monitor e a profundidade das cores desejada.  Isso est&aacute;
	definido na se&ccedil;&atilde;o "Screen":</para>

      <programlisting>Section "Screen"
	Identifier "Screen0"
	Device     "Card0"
	Monitor    "Monitor0"
	DefaultDepth 24
	SubSection "Display"
		Depth     24
		Modes     "1024x768"
	EndSubSection
EndSection</programlisting>

      <para>A express&atilde;o <varname>DefaultDepth</varname> descreve
	a profundidade de cores empregada por padr&atilde;o.  Isso pode ser sobreposto
	com a op&ccedil;&atilde;o da linha de comando <command>-bpp</command> existente para o
	&man.XFree86.1;.
	A express&atilde;o <varname>Modes</varname>
	descreve a resolu&ccedil;&atilde;o utilizada para a profundidade de cores dada.
	Observe que apenas os modos do padr&atilde;o VESA s&atilde;o suportados pela defini&ccedil;&atilde;o do
	hardware gr&aacute;fico do sistema alvo.
	No exemplo acima, a profundidade de cores padr&atilde;o &eacute; de vinte e quatro
	bits por ponto.  Nesta profundidade de cores, a resolu&ccedil;&atilde;o aceita &eacute; de
	mil e vinte e quatro pontos por setecentos e sessenta e oito
	pontos.</para>

      <para>Por fim, salve o arquivo de configura&ccedil;&otilde;es e teste-o utilizando
	o modo de teste dado acima.  Se tudo estiver bem, o arquivo de configura&ccedil;&atilde;o
	precisa ser instalado em um local conhecido pelo
	&man.XFree86.1;
	a fim de encontr&aacute;-lo.
	Este local &eacute; tipicamente a pasta <filename>/etc/X11/XF86Config</filename> ou
	<filename>/usr/X11R6/etc/X11/XF86Config</filename>.</para>

      <screen>&prompt.root; <userinput>cp XF86Config.new /etc/X11/XF86Config</userinput></screen>

      <para>Uma vez que o arquivo de configura&ccedil;&atilde;o tenha sido colocado em um lugar
	conhecido, a configura&ccedil;&atilde;o est&aacute; completa.  Para iniciar o
	<application>&xfree86; 4.X</application> com &man.startx.1;,
	instale o <literal>port</literal> <filename role="package">x11/wrapper</filename>.
	O <application>&xfree86; 4.X</application> tamb&eacute;m pode ser executado via
	&man.xdm.1;.</para>

    <note><para>Tamb&eacute;m existe uma ferramenta gr&aacute;fica capaz de fazer a configura&ccedil;&atilde;o,
      o &man.xf86cfg.1;, que vem na distribui&ccedil;&atilde;o do <application>&xfree86; 4.X</application>
      Ela permite definir interativamente sua configura&ccedil;&atilde;o pela escolha
      dos <literal>drivers</literal> e par&acirc;metros apropriados.  Este programa pode ser utilizado
      no console tamb&eacute;m, basta utilizar o comando <command>xf86cfg -textmode</command>.  Para mais detalhes,
      verifique a p&aacute;gina do manual &man.xf86cfg.1;.</para></note>

    </sect2>

    <sect2>
      <title>T&oacute;picos de configura&ccedil;&atilde;o avan&ccedil;ados</title>

      <sect3>
	<title>Configura&ccedil;&atilde;o dos <foreignphrase>Chipsets</foreignphrase> Gr&aacute;ficos &intel; i810</title>

	<indexterm><primary>O <foreignphrase>chipset</foreignphrase> gr&aacute;fico da Intel i810</primary></indexterm>

	<para>A configura&ccedil;&atilde;o dos <foreignphrase>chipsets</foreignphrase> integrados da &intel; i810
	  requerem que a interface de programa&ccedil;&atilde;o para o AGP, <devicename>agpgart</devicename>,
	  do <application>&xfree86;</application> seja instalada para
	  controlar a placa.  O <literal>driver</literal> &man.agp.4; est&aacute; no <literal>kernel</literal>
	  <filename>GENERIC</filename> desde as <literal>releases</literal>
	  4.8-RELEASE e 5.0-RELEASE.  Nas <literal>releases</literal> anteriores, voc&ecirc; deve
	  adicionar as linhas a seguir:</para>

    <programlisting>device agp</programlisting>

    <para>no arquivo de configura&ccedil;&atilde;o do seu <literal>kernel</literal> e reconstruir um novo
      <literal>kernel</literal>.  Ao inv&eacute;s disso, voc&ecirc; pode querer carregar
	  o m&oacute;dulo <filename>agp.ko</filename> do <literal>kernel</literal>
	  automaticamente com o &man.loader.8; durante o processo de inicializa&ccedil;&atilde;o.
	  Para isso, basta adicionar esta linha ao
	  <filename>/boot/loader.conf</filename>:</para>

	<programlisting>agp_load="YES"</programlisting>

	<para>A seguir, se estiver utilizando o FreeBSD&nbsp;4.X ou posterior, um novo n&oacute;
	  para o dispositivo (<foreignphrase>device node</foreignphrase>) precisa ser criado para
	  a interface de programa&ccedil;&atilde;o.  Para criar o n&oacute; para o dispositivo AGP, execute
	  o &man.MAKEDEV.8; no diret&oacute;rio
	  <filename>/dev</filename>:</para>

	<screen>&prompt.root; <userinput>cd /dev</userinput>
&prompt.root; <userinput>sh MAKEDEV agpgart</userinput></screen>

    <note>
      <para>O FreeBSD&nbsp;5.X ou posterior vai utilizar o &man.devfs.5; para alocar
	os n&oacute;s dos dispositivos de modo transparente, logo, o passo do
	&man.MAKEDEV.8; n&atilde;o &eacute; necess&aacute;rio.</para>
    </note>

	<para>Isso vai permitir a configura&ccedil;&atilde;o do dispositivo como se faz com qualquer outra
	  placa de v&iacute;deo.  Observe que em sistemas sem o <literal>driver</literal> &man.agp.4;
	  compilado no <literal>kernel</literal>, tentar carregar o m&oacute;dulo com
	  o &man.kldload.8; n&atilde;o vai funcionar.  Este <literal>driver</literal> precisa estar
	  no <literal>kernel</literal> durante o processo de inicializa&ccedil;&atilde;o seja sendo compilado ou
	  pelo uso do <filename>/boot/loader.conf</filename>.</para>

	<para>Se estiver utilizando o <application>&xfree86; 4.1.0</application> (ou
	  posterior) e mensagens sobre s&iacute;mbolos n&atilde;o resolvidos como
	  <quote>fbPictureInit</quote> aparecerem, tente adicionar a linha a seguir
	  ap&oacute;s <literal>Driver</literal> "i810" no arquivo de configura&ccedil;&atilde;o
	  do <application>&xfree86;</application>:</para>
	<programlisting>Option "NoDDC"</programlisting>
      </sect3>
    </sect2>
  </sect1>

  <sect1 id="x-fonts">
    <sect1info>
      <authorgroup>
	<author>
	  <firstname>Murray</firstname>
	  <surname>Stokely</surname>
	  <contrib>Com contribui&ccedil;&otilde;es de </contrib>
	</author>
      </authorgroup>
    </sect1info>
    <title>Usando fontes no &xfree86;</title>

    <sect2 id="type1">
      <title>Fontes <literal>Type1</literal></title>
      <para>As fontes padr&atilde;o que s&atilde;o distribu&iacute;das com
	o <application>&xfree86;</application> est&atilde;o aqu&eacute;m do ideal para aplica&ccedil;&otilde;es
	comuns de editora&ccedil;&atilde;o eletr&ocirc;nica.  Fontes grandes em apresenta&ccedil;&otilde;es aparecem
	recortadas e com apar&ecirc;ncia nada profissional, e fontes pequenas no
	<application>&netscape;</application> s&atilde;o quase inintelig&iacute;veis.
	Entretanto, h&aacute; v&aacute;rias fontes <literal>Type1</literal> (&postscript;) gratuitas e de alta qualidade
	dispon&iacute;veis as quais podem ser usadas imediatamente
	com o <application>&xfree86;</application>, seja a vers&atilde;o 3.X ou
	a vers&atilde;o 4.X.  Por exemplo, a cole&ccedil;&atilde;o de fontes URW
	(<filename role="package">x11-fonts/urwfonts</filename>) inclui
	vers&otilde;es de alta qualidade de fontes <literal>type1</literal> padr&atilde;o (<trademark class="registered">Times Roman</trademark>,
	<trademark class="registered">Helvetica</trademark>, <trademark class="registered">Palatino</trademark> e outras).  A cole&ccedil;&atilde;o <literal>Freefonts</literal>
	(<filename role="package">x11-fonts/freefonts</filename>) inclui
	muitas outras fontes, mas a maioria delas s&atilde;o destinadas ao uso em
	softwares de manipula&ccedil;&atilde;o de gr&aacute;ficos como o <application>Gimp</application>, n&atilde;o sendo
	suficientemente completas para o uso como fontes de tela.  Para completar,
	o <application>&xfree86;</application> pode ser configurado para usar
	fontes &truetype; com um m&iacute;nimo de esfor&ccedil;o: veja a
	<link linkend="truetype">se&ccedil;&atilde;o sobre fontes &truetype;</link> adiante.</para>

      <para>Para instalar as cole&ccedil;&otilde;es de fontes <literal>Type1</literal> acima da cole&ccedil;&atilde;o de
	<literal>ports</literal>, execute os comandos a seguir:</para>

      <screen>&prompt.root; <userinput>cd /usr/ports/x11-fonts/urwfonts</userinput>
&prompt.root; <userinput>make install clean</userinput></screen>

      <para>E da mesma forma para o <literal>freefont</literal> e outras cole&ccedil;&otilde;es.  Para dizer ao servidor X
	que estas fontes existem, adicione a linha apropriada ao
	arquivo <filename>XF86Config</filename> (em <filename>/etc/</filename> para
	<application>&xfree86;</application> vers&atilde;o 3, ou em
	<filename>/etc/X11/</filename> para a vers&atilde;o 4), onde se l&ecirc;:</para>

      <programlisting>FontPath "/usr/X11R6/lib/X11/fonts/URW/"</programlisting>

      <para>Alternativamente, na linha de comandos da sess&atilde;o X
	execute:</para>

      <screen>&prompt.user; <userinput>xset fp+ /usr/X11R6/lib/X11/fonts/URW</userinput>
&prompt.user; <userinput>xset fp rehash</userinput></screen>

      <para>Isso vai funcionar mas ser&aacute; perdido quando a sess&atilde;o do X for fechada,
	a menos que seja adicionada ao arquivo de inicializa&ccedil;&atilde;o (<filename>~/.xinitrc</filename>
	para uma sess&atilde;o normal via <command>startx</command>,
	ou <filename>~/.xsession</filename> quando o registro (<literal>login</literal>) for feito via
	um gerenciador de registro gr&aacute;fico como o <application>XDM</application>).
	Uma terceira forma &eacute; utilizar o novo arquivo
	<filename>XftConfig</filename>: consulte a se&ccedil;&atilde;o
	sobre <link linkend="antialias">anti-aliasing</link>.
</para>
    </sect2>

    <sect2 id="truetype">
    <title>Fontes &truetype;</title>

    <indexterm><primary>Fontes TrueType</primary></indexterm>
    <indexterm><primary>fontes</primary>
      <secondary>TrueType</secondary>
    </indexterm>

    <para>O <application>&xfree86; 4.X</application> tem suporte incorporado
      para a exibi&ccedil;&atilde;o produzida de fontes &truetype;.  H&aacute; dois m&oacute;dulos diferentes
      que podem permitir essa funcionalidade.  O m&oacute;dulo <literal>freetype</literal> &eacute; utilizado
      neste exemplo por ser mais coerente com outros suportes para produ&ccedil;&atilde;o de
      fontes.  Para habilitar o m&oacute;dulo <literal>freetype</literal> basta acrescentar
      a linha a seguir &agrave; se&ccedil;&atilde;o <quote>Module</quote> do
      arquivo <filename>/etc/X11/XF86Config</filename>.</para>

    <programlisting>Load  "freetype"</programlisting>

    <para>Para o <application>&xfree86; 3.3.X</application>, um servidor
      de fontes &truetype; separado se faz necess&aacute;rio.
      O <application>Xfstt</application> &eacute; de uso comum para
      esta finalidade.  Para instalar o <application>Xfstt</application>,
      basta instalar o <literal>port</literal>
      <filename role="package">x11-servers/Xfstt</filename>.</para>

    <para>Crie uma pasta para as fontes &truetype; (por exemplo,
      <filename>/usr/X11R6/lib/X11/fonts/TrueType</filename>)
      e copie todas as fontes &truetype; nesta pasta.  Tenha em mente
      que as fontes &truetype; n&atilde;o podem ser importadas diretamente de um
      &macintosh;; elas precisam estar no formato &unix;/DOS/&windows; para que possam ser usadas pelo
      <application>&xfree86;</application>.  Uma vez que os arquivos tenham sido
      copiados para esta pasta, use o
      <application>ttmkfdir</application> para criar um arquivo
      <filename>fonts.dir</filename>, de modo que o produtor de fontes do X
      saiba que estes novos arquivos foram instalados.
      O <command>ttmkfdir</command> est&aacute; dispon&iacute;vel na
      Cole&ccedil;&atilde;o de <literal>Ports</literal> do FreeBSD como
      <filename role="package">x11-fonts/ttmkfdir</filename>.</para>

    <screen>&prompt.root; <userinput>cd /usr/X11R6/lib/X11/fonts/TrueType</userinput>
&prompt.root; <userinput>ttmkfdir > fonts.dir</userinput></screen>

    <para>Agora adicione a pasta &truetype; no caminho para as fontes (o <foreignphrase>font
      path</foreignphrase>).  Esta &eacute; a mesma descri&ccedil;&atilde;o utilizada anteriormente para as fontes <link
      linkend="type1">Type1</link>, isto &eacute;, utilize</para>

    <screen>&prompt.user; <userinput>xset fp+ /usr/X11R6/lib/X11/fonts/TrueType</userinput>
&prompt.user; <userinput>xset fp rehash</userinput></screen>

    <para>ou adicione uma linha <option>FontPath</option> ao arquivo
       <filename>XF86Config</filename>.</para>

      <para>Isso &eacute; tudo.  Agora o <application>&netscape;</application>,
	o <application>Gimp</application>,
	o <application>&staroffice;</application>, e todos os outros aplicativos
	do X devem estar reconhecendo as fontes &truetype; instaladas.
	Fontes muito pequenas (como um texto em um v&iacute;deo de alta resolu&ccedil;&atilde;o
	de uma p&aacute;gina da internet) e fontes muito grandes (dentro do
	<application>&staroffice;</application>) v&atilde;o ter uma apar&ecirc;ncia muito melhor
	agora.</para>
    </sect2>

    <sect2 id="antialias">
    <sect2info>
      <authorgroup>
	<author>
	  <firstname>Joe Marcus</firstname>
	  <surname>Clarke</surname>
	  <contrib>Atualizado para o &xfree86; 4.3 por </contrib>
	  <!-- Maio 2003 -->
	</author>
      </authorgroup>
    </sect2info>
    <title>Fontes com Anti-Alias</title>

    <indexterm><primary>fontes com anti-alias</primary></indexterm>
    <indexterm><primary>fontes</primary>
      <secondary>anti-alias</secondary></indexterm>

    <para>O <literal>Anti-aliasing</literal> est&aacute; dispon&iacute;vel no
      <application>&xfree86;</application> desde a vers&atilde;o 4.0.2.  Mesmo assim,
      configurar tais fontes era inc&ocirc;modo antes da introdu&ccedil;&atilde;o do
      <application>&xfree86;</application> 4.3.0.  Da vers&atilde;o 4.3.0 em diante,
      todas as fontes em <filename>/usr/X11R6/lib/X11/fonts/</filename> e
      em <filename>~/.fonts/</filename> s&atilde;o automaticamente
      disponibilizadas com <literal>anti-aliasing</literal> para os aplicativos prontos para o
      Xft.  Nem todas as aplica&ccedil;&otilde;es s&atilde;o preparadas para usar o Xft ainda, mas muitas
      j&aacute; contam com o suporte Xft.  Exemplos de aplica&ccedil;&otilde;es que reconhecem o Xft incluem o Qt 2.3
      e posteriores (conjunto de ferramentas feito para a &aacute;rea de trabalho do <application>KDE</application>),
      Gtk+ 2.0 e posteriores (conjunto de ferramentas para a &aacute;rea de trabalho do
      <application>GNOME</application>), e o
      <application>Mozilla</application> 1.2 e posteriores.
</para>

    <para>Para distinguir que fontes s&atilde;o <literal>anti-aliased</literal>, ou
      configurar as propriedades do <literal>anti-aliasing</literal>, crie (ou edite, se
      j&aacute; existir) o arquivo
      <filename>/usr/X11R6/etc/fonts/local.conf</filename>.  V&aacute;rios
      recursos avan&ccedil;ados do sistema de fontes Xft podem ser ajustadas atrav&eacute;s
      deste arquivo; esta se&ccedil;&atilde;o descreve apenas algumas possibilidades
      simples.  Para mais detalhes, por favor verifique em
      &man.fonts-conf.5;.</para>

    <indexterm><primary>XML</primary></indexterm>

    <para>Este arquivo deve ser em formato XML.  Preste bastante aten&ccedil;&atilde;o a
      caixa dos caracteres, e assegure-se de ter fechado todos os r&oacute;tulos (<foreignphrase>tags</foreignphrase>).
      O arquivo come&ccedil;a com o cabe&ccedil;alho usual do XML seguido de uma defini&ccedil;&atilde;o DOCTYPE,
      e ent&atilde;o pelo r&oacute;tulo &lt;fontconfig&gt;:</para>

    <programlisting>
      &lt;?xml version="1.0"?&gt;
      &lt;!DOCTYPE fontconfig SYSTEM "fonts.dtd"&gt;
      &lt;fontconfig&gt;
    </programlisting>

    <para>Como citado anteriormente, toda fonte em
      <filename>/usr/X11R6/lib/X11/fonts/</filename> bem como em
      <filename>~/.fonts/</filename> s&atilde;o automaticamente disponibilizadas para
      aplica&ccedil;&otilde;es prontas para o Xft.  Se voc&ecirc; deseja acrescentar outra pasta
      que esteja fora dessas duas hierarquias, acrescente uma linha similar a apresentada abaixo
      ao arquivo
      <filename>/usr/X11R6/etc/fonts/local.conf</filename>:</para>

    <programlisting>&lt;dir&gt;/path/to/my/fonts&lt;/dir&gt;</programlisting>

    <para>Ap&oacute;s acrescentar novas fontes, e especialmente novas pastas com fontes,
      voc&ecirc; deve executar o comando a seguir para reconstruir os <foreignphrase>caches</foreignphrase>
      de fonte:</para>

    <screen>&prompt.root; <userinput>fc-cache -f</userinput></screen>

    <para>O <literal>anti-aliasing</literal> torna as bordas pouco n&iacute;tidas, o que proporciona
      a textos pequenos maior legibilidade e remove <quote>escadinhas</quote> de
      textos grandes, mas pode causar fadiga visual se aplicado ao texto normal.  Para
      excluir fontes com tamanho em pontos menor 14 do <literal>anti-aliasing</literal>, inclua
      estas linhas:</para>

      <programlisting>	&lt;match target="font"&gt;
	    &lt;test name="size" compare="less"&gt;
		&lt;double&gt;14&lt;/double&gt;
	    &lt;/test&gt;
	    &lt;edit name="antialias" mode="assign"&gt;
		&lt;bool&gt;false&lt;/bool&gt;
	    &lt;/edit&gt;
	&lt;/match&gt;</programlisting>

    <indexterm><primary>fontes</primary>
      <secondary>espa&ccedil;amento</secondary></indexterm>

    <para>O espa&ccedil;amento para fontes monoespa&ccedil;adas tamb&eacute;m pode ser inapropriado
      com o <literal>anti-aliasing</literal>.  Isso parece ser uma quest&atilde;o presente
      no <application>KDE</application>, em particular.  Uma corre&ccedil;&atilde;o poss&iacute;vel para
      isso &eacute; for&ccedil;ar o espa&ccedil;amento destas fontes para 100.  Acrescente
      as seguintes linhas:</para>

    <programlisting>       &lt;match target="pattern" name="family"&gt;
	   &lt;test qual="any" name="family"&gt;
	       &lt;string&gt;fixed&lt;/string&gt;
	   &lt;/test&gt;
	   &lt;edit name="family" mode="assign"&gt;
	       &lt;string&gt;mono&lt;/string&gt;
	   &lt;/edit&gt;
	&lt;/match&gt;
	&lt;match target="pattern" name="family"&gt;
	    &lt;test qual="any" name="family"&gt;
		&lt;string&gt;console&lt;/string&gt;
	    &lt;/test&gt;
	    &lt;edit name="family" mode="assign"&gt;
		&lt;string&gt;mono&lt;/string&gt;
	    &lt;/edit&gt;
	&lt;/match&gt;</programlisting>

      <para>(isso apelidar&aacute; todo nome comum para fontes fixas como
	"mono"), e ent&atilde;o acrescente:</para>

      <programlisting>	 &lt;match target="pattern" name="family"&gt;
	     &lt;test qual="any" name="family"&gt;
		 &lt;string&gt;mono&lt;/string&gt;
	     &lt;/test&gt;
	     &lt;edit name="spacing" mode="assign"&gt;
		 &lt;int&gt;100&lt;/int&gt;
	     &lt;/edit&gt;
	 &lt;/match&gt;      </programlisting>

      <para>Certas fontes, como a Helv&eacute;tica, podem apresentar problemas quando
	usadas com <literal>anti-alias</literal>.  Geralmente isso se apresenta como
	uma fonte que parece cortada ao meio verticalmente.  No pior caso, isso pode causar a
	parada na execu&ccedil;&atilde;o de aplicativos como o <application>Mozilla</application>.
	Para evitar isso, considere acrescentar o seguinte ao arquivo
	<filename>local.conf</filename>:</para>

      <programlisting>	 &lt;match target="pattern" name="family"&gt;
	     &lt;test qual="any" name="family"&gt;
		 &lt;string&gt;Helvetica&lt;/string&gt;
	     &lt;/test&gt;
	     &lt;edit name="family" mode="assign"&gt;
		 &lt;string&gt;sans-serif&lt;/string&gt;
	     &lt;/edit&gt;
	 &lt;/match&gt;	</programlisting>

      <para>Uma vez terminada a edi&ccedil;&atilde;o do
	<filename>local.conf</filename> assegure-se de colocar no final do arquivo
	o r&oacute;tulo <literal>&lt;/fontconfig&gt;</literal>.  N&atilde;o faz&ecirc;-lo far&aacute; que suas
	modifica&ccedil;&otilde;es sejam desprezadas.</para>

      <para>O conjunto padr&atilde;o de fontes que vem com
	o <application>&xfree86;</application> n&atilde;o &eacute; muito
	conveniente quando se trata de <literal>anti-alias</literal>.  Um conjunto bem melhor
	de fontes padr&atilde;o pode ser encontrado no <literal>port</literal>
	<filename role="package">x11-fonts/bitstream-vera</filename>.
	Esse <literal>port</literal> ir&aacute; instalar um arquivo
	<filename>/usr/X11R6/etc/fonts/local.conf</filename>
	se ele n&atilde;o existir.  Se o arquivo existir, o <literal>port</literal>
	var criar o arquivo <filename>/usr/X11R6/etc/fonts/local.conf-vera
	</filename>.  Fa&ccedil;a a fus&atilde;o do conte&uacute;do deste arquivo com o
	<filename>/usr/X11R6/etc/fonts/local.conf</filename>, e as fontes
	Bitstream automaticamente substituir&atilde;o as fontes
	Serif, Sans Serif e Monospaced padr&atilde;o do <application>&xfree86;</application>.
</para>

      <para>Por fim, os usu&aacute;rios podem acrescentar suas pr&oacute;prias configura&ccedil;&otilde;es em seus
	arquivos <filename>.fonts.conf</filename> pessoais.  Para fazer isso, cada usu&aacute;rio deve
	apenas criar o arquivo <filename>~/.fonts.conf</filename>.  Este arquivo precisa tamb&eacute;m
	estar no formato XML.</para>

      <indexterm><primary>Telas LCD</primary></indexterm>
      <indexterm><primary>Fontes</primary>
	<secondary>Telas LCD</secondary></indexterm>

      <para>Um &uacute;ltimo ponto: com telas de LCD, amostragem de subpontos pode
	ser desej&aacute;vel.  Isso basicamente trata os componentes (horizontalmente separados)
	vermelho, verde e azul separadamente a fim de melhorar a resolu&ccedil;&atilde;o horizontal;
	os resultados podem ser espetaculares.  Para permitir isso, acrescente a
	linha em algum lugar do arquivo <filename>local.conf</filename>:</para>

      <programlisting>
	&lt;match target="font"&gt;
	    &lt;test qual="all" name="rgba"&gt;
		&lt;const&gt;unknown&lt;/const&gt;
	    &lt;/test&gt;
	    &lt;edit name="rgba" mode="assign"&gt;
		&lt;const&gt;rgb&lt;/const&gt;
	    &lt;/edit&gt;
	&lt;/match&gt;
      </programlisting>

      <note><para>Conforme o tipo de tela, o
	<literal>rgb</literal> pode precisar ser substitu&iacute;do por <literal>bgr</literal>,
	<literal>vrgb</literal> ou <literal>vbgr</literal>: experimente e
	veja qual funciona melhor.</para></note>

      <indexterm><primary>Mozilla</primary></indexterm>
      <indexterm><primary>navegadores da www</primary>
	<secondary>Mozilla</secondary>
	<see>Mozilla</see></indexterm>

      <para>O <literal>anti-aliasing</literal> deve estar habilitado na pr&oacute;xima vez que
	o servidor X for iniciado.  Entretanto, os programas precisam saber como tirar vantagem
	disso.  No presente, o conjunto de ferramentas Qt o faz, logo
	todo o ambiente do <application>KDE</application> pode utilizar fontes
	com <literal>anti-alias</literal> (consulte a <xref
	linkend="x11-wm-kde-antialias"> sobre o
	<application>KDE</application> para detalhes).  O Gtk+ e o
	<application>GNOME</application> tamb&eacute;m podem ser adaptados ao
	<literal>anti-alias</literal> atrav&eacute;s do <literal>capplet</literal> <quote>Font</quote> (consulte a <xref
	linkend="x11-wm-gnome-antialias"> para mais detalhes).  Por padr&atilde;o,
	o <application>Mozilla</application> 1.2 e posteriores v&atilde;o
	usar o <literal>anti-alias</literal> automaticamente.  Para desativar isso, reconstrua
	o <application>Mozilla</application> com o par&acirc;metro
	<makevar>-DWITHOUT_XFT</makevar>.</para>
    </sect2>
  </sect1>

  <sect1 id="x-xdm">
    <sect1info>
      <authorgroup>
	<author>
	  <firstname>Seth</firstname>
	  <surname>Kingsley</surname>
	  <contrib>Contribui&ccedil;&otilde;es de </contrib>
	</author>
      </authorgroup>
    </sect1info>
    <title>O gerenciador de exibi&ccedil;&atilde;o do X</title>
    <sect2>
      <title>Vis&atilde;o geral</title>

      <indexterm><primary>O Gerenciador de Exibi&ccedil;&atilde;o do X (XDM)</primary></indexterm>
      <para>O Gerenciador de Exibi&ccedil;&atilde;o do X (<application>XDM</application>; n.t.  de
	<foreignphrase>X Display Manager</foreignphrase>) &eacute; uma parte opcional do Sistema de Janela X que &eacute; usado para gerenciar
	o <literal>login</literal> nas sess&otilde;es.  Isso &eacute; &uacute;til em v&aacute;rios tipos de
	situa&ccedil;&otilde;es, incluindo &aacute;reas de trabalho como <quote>Terminais X</quote> m&iacute;nimos
	e grandes servidores de exibi&ccedil;&atilde;o para rede.
	Como o Sistema de Janela X &eacute; independente de rede e protocolos,
	h&aacute; uma grande variedade de configura&ccedil;&otilde;es poss&iacute;veis
	para a execu&ccedil;&atilde;o de clientes e servidores X em m&aacute;quinas diferentes
	e conectadas a rede.  O <application>XDM</application> fornece
	uma interface gr&aacute;fica que possibilita escolher o servidor de exibi&ccedil;&atilde;o no qual se quer conectar
	e a entrada de informa&ccedil;&otilde;es de autoriza&ccedil;&atilde;o como o
	a combina&ccedil;&atilde;o de <literal>login</literal> e senha.</para>

      <para>Pense no <application>XDM</application> como
	o provedor da mesma funcionalidade para o usu&aacute;rio proporcionada pelo
	utilit&aacute;rio &man.getty.8; (veja <xref linkend="term-config"> para
	detalhes).  Isto &eacute;, ele faz o <literal>login</literal> no sistema da tela a que se
	est&aacute; conectado e ent&atilde;o executa um gerente de sess&atilde;o a favor
	do usu&aacute;rio (geralmente um gerente de janela X).
	O <application>XDM</application> ent&atilde;o aguarda o t&eacute;rmino
	do programa, sinalizando que o usu&aacute;rio terminou e que deve ser
	feito seu <literal>log out</literal> da tela.  Neste ponto,
	o <application>XDM</application> pode exibir a tela de <literal>login</literal> e exibir
	telas com op&ccedil;&otilde;es para que o pr&oacute;ximo usu&aacute;rio fa&ccedil;a seu <literal>login</literal>.</para>
    </sect2>

    <sect2>
      <title>Usando o XDM</title>

      <para>O programa <literal>daemon</literal> do <application>XDM</application> est&aacute;
	localizado na pasta <filename>/usr/X11R6/bin/xdm</filename>.  Este programa
	pode ser executado em qualquer momento como <username>root</username> e vai
	iniciar o gerenciamento da tela do X na m&aacute;quina local.  Se
	for executar o <application>XDM</application> a cada vez que
	o computador inicializar (<foreignphrase>boot</foreignphrase>), um modo conveniente de
	faz&ecirc;-lo &eacute; adicionar uma entrada no arquivo <filename>/etc/ttys</filename>.  Para mais
	informa&ccedil;&otilde;es sobre o uso e o formato deste arquivo, consulte <xref
	linkend="term-etcttys">.  H&aacute; uma linha no arquivo
	<filename>/etc/ttys</filename> padr&atilde;o para executar o <literal>daemon</literal>
	do <application>XDM</application> em um terminal virtual:</para>

      <screen>ttyv8   "/usr/X11R6/bin/xdm -nodaemon"  xterm   off secure</screen>

      <para>Por padr&atilde;o esta entrada est&aacute; desativada; para ativ&aacute;-la modifique
	o campo 5 de <literal>off</literal> para
	<literal>on</literal> e reinicie o &man.init.8; usando as instru&ccedil;&otilde;es
	em <xref linkend="term-hup">.  O primeiro campo, o nome
	do terminal a ser gerenciado por este programa, &eacute;
	<literal>ttyv8</literal>.  Isso significa que
	o <application>XDM</application> vai iniciar sua execu&ccedil;&atilde;o no 9&ordm;
	terminal virtual.</para>
    </sect2>

    <sect2>
      <title>Configurando o XDM</title>

      <para>A pasta com a configura&ccedil;&atilde;o do <application>XDM</application>
	est&aacute; localizada em <filename>/usr/X11R6/lib/X11/xdm</filename>.  Nesta
	pasta h&aacute; v&aacute;rios arquivos usados para modificar
	o comportamento e a apar&ecirc;ncia do
	<application>XDM</application>.  Tipicamente esses arquivos
	ser&atilde;o encontrados:</para>

	<informaltable frame="none">
	  <tgroup cols="2">
	    <thead>
	      <row>
		<entry>Arquivo</entry>
		<entry>Descri&ccedil;&atilde;o</entry>
	      </row>
	    </thead>

	    <tbody>
	      <row>
		<entry><filename>Xaccess</filename></entry>
		<entry>Regulamento para autoriza&ccedil;&atilde;o de clientes.</entry>
	      </row>

	      <row>
		<entry><filename>Xresources</filename></entry>
		<entry>Valores padr&atilde;o para recursos do X.</entry>
	      </row>

	      <row>
		<entry><filename>Xservers</filename></entry>
		<entry>Lista de telas locais e remotas para gerenciar.</entry>
	      </row>

	      <row>
		<entry><filename>Xsession</filename></entry>
		<entry><literal>Script</literal> de sess&atilde;o padr&atilde;o para <literal>logins</literal>.</entry>
	      </row>

	      <row>
		<entry><filename>Xsetup_</filename>*</entry>
		<entry><literal>Script</literal> que executa aplica&ccedil;&otilde;es antes da interface de
		<literal>login</literal>.</entry>
	      </row>

	      <row>
		<entry><filename>xdm-config</filename></entry>
		<entry>Configura&ccedil;&atilde;o global para todas as telas em execu&ccedil;&atilde;o
		  nesta m&aacute;quina.</entry>
	      </row>

	      <row>
		<entry><filename>xdm-errors</filename></entry>
		<entry>Erros gerados pelo programa servidor.</entry>
	      </row>

	      <row>
		<entry><filename>xdm-pid</filename></entry>
		<entry>O ID do processo do XDM que est&aacute; em execu&ccedil;&atilde;o.</entry>
	      </row>
	    </tbody>
	  </tgroup>
	</informaltable>

      <para>Nesta pasta tamb&eacute;m existem alguns <literal>scripts</literal> e programas utilizados
	para organizar a &aacute;rea de trabalho quando o <application>XDM</application> est&aacute; em
	execu&ccedil;&atilde;o.  O prop&oacute;sito de cada um desses arquivos ser&aacute; brevemente
	descrito.  A sintaxe exata e o uso de todos estes arquivos est&aacute;
	descrito em &man.xdm.1;.</para>

      <para>A configura&ccedil;&atilde;o padr&atilde;o &eacute; uma janela retangular simples para <literal>login</literal>
	com o nome do host (<literal>hostname</literal>) exibido no topo com
	uma fonte grande e os campos <quote>Login:</quote> e
	<quote>Password:</quote> em prontid&atilde;o logo abaixo.  Esse &eacute; um bom ponto de
	partida para trocar o visual e sensa&ccedil;&atilde;o das
	telas do <application>XDM</application>.</para>

      <sect3>
	<title>Xaccess</title>

	<para>O protocolo para a conex&atilde;o com as telas do
	  <application>XDM</application> &eacute; chamado Protocolo de Conex&atilde;o com o Gerente de Telas X
	  (X Display Manager Connection Protocol, ou apenas XDMCP).  Este arquivo contem
	  o regulamento que controla as conex&otilde;es via XDMCP vindas de
	  m&aacute;quinas remotas.  Por padr&atilde;o, ela permite que qualquer cliente se conecte, mas
	  isso &eacute; irrelevante a menos que o <filename>xdm-config</filename>
	  seja modificado para esperar por conex&otilde;es remotas.</para>
      </sect3>

      <sect3>
	<title>Xresources</title>
	<para>Este &eacute; um arquivo de valores padr&atilde;o para aplica&ccedil;&otilde;es, para o selecionador de
	  telas e para a tela de <literal>login</literal>.  Este &eacute; o lugar onde a apar&ecirc;ncia
	  do programa de <literal>login</literal> pode ser modificada.  O formato &eacute; id&ecirc;ntico
	  ao do arquivo de padr&otilde;es para aplica&ccedil;&otilde;es descrito na
	  documenta&ccedil;&atilde;o do <application>&xfree86;</application>.</para>
      </sect3>

      <sect3>
	<title>Xservers</title>
	<para>Esta &eacute; a lista de telas remotas selecion&aacute;veis das quais o selecionador de telas
	  deve prover como escolhas poss&iacute;veis.</para>
      </sect3>

      <sect3>
	<title>Xsession</title>
	<para>Este &eacute; o <literal>script</literal> padr&atilde;o das sess&otilde;es
	  que o <application>XDM</application> executa ap&oacute;s o <literal>login</literal> de um usu&aacute;rio.
	  Normalmente cada usu&aacute;rio ter&aacute; um <literal>script</literal> para a sess&atilde;o personalizado
	  no <filename>~/.xsession</filename> que predomina sobre esse
	  <literal>script</literal>.</para>
      </sect3>

      <sect3>
	<title>Xsetup_*</title>
	<para>Estes executar&atilde;o automaticamente antes que o selecionador
	  ou a interface de <literal>login</literal> sejam exibidas.  H&aacute; um <literal>script</literal>
	  para cada tela em uso, cujo nome &eacute; <filename>Xsetup_</filename> seguido do
	  n&uacute;mero da tela local (por exemplo
	  <filename>Xsetup_0</filename>).  Tipicamente estes <literal>scripts</literal> executar&atilde;o
	  um ou mais programas no plano de fundo como o
	  <command>xconsole</command>.</para>
      </sect3>

      <sect3>
	<title>xdm-config</title>
	<para>Este cont&eacute;m atributos na forma de padr&otilde;es de aplica&ccedil;&otilde;es
	  que s&atilde;o aplicados para toda tela gerenciada por esta
	  instala&ccedil;&atilde;o.</para>
      </sect3>

      <sect3>
	<title>xdm-errors</title>
	<para>Este cont&eacute;m as sa&iacute;das geradas pelos servidores X os quais o
	  <application>XDM</application> est&aacute; tentando executar.  Se uma tela
	  a qual o <application>XDM</application> est&aacute; tentando iniciar congela
	  por alguma raz&atilde;o, este &eacute; um bom lugar para procurar por mensagens
	  de erro.  Estas mensagens s&atilde;o tamb&eacute;m escritas no arquivo do usu&aacute;rio
	  chamado <filename>~/.xsession-errors</filename> sempre a cada sess&atilde;o.
</para>
      </sect3>
    </sect2>

    <sect2>
      <title>Executando um Servidor de Telas em Rede</title>

      <para>Para que outros clientes possam conectar-se ao servidor de
	telas, modifique as regras de controle de acesso e ative a espera por
	conex&otilde;es (um <foreignphrase>listener</foreignphrase>).  Por padr&atilde;o estes
	s&atilde;o atribu&iacute;dos a valores conservadores.  Para que o <application>XDM</application>
	aguarde conex&otilde;es deve-se primeiro comentar uma linha no arquivo
	<filename>xdm-config</filename>:</para>

      <screen>!  SECURITY: do not listen for XDMCP or Chooser requests
!  Comment out this line if you want to manage X terminals with xdm
DisplayManager.requestPort:     0</screen>

      <para>que quer dizer: <quote>AVISO: n&atilde;o se deve esperar por conex&otilde;es XDMCP ou requisi&ccedil;&otilde;es
	de um selecionador.  Comente esta linha se voc&ecirc; quiser que os terminais X sejam gerenciados pelo xdm</quote>.
	Ap&oacute;s comentar a linha que segue o aviso, reinicie o <application>XDM</application>.  Lembre-se que
	coment&aacute;rios em arquivos de padr&otilde;es para aplica&ccedil;&otilde;es come&ccedil;am com um caracter <quote>!</quote>,
	e n&atilde;o o <quote>#</quote> ao qual estamos acostumados.  Controles mais r&iacute;gidos para o acesso podem ser
	convenientes.  Observe as entradas de exemplo no arquivo <filename>Xaccess</filename>, e consulte a p&aacute;gina do
	manual &man.xdm.1;.</para>
    </sect2>

     <sect2>
	<title>Substitutos para o XDM</title>

	<para>Existem v&aacute;rios programas que substituem o programa <application>XDM</application>
	  padr&atilde;o.  Um deles, o <application>KDM</application> (fornecido junto com o
	  <application>KDE</application>) &eacute; descrito adiante neste cap&iacute;tulo.
	  O <application>KDM</application> oferece v&aacute;rios avan&ccedil;os visuais e
	  floreios cosm&eacute;ticos, bem com as fun&ccedil;&otilde;es que
	  permitem aos usu&aacute;rios escolher seu gerenciador de janela
	  preferidos no momento do <literal>login</literal>.</para>
     </sect2>
  </sect1>

  <sect1 id="x11-wm">
    <sect1info>
      <authorgroup>
	<author>
	  <firstname>Valentino</firstname>
	  <surname>Vaschetto</surname>
	  <contrib>Contribui&ccedil;&atilde;o de </contrib>
	</author>
	<!-- Junho 2001 -->
      </authorgroup>
    </sect1info>

    <title>Ambientes para a &aacute;rea de trabalho</title>

    <para>Esta se&ccedil;&atilde;o descreve os diferentes ambientes para a &aacute;rea de trabalho
      dispon&iacute;veis para o X no FreeBSD.  Um <quote>ambiente para a &aacute;rea de trabalho</quote>
      pode significar qualquer coisa desde um simples gerenciador de janelas a uma
      cole&ccedil;&atilde;o completa de aplicativos, como o
      <application>KDE</application> ou o <application>GNOME</application>.
</para>

    <sect2 id="x11-wm-gnome">
      <title>GNOME</title>

      <sect3 id="x11-wm-gnome-about">
	<title>Sobre o GNOME</title>

	<indexterm><primary>GNOME</primary></indexterm>
	<para>O <application>GNOME</application> &eacute; um ambiente para a &aacute;rea de trabalho
	  amig&aacute;vel que permite aos usu&aacute;rios usar e configurar facilmente
	  seus computadores.  O <application>GNOME</application>
	  inclui um painel (para iniciar os aplicativos e para a exibi&ccedil;&atilde;o do
	  estado), uma &aacute;rea de trabalho (onde os dados e os aplicativos podem ser
	  colocados), um conjunto de ferramentas e aplicativos padr&atilde;o, e
	  um conjunto de conven&ccedil;&otilde;es que facilitam a coopera&ccedil;&atilde;o
	  e a consist&ecirc;ncia entre as aplica&ccedil;&otilde;es.  Usu&aacute;rios de outros
	  sistemas operacionais ou ambientes se sentir&atilde;o em casa
	  usando um poderoso ambiente dirigido por gr&aacute;ficos provido pelo
	  <application>GNOME</application>.  Mais
	  informa&ccedil;&otilde;es sobre o <application>GNOME</application> no
	  FreeBSD podem ser encontrados no s&iacute;tio da www <ulink
	  url="http://www.FreeBSD.org/gnome">FreeBSD GNOME
	  Project</ulink>.</para>
      </sect3>

      <sect3 id="x11-wm-gnome-install">
	<title>Instalando o GNOME</title>

	<para>A forma mais f&aacute;cil de instalar
	  o <application>GNOME</application> &eacute; atrav&eacute;s do menu
	  <quote>Desktop Configuration</quote>, que significa <quote>configura&ccedil;&atilde;o da &aacute;rea de trabalho</quote>,
	  durante o processo de instala&ccedil;&atilde;o do FreeBSD como descrito em <xref
	  linkend="default-desktop"> do Cap&iacute;tulo&nbsp;2.  Ele tamb&eacute;m pode ser
	  facilmente instalado de um pacote ou da cole&ccedil;&atilde;o de
	  <literal>ports</literal>:</para>

	<para>Para instalar o pacote do <application>GNOME</application>
	  a partir da rede, basta entrar:</para>

	<screen>&prompt.root; <userinput>pkg_add -r gnome2</userinput></screen>

	<para>Para construir o <application>GNOME</application> a partir dos fontes, utilize
	  a &aacute;rvore de <literal>ports</literal>:</para>

	<screen>&prompt.root; <userinput>cd /usr/ports/x11/gnome2</userinput>
&prompt.root; <userinput>make install clean</userinput></screen>

	<para>Uma vez que o <application>GNOME</application> esteja instalado,
	  o servidor X deve ser instru&iacute;do para iniciar o
	  <application>GNOME</application> ao inv&eacute;s do gerenciador de janela
	  padr&atilde;o.  Se um <filename>.xinitrc</filename> personalizado estiver em
	  uso, basta substituir a linha que inicia o gerenciador de
	  janela atual para que, ao inv&eacute;s dele, inicie o
	  <application>/usr/X11R6/bin/gnome-session</application>.
	  Se nada de especial foi feito no arquivo de configura&ccedil;&otilde;es,
	  ent&atilde;o &eacute; suficiente apenas entrar:</para>

	<screen>&prompt.user; <userinput>echo "/usr/X11R6/bin/gnome-session" &gt; ~/.xinitrc</userinput></screen>

	<para>A seguir, entre com <command>startx</command>, e o
	  ambiente da &aacute;rea de trabalho <application>GNOME</application> vai ser
	  iniciado.</para>

	<note><para>Se um gerenciador de exibi&ccedil;&atilde;o, como o
	  <application>XDM</application>, estiver sendo usado, isso n&atilde;o vai funcionar.
	  Ao inv&eacute;s disso, crie um arquivo execut&aacute;vel <filename>.xsession</filename>
	  contendo o mesmo comando.  Para fazer isso, edite o arquivo
	  e substitua o comando do gerenciador de janela existente por
	  <application>/usr/X11R6/bin/gnome-session</application>:
</para></note>

	<screen>&prompt.user; <userinput>echo "#!/bin/sh" > ~/.xsession</userinput>
&prompt.user; <userinput>echo "/usr/X11R6/bin/gnome-session" >> ~/.xsession</userinput>
&prompt.user; <userinput>chmod +x ~/.xsession</userinput></screen>

	<para>Outra op&ccedil;&atilde;o &eacute; configurar o gerenciador de exibi&ccedil;&atilde;o para que
	  permita escolher o gerenciador de janela no momento do <literal>login</literal>; a se&ccedil;&atilde;o
	  <link linkend="x11-wm-kde-details">Detalhes do KDE</link>
	  explica como fazer isso para o <application>kdm</application>, o
	  gerenciador de exibi&ccedil;&atilde;o do <application>KDE</application>.</para>
      </sect3>

      <sect3 id="x11-wm-gnome-antialias">
	<title>Fontes com <literal>anti-alias</literal> no GNOME</title>

	<indexterm><primary>GNOME</primary>
	  <secondary>fontes com <literal>anti-alias</literal></secondary></indexterm>
	<para>A partir da vers&atilde;o 4.0.2, o <application>&xfree86;</application>
	  suporta <literal>anti-alias</literal> atrav&eacute;s de sua extens&atilde;o <quote>RENDER</quote>.
	  O Gtk+ 2.0 e posteriores (a caixa de ferramentas usada pelo
	  <application>GNOME</application>) pode utilizar essa
	  funcionalidade.  A configura&ccedil;&atilde;o do <literal>anti-alias</literal> est&aacute; descrita na
	  <xref linkend="antialias">.  Ent&atilde;o, com software atual,
	  <literal>anti-alias</literal> &eacute; poss&iacute;vel dentro da &aacute;rea de trabalho
	  <application>GNOME</application>.  Apenas v&aacute; para
	  <menuchoice>
	    <guimenu>Applications (aplica&ccedil;&otilde;es)</guimenu>
	    <guisubmenu>Desktop Preferences (prefer&ecirc;ncias da &aacute;rea de trabalho)</guisubmenu>
	    <guimenuitem>Font (fonte)</guimenuitem></menuchoice>, e escolha entre
	  <guibutton>Best shapes (melhores formas)</guibutton>,
	  <guibutton>Best contrast (melhor contraste)</guibutton>, ou
	  <guibutton>Subpixel smoothing (LCDs) (suaviza&ccedil;&atilde;o de subpixel)</guibutton>.  Para uma
	  aplica&ccedil;&atilde;o Gtk+ que n&atilde;o &eacute; parte da
	  &aacute;rea de trabalho <application>GNOME</application>, ajuste a
	  vari&aacute;vel de ambiente <varname>GDK_USE_XFT</varname> para
	  <literal>1</literal> antes de executar o programa.</para>
      </sect3>
    </sect2>

    <sect2 id="x11-wm-kde">
      <title>KDE</title>

      <indexterm><primary>KDE</primary></indexterm>
      <sect3 id="x11-wm-kde-about">
	<title>Sobre o KDE</title>

	<para>O <application>KDE</application> &eacute; um ambiente da &aacute;rea de trabalho
	  contempor&acirc;nea f&aacute;cil de usar.  Algumas das coisas que o
	  <application>KDE</application> oferece ao usu&aacute;rio s&atilde;o:</para>

	<itemizedlist>
	  <listitem>
	    <para>Uma &aacute;rea de trabalho contempor&acirc;nea bonita</para>
	  </listitem>

	  <listitem>
	    <para>Uma &aacute;rea de trabalho que exibe transpar&ecirc;ncia de rede completa</para>
	  </listitem>

	  <listitem>
	    <para>Um sistema de ajuda integrado que permite acesso conveniente
	      e consistente para esclarecer o uso da
	      &aacute;rea de trabalho <application>KDE</application> e seus
	      aplicativos</para>
	  </listitem>

	  <listitem>
	    <para>Visual e sensa&ccedil;&otilde;es consistentes de todos os
	      aplicativos do <application>KDE</application></para>
	  </listitem>

	  <listitem>
	    <para>Menus e barras de ferramentas padronizados, teclas de atalho, esquemas de cores,
	      etc.</para>
	  </listitem>

	  <listitem>
	    <para>Internacionaliza&ccedil;&atilde;o: o <application>KDE</application>
	      est&aacute; dispon&iacute;vel em mais de 40 idiomas</para>
	  </listitem>

	  <listitem>
	    <para>Configura&ccedil;&atilde;o da &aacute;rea de trabalho baseada em di&aacute;logos centralizados
	      consistentemente</para>
	  </listitem>

	  <listitem>
	    <para>Um grande n&uacute;mero de aplicativos
	      <application>KDE</application> &uacute;teis</para>
	  </listitem>
	</itemizedlist>

	<para>O <application>KDE</application> tem uma su&iacute;te de aplica&ccedil;&atilde;o para escrit&oacute;rios
	  baseada na tecnologia <quote>KParts</quote> do <application>KDE</application>
	  que consiste em
	  uma planilha, uma aplica&ccedil;&atilde;o para apresenta&ccedil;&otilde;es, um organizador,
	  um cliente de <literal>news</literal> e mais.  O <application>KDE</application> tamb&eacute;m
	  vem com um navegador da www chamado
	  <application>Konqueror</application>, que representa um
	  s&oacute;lido competidor para outros navegadores da www nos sistemas &unix;.
	  Mais informa&ccedil;&otilde;es sobre o <application>KDE</application>
	  podem ser encontrados no s&iacute;tio da www <ulink url="http://www.kde.org/">KDE
	  </ulink>.  Para informa&ccedil;&otilde;es e recursos espec&iacute;ficos do
	  <application>KDE</application> para o FreeBSD, consulte o s&iacute;tio da www
	  <ulink url="http://freebsd.kde.org/">FreeBSD-KDE
	  team</ulink>.</para>
      </sect3>

      <sect3 id="x11-wm-kde-install">
	<title>Instalando o KDE</title>

	<para>Tal como o <application>GNOME</application> ou qualquer
	  outro ambiente para a &aacute;rea de trabalho, a forma mais f&aacute;cil de instalar o
	  <application>KDE</application> &eacute; atrav&eacute;s do menu <quote>Desktop
	  Configuration</quote> (configura&ccedil;&atilde;o da &aacute;rea de trabalho) durante o processo de
	  a instala&ccedil;&atilde;o do FreeBSD como descrito na <xref linkend="default-desktop"> do Cap&iacute;tulo
	  2.  Mais uma vez, o software pode ser facilmente instalado de um pacote ou da
	  cole&ccedil;&atilde;o de <literal>ports</literal>:</para>

	<para>Para instalar o pacote do <application>KDE</application> a partir
	  da rede, basta entrar:</para>

	<screen>&prompt.root; <userinput>pkg_add -r kde</userinput></screen>

	<para>O &man.pkg.add.1; vai automaticamente buscar a &uacute;ltima vers&atilde;o da
	  aplica&ccedil;&atilde;o.</para>

	<para>Para construir o <application>KDE</application> a partir do c&oacute;digo fonte,
	  use a &aacute;rvore de <literal>ports</literal>:</para>

	<screen>&prompt.root; <userinput>cd /usr/ports/x11/kde3</userinput>
&prompt.root; <userinput>make install clean</userinput></screen>

	<para>Ap&oacute;s ter instalado o <application>KDE</application>,
	  o servidor X precisa ser instru&iacute;do em como lan&ccedil;ar este aplicativo
	  ao inv&eacute;s do gerenciador de janela padr&atilde;o.  Isso pode ser feito
	  editando o arquivo <filename>.xinitrc</filename>:</para>

	<screen>&prompt.user; <userinput>echo "exec startkde" &gt; ~/.xinitrc</userinput></screen>

	<para>Agora, sempre que o sistema de janela X for invocado com
	  <command>startx</command>,
	  o <application>KDE</application> ser&aacute; a &aacute;rea de trabalho.</para>

	<para>Se um gerenciador de exibi&ccedil;&atilde;o como o
	  <application>xdm</application> estiver sendo usado, a
	  configura&ccedil;&atilde;o &eacute; um pouco diferente.  Ao inv&eacute;s disso, edite o
	  arquivo <filename>.xsession</filename>.  Instru&ccedil;&otilde;es para o
	  <application>kdm</application> s&atilde;o descritas adiante
	  neste cap&iacute;tulo.</para>
      </sect3>
    </sect2>

    <sect2 id="x11-wm-kde-details">
	<title>Mais detalhes sobre o KDE</title>

	<para>Agora que o <application>KDE</application> est&aacute; instalado no
	  sistema, a maioria das coisas pode ser descoberta atrav&eacute;s das
	  p&aacute;ginas de ajuda, ou apenas apontando e clicando em v&aacute;rios menus.
	  Os usu&aacute;rios do &windows; ou &mac; v&atilde;o se sentir quase em casa.</para>

	<para>A melhor refer&ecirc;ncia para o <application>KDE</application> &eacute;
	  a sua documenta&ccedil;&atilde;o on-line.  O <application>KDE</application>
	  vem com seu pr&oacute;prio navegador da www,
	  o <application>Konqueror</application>, d&uacute;zias de aplicativos
	  &uacute;teis, e ampla documenta&ccedil;&atilde;o.  O resto desta
	  se&ccedil;&atilde;o discute os &iacute;tens t&eacute;cnicos que s&atilde;o
	  dif&iacute;ceis de aprender pela explora&ccedil;&atilde;o aleat&oacute;ria.</para>

      <sect3 id="x11-wm-kde-kdm">
	<title>O gerenciador de exibi&ccedil;&atilde;o do KDE</title>

	<indexterm><primary>KDE</primary>
	  <secondary>gerenciador de exibi&ccedil;&atilde;o</secondary></indexterm>
	<para>Um administrador de um sistema multiusu&aacute;rio pode desejar ter uma
	  tela para <literal>login</literal> gr&aacute;fica para saudar seus usu&aacute;rios.
	  O <link linkend="x-xdm"><filename>xdm</filename></link> pode ser
	  usado, como descrito anteriormente.  Entretanto,
	  o <application>KDE</application> inclui uma alternativa,
	  o <application>kdm</application>, que &eacute; concebido para
	  aparentar melhor e incluir mais op&ccedil;&otilde;es no momento do <literal>login</literal>.
	  Em particular, os usu&aacute;rios podem escolher facilmente (em um menu) qual
	  ambiente para a &aacute;rea de trabalho (<application>KDE</application>,
	  <application>GNOME</application>, ou outra coisa) ser&aacute; executado ap&oacute;s
	  efetuar o <literal>login</literal>.</para>

	<para>Para come&ccedil;ar, execute o painel de controle do <application>KDE</application>,
	  <command>kcontrol</command>, como
	  <username>root</username>.  Geralmente considera-se inseguro
	  executar todo o ambiente do X como
	  <username>root</username>.  Ao inv&eacute;s disso, execute o gerenciador de janela como
	  um usu&aacute;rio normal, abra uma janela de terminal (como o
	  <filename>xterm</filename> ou o <filename>konsole</filename> do <application>KDE</application>
	  ), mude para <username>root</username>
	  com <userinput>su</userinput> (o usu&aacute;rio deve estar no grupo
	  <groupname>wheel</groupname>
	  em <filename>/etc/group</filename> para isso), e ent&atilde;o
	  digite <userinput>kcontrol</userinput>.</para>

	<para>Clique no &iacute;cone da esquerda marcado como
	  <guibutton>System</guibutton> (sistema), ent&atilde;o em <guibutton>Login
	  manager</guibutton> (gerenciador de <literal>login</literal>).  &Agrave; direita h&aacute; v&aacute;rias
	  op&ccedil;&otilde;es configur&aacute;veis as quais o
	  manual do <application>KDE</application> vai explicar em maiores
	  detalhes.  Clique em <guibutton>sessions</guibutton> (sess&otilde;es) &agrave; direita.
	  Clique em <guibutton>New type</guibutton> (novo tipo) para acrescentar variados gerenciadores
	  de janela e ambientes de &aacute;rea de trabalho.  Estes s&atilde;o apenas r&oacute;tulos,
	  de forma que eles podem representar <application>KDE</application> e
	  <application>GNOME</application> ao inv&eacute;s de
	  <application>startkde</application> ou
	  <application>gnome-session</application>.
	  Inclua um r&oacute;tulo <literal>failsafe</literal> (modo de seguran&ccedil;a).</para>

	<para>Experimente com outros menus tamb&eacute;m, eles s&atilde;o principalmente
	  cosm&eacute;ticos e auto-explicativos.  Quando terminar clique o bot&atilde;o
	  <guibutton>Apply</guibutton> (aplicar) na parte de baixo,
	  e saia da central de controle (<foreignphrase>control center</foreignphrase>).</para>

	<para>Para ter certeza que o <application>kdm</application> entende
	  o que os r&oacute;tulos (<application>KDE</application>,
	  <application>GNOME</application> etc) significam, edite os arquivos usados
	  pelo <link linkend="x-xdm">xdm</link>.
	  <note><para>No <application>KDE 2.2</application> isso foi
	    modificado: o <application>kdm</application> agora usa seus pr&oacute;prios
	    arquivos de configura&ccedil;&atilde;o.  Por favor, verifique a documenta&ccedil;&atilde;o
	    do <application>KDE 2.2</application> para detalhes.</para>
	  </note>
	  Em um terminal, como <username>root</username>,
	  edite o arquivo
	  <filename>/usr/X11R6/lib/X11/xdm/Xsession</filename>.  H&aacute;
	  uma se&ccedil;&atilde;o no meio como isso:</para>

    <screen>case $# in
1)
	case $1 in
	failsafe)
		exec xterm -geometry 80x24-0-0
		;;
	esac
esac</screen>

	<para>Poucas linhas precisam ser acrescentadas a esta se&ccedil;&atilde;o.
	  Assumindo que os r&oacute;tulos utilizados foram <quote>KDE</quote> e
	  <quote>GNOME</quote>,
	  use o seguinte: (n.t.  Aparentemente h&aacute; um erro de caixa na inscri&ccedil;&atilde;o <quote>kde</quote>)</para>

    <screen>case $# in
1)
	case $1 in
	kde)
		exec /usr/local/bin/startkde
		;;
	GNOME)
		exec /usr/X11R6/bin/gnome-session
		;;
	failsafe)
		exec xterm -geometry 80x24-0-0
		;;
	esac
esac</screen>

	<para>Para que o fundo da &aacute;rea de trabalho no momento
	  do <literal>login</literal> no <application>KDE</application> seja contemplado,
	  as linhas a seguir precisam ser acrescentadas em
	  <filename>/usr/X11R6/lib/X11/xdm/Xsetup_0</filename>:</para>

	<screen>/usr/local/bin/kdmdesktop</screen>

	<para>Agora, assegure-se de ter o <application>kdm</application> listado em
	  <filename>/etc/ttys</filename> para ser iniciado na pr&oacute;xima inicializa&ccedil;&atilde;o.
	  Para fazer isso, basta seguir as instru&ccedil;&otilde;es da se&ccedil;&atilde;o
	  anterior em <link linkend="x-xdm">xdm</link> e substituir as
	  referencias anteriores ao programa <command>/usr/X11R6/bin/xdm</command>
	  por <command>/usr/local/bin/kdm</command>.</para>
      </sect3>

      <sect3 id="x11-wm-kde-antialias">
	<title>Fontes com <literal>anti-alias</literal></title>

	<indexterm><primary>KDE</primary>
	  <secondary>fontes com <literal>anti-alias</literal></secondary></indexterm>
	<para>A partir da vers&atilde;o 4.0.2, o
	  <application>&xfree86;</application> suporta <literal>anti-alias</literal> atrav&eacute;s
	  de sua extens&atilde;o <quote>RENDER</quote>, e desde a vers&atilde;o 2.3,
	  o Qt (a caixa de ferramentas usada pelo <application>KDE</application>) pode utilizar
	  essa funcionalidade.  Essa configura&ccedil;&atilde;o est&aacute; descrita na <xref
	  linkend="antialias"> sobre o <literal>anti-alias</literal> em fontes do X11.  Ent&atilde;o, com
	  software atualizado, &eacute; poss&iacute;vel usar <literal>anti-alias</literal> em uma
	  &aacute;rea de trabalho <application>KDE</application>.  Basta ir ao menu do KDE:
	  v&aacute; para
	  <menuchoice>
	    <guimenu>Preferences (prefer&ecirc;ncias)</guimenu>
	    <guisubmenu>Look and Feel (visual e sensa&ccedil;&atilde;o)</guisubmenu>
	    <guimenuitem>Fonts (fontes)</guimenuitem></menuchoice>, e clique na caixa de checagem
	  <guibutton>Use Anti-Aliasing for Fonts and Icons (usar anti-alias
	  para fontes e &iacute;cones)</guibutton>.  Para uma aplica&ccedil;&atilde;o Qt a qual n&atilde;o &eacute; parte do
	  <application>KDE</application>, a vari&aacute;vel de ambiente
	  <varname>QT_XFT</varname> precisa ser ajustada para <literal>true</literal>
	  antes de iniciar o programa.</para>

       </sect3>
     </sect2>

     <sect2 id="x11-wm-xfce">
	 <title>XFce</title>
       <sect3 id="x11-wm-xfce-about">
	 <title>Sobre o XFce</title>

	<para>O <application>XFce</application> &eacute; um ambiente da &aacute;rea de trabalho
	  baseado na caixa de ferramentas GTK
	  usado pelo <application>GNOME</application>, mas &eacute; muito mais
	  leve e indicado para quem quer uma &aacute;rea de trabalho simples e
	  eficiente e ainda f&aacute;cil de usar e configurar.
	  Visualmente, ela se parece muito com o
	  <application>CDE</application>, encontrado em sistemas &unix; comerciais.
	  Alguns recursos do <application>XFce</application>
	  s&atilde;o:</para>

	 <itemizedlist>
	   <listitem>
	     <para>Uma &aacute;rea de trabalho simples e f&aacute;cil de lidar</para>
	   </listitem>

	   <listitem>
	     <para>Totalmente configur&aacute;vel via mouse, com arrastar e
	       soltar (<foreignphrase>drag and drop</foreignphrase>), etc</para>
	   </listitem>

	   <listitem>
	     <para>O painel principal &eacute; muito similar ao <application>CDE</application>, com
	       menus, <literal>applets</literal> e lan&ccedil;adores de aplicativos</para>
	   </listitem>

	   <listitem>
	     <para>Gerenciador de janela integrado, gerenciador de arquivo, gerenciador de som,
	       um m&oacute;dulo de compatibilidade com o <application>GNOME</application>, e outras
	       coisas</para>
	   </listitem>

	   <listitem>
	     <para>Tematiz&aacute;vel (j&aacute; que usa o GTK)</para>
	   </listitem>

	   <listitem>
	   <para>R&aacute;pido, leve e eficiente: ideal para m&aacute;quinas mais antigas/lentas
	     ou m&aacute;quinas com limita&ccedil;&otilde;es de mem&oacute;ria</para>
	   </listitem>
	 </itemizedlist>

	 <para>Mais informa&ccedil;&otilde;es sobre o <application>XFce</application>
	   podem ser encontradas no <ulink url="http://www.xfce.org/">s&iacute;tio da www XFce
	   </ulink>.</para>
       </sect3>

       <sect3 id="x11-wm-xfce-install">
	 <title>Instalando o XFce</title>

	<para>Existe um pacote bin&aacute;rio do <application>XFce</application>
	  (quando este texto foi escrito).  Para instalar, basta entrar:</para>

	<screen>&prompt.root; <userinput>pkg_add -r xfce</userinput></screen>

	<para>Alternativamente, para construir do c&oacute;digo fonte, use a
	  cole&ccedil;&atilde;o de <literal>ports</literal>:</para>

	<screen>&prompt.root; <userinput>cd /usr/ports/x11-wm/xfce</userinput>
&prompt.root; <userinput>make install clean</userinput></screen>

	<para>Agora, diga ao servidor X para lan&ccedil;ar o
	 <application>XFce</application> na pr&oacute;xima vez que o X for iniciado.
	 Basta entrar com isso:</para>

	<screen>&prompt.user; <userinput>echo "/usr/X11R6/bin/startxfce" &gt; ~/.xinitrc</userinput></screen>

	<para>A pr&oacute;xima vez que o X for iniciado, o
	  <application>XFce</application> vai ser a &aacute;rea de trabalho.
	  Como antes, se um gerenciador de exibi&ccedil;&atilde;o como o
	  <filename>xdm</filename> estiver sendo usado, crie um
	  <filename>.xsession</filename>, como descrito na se&ccedil;&atilde;o sobre
	  o <link linkend="x11-wm-gnome">GNOME</link>, mas
	  com o comando <filename>/usr/X11R6/bin/startxfce</filename>;
	  ou, configure o gerenciador de exibi&ccedil;&atilde;o para permitir
	  a escolha da &aacute;rea de trabalho no momento do <literal>login</literal>, como foi explicado
	  na se&ccedil;&atilde;o sobre o <link linkend="x11-wm-kde-kdm">kdm</link>.</para>
      </sect3>
    </sect2>
  </sect1>

</chapter>

<!--
     Local Variables:
     mode: sgml
     sgml-declaration: "../chapter.decl"
     sgml-indent-data: t
     sgml-omittag: nil
     sgml-always-quote-attributes: t
     sgml-parent-document: ("../book.sgml" "part" "chapter")
     End:
-->
